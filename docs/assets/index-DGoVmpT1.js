(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Jh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pp={exports:{}},Su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function MI(){if(WT)return Su;WT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return Su.Fragment=e,Su.jsx=t,Su.jsxs=t,Su}var JT;function VI(){return JT||(JT=1,Pp.exports=MI()),Pp.exports}var b=VI(),Up={exports:{}},bu={},jp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function LI(){return ZT||(ZT=1,(function(n){function e(W,ue){var fe=W.length;W.push(ue);e:for(;0<fe;){var De=fe-1>>>1,ke=W[De];if(0<s(ke,ue))W[De]=ue,W[fe]=ke,fe=De;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ue=W[0],fe=W.pop();if(fe!==ue){W[0]=fe;e:for(var De=0,ke=W.length,P=ke>>>1;De<P;){var Z=2*(De+1)-1,se=W[Z],le=Z+1,ye=W[le];if(0>s(se,fe))le<ke&&0>s(ye,se)?(W[De]=ye,W[le]=fe,De=le):(W[De]=se,W[Z]=fe,De=Z);else if(le<ke&&0>s(ye,fe))W[De]=ye,W[le]=fe,De=le;else break e}}return ue}function s(W,ue){var fe=W.sortIndex-ue.sortIndex;return fe!==0?fe:W.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,_=null,S=3,N=!1,M=!1,U=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function oe(W){for(var ue=t(g);ue!==null;){if(ue.callback===null)i(g);else if(ue.startTime<=W)i(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(g)}}function ie(W){if(U=!1,oe(W),!M)if(t(p)!==null)M=!0,ae||(ae=!0,z());else{var ue=t(g);ue!==null&&ut(ie,ue.startTime-W)}}var ae=!1,x=-1,R=5,I=-1;function O(){return L?!0:!(n.unstable_now()-I<R)}function D(){if(L=!1,ae){var W=n.unstable_now();I=W;var ue=!0;try{e:{M=!1,U&&(U=!1,G(x),x=-1),N=!0;var fe=S;try{t:{for(oe(W),_=t(p);_!==null&&!(_.expirationTime>W&&O());){var De=_.callback;if(typeof De=="function"){_.callback=null,S=_.priorityLevel;var ke=De(_.expirationTime<=W);if(W=n.unstable_now(),typeof ke=="function"){_.callback=ke,oe(W),ue=!0;break t}_===t(p)&&i(p),oe(W)}else i(p);_=t(p)}if(_!==null)ue=!0;else{var P=t(g);P!==null&&ut(ie,P.startTime-W),ue=!1}}break e}finally{_=null,S=fe,N=!1}ue=void 0}}finally{ue?z():ae=!1}}}var z;if(typeof Y=="function")z=function(){Y(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,qe=V.port2;V.port1.onmessage=D,z=function(){qe.postMessage(null)}}else z=function(){F(D,0)};function ut(W,ue){x=F(function(){W(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var fe=S;S=ue;try{return W()}finally{S=fe}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var fe=S;S=W;try{return ue()}finally{S=fe}},n.unstable_scheduleCallback=function(W,ue,fe){var De=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?De+fe:De):fe=De,W){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=fe+ke,W={id:v++,callback:ue,priorityLevel:W,startTime:fe,expirationTime:ke,sortIndex:-1},fe>De?(W.sortIndex=fe,e(g,W),t(p)===null&&W===t(g)&&(U?(G(x),x=-1):U=!0,ut(ie,fe-De))):(W.sortIndex=ke,e(p,W),M||N||(M=!0,ae||(ae=!0,z()))),W},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(W){var ue=S;return function(){var fe=S;S=ue;try{return W.apply(this,arguments)}finally{S=fe}}}})(zp)),zp}var ew;function kI(){return ew||(ew=1,jp.exports=LI()),jp.exports}var Bp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function PI(){if(tw)return Re;tw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function N(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function F(P,Z,se){this.props=P,this.context=Z,this.refs=L,this.updater=se||M}F.prototype.isReactComponent={},F.prototype.setState=function(P,Z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Z,"setState")},F.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function G(){}G.prototype=F.prototype;function Y(P,Z,se){this.props=P,this.context=Z,this.refs=L,this.updater=se||M}var oe=Y.prototype=new G;oe.constructor=Y,U(oe,F.prototype),oe.isPureReactComponent=!0;var ie=Array.isArray;function ae(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(P,Z,se){var le=se.ref;return{$$typeof:n,type:P,key:Z,ref:le!==void 0?le:null,props:se}}function O(P,Z){return I(P.type,Z,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function z(P){var Z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(se){return Z[se]})}var V=/\/+/g;function qe(P,Z){return typeof P=="object"&&P!==null&&P.key!=null?z(""+P.key):Z.toString(36)}function ut(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ae,ae):(P.status="pending",P.then(function(Z){P.status==="pending"&&(P.status="fulfilled",P.value=Z)},function(Z){P.status==="pending"&&(P.status="rejected",P.reason=Z)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function W(P,Z,se,le,ye){var be=typeof P;(be==="undefined"||be==="boolean")&&(P=null);var Oe=!1;if(P===null)Oe=!0;else switch(be){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(P.$$typeof){case n:case e:Oe=!0;break;case v:return Oe=P._init,W(Oe(P._payload),Z,se,le,ye)}}if(Oe)return ye=ye(P),Oe=le===""?"."+qe(P,0):le,ie(ye)?(se="",Oe!=null&&(se=Oe.replace(V,"$&/")+"/"),W(ye,Z,se,"",function(dn){return dn})):ye!=null&&(D(ye)&&(ye=O(ye,se+(ye.key==null||P&&P.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+Oe)),Z.push(ye)),1;Oe=0;var pt=le===""?".":le+":";if(ie(P))for(var Xe=0;Xe<P.length;Xe++)le=P[Xe],be=pt+qe(le,Xe),Oe+=W(le,Z,se,be,ye);else if(Xe=N(P),typeof Xe=="function")for(P=Xe.call(P),Xe=0;!(le=P.next()).done;)le=le.value,be=pt+qe(le,Xe++),Oe+=W(le,Z,se,be,ye);else if(be==="object"){if(typeof P.then=="function")return W(ut(P),Z,se,le,ye);throw Z=String(P),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ue(P,Z,se){if(P==null)return P;var le=[],ye=0;return W(P,le,"","",function(be){return Z.call(se,be,ye++)}),le}function fe(P){if(P._status===-1){var Z=P._result;Z=Z(),Z.then(function(se){(P._status===0||P._status===-1)&&(P._status=1,P._result=se)},function(se){(P._status===0||P._status===-1)&&(P._status=2,P._result=se)}),P._status===-1&&(P._status=0,P._result=Z)}if(P._status===1)return P._result.default;throw P._result}var De=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ke={map:ue,forEach:function(P,Z,se){ue(P,function(){Z.apply(this,arguments)},se)},count:function(P){var Z=0;return ue(P,function(){Z++}),Z},toArray:function(P){return ue(P,function(Z){return Z})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Re.Activity=_,Re.Children=ke,Re.Component=F,Re.Fragment=t,Re.Profiler=s,Re.PureComponent=Y,Re.StrictMode=i,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Re.__COMPILER_RUNTIME={__proto__:null,c:function(P){return x.H.useMemoCache(P)}},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(P,Z,se){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var le=U({},P.props),ye=P.key;if(Z!=null)for(be in Z.key!==void 0&&(ye=""+Z.key),Z)!R.call(Z,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Z.ref===void 0||(le[be]=Z[be]);var be=arguments.length-2;if(be===1)le.children=se;else if(1<be){for(var Oe=Array(be),pt=0;pt<be;pt++)Oe[pt]=arguments[pt+2];le.children=Oe}return I(P.type,ye,le)},Re.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Re.createElement=function(P,Z,se){var le,ye={},be=null;if(Z!=null)for(le in Z.key!==void 0&&(be=""+Z.key),Z)R.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=Z[le]);var Oe=arguments.length-2;if(Oe===1)ye.children=se;else if(1<Oe){for(var pt=Array(Oe),Xe=0;Xe<Oe;Xe++)pt[Xe]=arguments[Xe+2];ye.children=pt}if(P&&P.defaultProps)for(le in Oe=P.defaultProps,Oe)ye[le]===void 0&&(ye[le]=Oe[le]);return I(P,be,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:d,render:P}},Re.isValidElement=D,Re.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:fe}},Re.memo=function(P,Z){return{$$typeof:g,type:P,compare:Z===void 0?null:Z}},Re.startTransition=function(P){var Z=x.T,se={};x.T=se;try{var le=P(),ye=x.S;ye!==null&&ye(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ae,De)}catch(be){De(be)}finally{Z!==null&&se.types!==null&&(Z.types=se.types),x.T=Z}},Re.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Re.use=function(P){return x.H.use(P)},Re.useActionState=function(P,Z,se){return x.H.useActionState(P,Z,se)},Re.useCallback=function(P,Z){return x.H.useCallback(P,Z)},Re.useContext=function(P){return x.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,Z){return x.H.useDeferredValue(P,Z)},Re.useEffect=function(P,Z){return x.H.useEffect(P,Z)},Re.useEffectEvent=function(P){return x.H.useEffectEvent(P)},Re.useId=function(){return x.H.useId()},Re.useImperativeHandle=function(P,Z,se){return x.H.useImperativeHandle(P,Z,se)},Re.useInsertionEffect=function(P,Z){return x.H.useInsertionEffect(P,Z)},Re.useLayoutEffect=function(P,Z){return x.H.useLayoutEffect(P,Z)},Re.useMemo=function(P,Z){return x.H.useMemo(P,Z)},Re.useOptimistic=function(P,Z){return x.H.useOptimistic(P,Z)},Re.useReducer=function(P,Z,se){return x.H.useReducer(P,Z,se)},Re.useRef=function(P){return x.H.useRef(P)},Re.useState=function(P){return x.H.useState(P)},Re.useSyncExternalStore=function(P,Z,se){return x.H.useSyncExternalStore(P,Z,se)},Re.useTransition=function(){return x.H.useTransition()},Re.version="19.2.0",Re}var nw;function ty(){return nw||(nw=1,Bp.exports=PI()),Bp.exports}var Fp={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function UI(){if(rw)return an;rw=1;var n=ty();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},an.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,_=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:N}):v==="script"&&i.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},an.requestFormReset=function(p){i.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.0",an}var iw;function _S(){if(iw)return Fp.exports;iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fp.exports=UI(),Fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function jI(){if(aw)return bu;aw=1;var n=kI(),e=ty(),t=_S();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(i(188))}function g(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return p(h),r;if(m===u)return p(h),a;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=m;else{for(var E=!1,A=h.child;A;){if(A===o){E=!0,o=h,u=m;break}if(A===u){E=!0,u=h,o=m;break}A=A.sibling}if(!E){for(A=m.child;A;){if(A===o){E=!0,o=m,u=h;break}if(A===u){E=!0,u=m,o=h;break}A=A.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function v(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=v(r),a!==null)return a;r=r.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function qe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case F:return"Profiler";case L:return"StrictMode";case ie:return"Suspense";case ae:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case M:return"Portal";case Y:return r.displayName||"Context";case G:return(r._context.displayName||"Context")+".Consumer";case oe:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return a=r.displayName||null,a!==null?a:qe(r.type)||"Memo";case R:a=r._payload,r=r._init;try{return qe(r(a))}catch{}}return null}var ut=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},De=[],ke=-1;function P(r){return{current:r}}function Z(r){0>ke||(r.current=De[ke],De[ke]=null,ke--)}function se(r,a){ke++,De[ke]=r.current,r.current=a}var le=P(null),ye=P(null),be=P(null),Oe=P(null);function pt(r,a){switch(se(be,a),se(ye,r),se(le,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?ET(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=ET(a),r=TT(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(le),se(le,r)}function Xe(){Z(le),Z(ye),Z(be)}function dn(r){r.memoizedState!==null&&se(Oe,r);var a=le.current,o=TT(a,r.type);a!==o&&(se(ye,r),se(le,o))}function rr(r){ye.current===r&&(Z(le),Z(ye)),Oe.current===r&&(Z(Oe),_u._currentValue=fe)}var Sn,kn;function Kt(r){if(Sn===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Sn=a&&a[1]||"",kn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sn+r+kn}var We=!1;function Pn(r,a){if(!r||We)return"";We=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var K=X}Reflect.construct(r,[],ne)}else{try{ne.call()}catch(X){K=X}r.call(ne.prototype)}}else{try{throw Error()}catch(X){K=X}(ne=r())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],A=m[1];if(E&&A){var k=E.split(`
`),q=A.split(`
`);for(h=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(u===k.length||h===q.length)for(u=k.length-1,h=q.length-1;1<=u&&0<=h&&k[u]!==q[h];)h--;for(;1<=u&&0<=h;u--,h--)if(k[u]!==q[h]){if(u!==1||h!==1)do if(u--,h--,0>h||k[u]!==q[h]){var J=`
`+k[u].replace(" at new "," at ");return r.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",r.displayName)),J}while(1<=u&&0<=h);break}}}finally{We=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Kt(o):""}function ir(r,a){switch(r.tag){case 26:case 27:case 5:return Kt(r.type);case 16:return Kt("Lazy");case 13:return r.child!==a&&a!==null?Kt("Suspense Fallback"):Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return Pn(r.type,!1);case 11:return Pn(r.type.render,!1);case 1:return Pn(r.type,!0);case 31:return Kt("Activity");default:return""}}function Wa(r){try{var a="",o=null;do a+=ir(r,o),o=r,r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var vt=Object.prototype.hasOwnProperty,Tt=n.unstable_scheduleCallback,Rr=n.unstable_cancelCallback,Sl=n.unstable_shouldYield,Qs=n.unstable_requestPaint,Ft=n.unstable_now,ii=n.unstable_getCurrentPriorityLevel,Pe=n.unstable_ImmediatePriority,Un=n.unstable_UserBlockingPriority,ar=n.unstable_NormalPriority,zd=n.unstable_LowPriority,wc=n.unstable_IdlePriority,Sc=n.log,bc=n.unstable_setDisableYieldValue,sr=null,Yt=null;function jn(r){if(typeof Sc=="function"&&bc(r),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(sr,r)}catch{}}var wt=Math.clz32?Math.clz32:Rc,Ac=Math.log,Xs=Math.LN2;function Rc(r){return r>>>=0,r===0?32:31-(Ac(r)/Xs|0)|0}var Cr=256,Ja=262144,Ct=4194304;function Ir(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Nr(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,m=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?h=Ir(u):(E&=A,E!==0?h=Ir(E):o||(o=A&~r,o!==0&&(h=Ir(o))))):(A=u&~m,A!==0?h=Ir(A):E!==0?h=Ir(E):o||(o=u&~r,o!==0&&(h=Ir(o)))),h===0?0:a!==0&&a!==h&&(a&m)===0&&(m=h&-h,o=a&-a,m>=o||m===32&&(o&4194048)!==0)?a:h}function or(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Bd(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cc(){var r=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),r}function xr(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Za(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Fd(r,a,o,u,h,m){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,k=r.expirationTimes,q=r.hiddenUpdates;for(o=E&~o;0<o;){var J=31-wt(o),ne=1<<J;A[J]=0,k[J]=-1;var K=q[J];if(K!==null)for(q[J]=null,J=0;J<K.length;J++){var X=K[J];X!==null&&(X.lane&=-536870913)}o&=~ne}u!==0&&es(r,u,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~a))}function es(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-wt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function bl(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-wt(o),h=1<<u;h&a|r[u]&a&&(r[u]|=a),o&=~h}}function Al(r,a){var o=a&-a;return o=(o&42)!==0?1:ts(o),(o&(r.suspendedLanes|a))!==0?0:o}function ts(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ai(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ic(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:$T(r.type))}function lr(r,a){var o=ue.p;try{return ue.p=r,a()}finally{ue.p=o}}var ur=Math.random().toString(36).slice(2),It="__reactFiber$"+ur,Ht="__reactProps$"+ur,Dr="__reactContainer$"+ur,Ws="__reactEvents$"+ur,Hd="__reactListeners$"+ur,Nc="__reactHandles$"+ur,xc="__reactResources$"+ur,Or="__reactMarker$"+ur;function Js(r){delete r[It],delete r[Ht],delete r[Ws],delete r[Hd],delete r[Nc]}function Mr(r){var a=r[It];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Dr]||o[It]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=IT(r);r!==null;){if(o=r[It])return o;r=IT(r)}return a}r=o,o=r.parentNode}return null}function zn(r){if(r=r[It]||r[Dr]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function bn(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Vr(r){var a=r[xc];return a||(a=r[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Nt(r){r[Or]=!0}var Rl=new Set,Cl={};function Lr(r,a){kr(r,a),kr(r+"Capture",a)}function kr(r,a){for(Cl[r]=a,r=0;r<a.length;r++)Rl.add(a[r])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},xl={};function Dc(r){return vt.call(xl,r)?!0:vt.call(Nl,r)?!1:Il.test(r)?xl[r]=!0:(Nl[r]=!0,!1)}function Zs(r,a,o){if(Dc(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function An(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function xt(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}function $t(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Yi(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Dl(r,a,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,m=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(E){o=""+E,m.call(this,E)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ze(r){if(!r._valueTracker){var a=Yi(r)?"checked":"value";r._valueTracker=Dl(r,a,""+r[a])}}function ns(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Yi(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function Pr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var rs=/[\n"\\]/g;function mn(r){return r.replace(rs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function eo(r,a,o,u,h,m,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+$t(a)):r.value!==""+$t(a)&&(r.value=""+$t(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Ol(r,E,$t(a)):o!=null?Ol(r,E,$t(o)):u!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+$t(A):r.removeAttribute("name")}function Oc(r,a,o,u,h,m,E,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),a!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||a!=null)){Ze(r);return}o=o!=null?""+$t(o):"",a=a!=null?""+$t(a):o,A||a===r.value||(r.value=a),r.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),Ze(r)}function Ol(r,a,o){a==="number"&&Pr(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Qi(r,a,o,u){if(r=r.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=a.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+$t(o),a=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function Mc(r,a,o){if(a!=null&&(a=""+$t(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+$t(o):""}function Xi(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(ut(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=$t(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),Ze(r)}function pn(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var Vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||Vc.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Vl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&o[h]!==u&&Ml(r,h,u)}else for(var m in a)a.hasOwnProperty(m)&&Ml(r,m,a[m])}function to(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(r){return Wi.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function cr(){}var Ll=null;function Bn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ji=null,Ur=null;function is(r){var a=zn(r);if(a&&(r=a.stateNode)){var o=r[Ht]||null;e:switch(r=a.stateNode,a.type){case"input":if(eo(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+mn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var h=u[Ht]||null;if(!h)throw Error(i(90));eo(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&ns(u)}break e;case"textarea":Mc(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Qi(r,!!o.multiple,a,!1)}}}var ro=!1;function Zi(r,a,o){if(ro)return r(a,o);ro=!0;try{var u=r(a);return u}finally{if(ro=!1,(Ji!==null||Ur!==null)&&(Nf(),Ji&&(a=Ji,r=Ur,Ur=Ji=null,is(a),r)))for(a=0;a<r.length;a++)is(r[a])}}function fr(r,a){var o=r.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),as=!1;if(Fn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){as=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{as=!1}var jr=null,kl=null,ss=null;function Pl(){if(ss)return ss;var r,a=kl,o=a.length,u,h="value"in jr?jr.value:jr.textContent,m=h.length;for(r=0;r<o&&a[r]===h[r];r++);var E=o-r;for(u=1;u<=E&&a[o-u]===h[m-u];u++);return ss=h.slice(r,1<u?1-u:void 0)}function os(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function si(){return!0}function hr(){return!1}function Qt(r){function a(o,u,h,m,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?si:hr,this.isPropagationStopped=hr,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),a}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zr=Qt(oi),ea=_({},oi,{view:0,detail:0}),Ul=Qt(ea),ta,io,Br,ao=_({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Br&&(Br&&r.type==="mousemove"?(ta=r.screenX-Br.screenX,io=r.screenY-Br.screenY):io=ta=0,Br=r),ta)},movementY:function(r){return"movementY"in r?r.movementY:io}}),jl=Qt(ao),ls=_({},ao,{dataTransfer:0}),kc=Qt(ls),Pc=_({},ea,{relatedTarget:0}),us=Qt(Pc),zl=_({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Uc=Qt(zl),so=_({},oi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jc=Qt(so),zc=_({},oi,{data:0}),Fr=Qt(zc),Bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $c(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Hc[r])?!!a[r]:!1}function na(){return $c}var cn=_({},ea,{key:function(r){if(r.key){var a=Bc[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=os(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Fc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(r){return r.type==="keypress"?os(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?os(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qc=Qt(cn),Gc=_({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),li=Qt(Gc),f=_({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),y=Qt(f),T=_({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Qt(T),H=_({},ao,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Qt(H),ce=_({},oi,{newState:0,oldState:0}),Ie=Qt(ce),St=[9,13,27,32],Ye=Fn&&"CompositionEvent"in window,dt=null;Fn&&"documentMode"in document&&(dt=document.documentMode);var Hn=Fn&&"TextEvent"in window&&!dt,Hr=Fn&&(!Ye||dt&&8<dt&&11>=dt),dr=" ",mr=!1;function cs(r,a){switch(r){case"keyup":return St.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var lo=!1;function rC(r,a){switch(r){case"compositionend":return oo(a);case"keypress":return a.which!==32?null:(mr=!0,dr);case"textInput":return r=a.data,r===dr&&mr?null:r;default:return null}}function iC(r,a){if(lo)return r==="compositionend"||!Ye&&cs(r,a)?(r=Pl(),ss=kl=jr=null,lo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Hr&&a.locale!=="ko"?null:a.data;default:return null}}var aC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!aC[r.type]:a==="textarea"}function Ov(r,a,o,u){Ji?Ur?Ur.push(u):Ur=[u]:Ji=u,a=kf(a,"onChange"),0<a.length&&(o=new zr("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var Bl=null,Fl=null;function sC(r){mT(r,0)}function Kc(r){var a=bn(r);if(ns(a))return r}function Mv(r,a){if(r==="change")return a}var Vv=!1;if(Fn){var $d;if(Fn){var qd="oninput"in document;if(!qd){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),qd=typeof Lv.oninput=="function"}$d=qd}else $d=!1;Vv=$d&&(!document.documentMode||9<document.documentMode)}function kv(){Bl&&(Bl.detachEvent("onpropertychange",Pv),Fl=Bl=null)}function Pv(r){if(r.propertyName==="value"&&Kc(Fl)){var a=[];Ov(a,Fl,r,Bn(r)),Zi(sC,a)}}function oC(r,a,o){r==="focusin"?(kv(),Bl=a,Fl=o,Bl.attachEvent("onpropertychange",Pv)):r==="focusout"&&kv()}function lC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Kc(Fl)}function uC(r,a){if(r==="click")return Kc(a)}function cC(r,a){if(r==="input"||r==="change")return Kc(a)}function fC(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Rn=typeof Object.is=="function"?Object.is:fC;function Hl(r,a){if(Rn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!vt.call(a,h)||!Rn(r[h],a[h]))return!1}return!0}function Uv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function jv(r,a){var o=Uv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Uv(o)}}function zv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?zv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Bv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Pr(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=Pr(r.document)}return a}function Gd(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var hC=Fn&&"documentMode"in document&&11>=document.documentMode,uo=null,Kd=null,$l=null,Yd=!1;function Fv(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yd||uo==null||uo!==Pr(u)||(u=uo,"selectionStart"in u&&Gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$l&&Hl($l,u)||($l=u,u=kf(Kd,"onSelect"),0<u.length&&(a=new zr("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=uo)))}function fs(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var co={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Qd={},Hv={};Fn&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function hs(r){if(Qd[r])return Qd[r];if(!co[r])return r;var a=co[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in Hv)return Qd[r]=a[o];return r}var $v=hs("animationend"),qv=hs("animationiteration"),Gv=hs("animationstart"),dC=hs("transitionrun"),mC=hs("transitionstart"),pC=hs("transitioncancel"),Kv=hs("transitionend"),Yv=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xd.push("scrollEnd");function pr(r,a){Yv.set(r,a),Lr(a,[r])}var Yc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},$n=[],fo=0,Wd=0;function Qc(){for(var r=fo,a=Wd=fo=0;a<r;){var o=$n[a];$n[a++]=null;var u=$n[a];$n[a++]=null;var h=$n[a];$n[a++]=null;var m=$n[a];if($n[a++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}m!==0&&Qv(o,h,m)}}function Xc(r,a,o,u){$n[fo++]=r,$n[fo++]=a,$n[fo++]=o,$n[fo++]=u,Wd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Jd(r,a,o,u){return Xc(r,a,o,u),Wc(r)}function ds(r,a){return Xc(r,null,null,a),Wc(r)}function Qv(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&a!==null&&(h=31-wt(o),r=m.hiddenUpdates,u=r[h],u===null?r[h]=[a]:u.push(a),a.lane=o|536870912),m):null}function Wc(r){if(50<hu)throw hu=0,op=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var ho={};function gC(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,a,o,u){return new gC(r,a,o,u)}function Zd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ui(r,a){var o=r.alternate;return o===null?(o=Cn(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Xv(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Jc(r,a,o,u,h,m){var E=0;if(u=r,typeof r=="function")Zd(r)&&(E=1);else if(typeof r=="string")E=TI(r,o,le.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Cn(31,o,a,h),r.elementType=I,r.lanes=m,r;case U:return ms(o.children,h,m,a);case L:E=8,h|=24;break;case F:return r=Cn(12,o,a,h|2),r.elementType=F,r.lanes=m,r;case ie:return r=Cn(13,o,a,h),r.elementType=ie,r.lanes=m,r;case ae:return r=Cn(19,o,a,h),r.elementType=ae,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:E=10;break e;case G:E=9;break e;case oe:E=11;break e;case x:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=Cn(E,o,a,h),a.elementType=r,a.type=u,a.lanes=m,a}function ms(r,a,o,u){return r=Cn(7,r,u,a),r.lanes=o,r}function em(r,a,o){return r=Cn(6,r,null,a),r.lanes=o,r}function Wv(r){var a=Cn(18,null,null,0);return a.stateNode=r,a}function tm(r,a,o){return a=Cn(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Jv=new WeakMap;function qn(r,a){if(typeof r=="object"&&r!==null){var o=Jv.get(r);return o!==void 0?o:(a={value:r,source:a,stack:Wa(a)},Jv.set(r,a),a)}return{value:r,source:a,stack:Wa(a)}}var mo=[],po=0,Zc=null,ql=0,Gn=[],Kn=0,ra=null,$r=1,qr="";function ci(r,a){mo[po++]=ql,mo[po++]=Zc,Zc=r,ql=a}function Zv(r,a,o){Gn[Kn++]=$r,Gn[Kn++]=qr,Gn[Kn++]=ra,ra=r;var u=$r;r=qr;var h=32-wt(u)-1;u&=~(1<<h),o+=1;var m=32-wt(a)+h;if(30<m){var E=h-h%5;m=(u&(1<<E)-1).toString(32),u>>=E,h-=E,$r=1<<32-wt(a)+h|o<<h|u,qr=m+r}else $r=1<<m|o<<h|u,qr=r}function nm(r){r.return!==null&&(ci(r,1),Zv(r,1,0))}function rm(r){for(;r===Zc;)Zc=mo[--po],mo[po]=null,ql=mo[--po],mo[po]=null;for(;r===ra;)ra=Gn[--Kn],Gn[Kn]=null,qr=Gn[--Kn],Gn[Kn]=null,$r=Gn[--Kn],Gn[Kn]=null}function e_(r,a){Gn[Kn++]=$r,Gn[Kn++]=qr,Gn[Kn++]=ra,$r=a.id,qr=a.overflow,ra=r}var Xt=null,ct=null,He=!1,ia=null,Yn=!1,im=Error(i(519));function aa(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(qn(a,r)),im}function t_(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[It]=r,a[Ht]=u,o){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(o=0;o<mu.length;o++)Ve(mu[o],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Ve("invalid",a),Oc(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",a);break;case"textarea":Ve("invalid",a),Xi(a,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||vT(a.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",a),Ve("toggle",a)),u.onScroll!=null&&Ve("scroll",a),u.onScrollEnd!=null&&Ve("scrollend",a),u.onClick!=null&&(a.onclick=cr),a=!0):a=!1,a||aa(r,!0)}function n_(r){for(Xt=r.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Xt=Xt.return}}function go(r){if(r!==Xt)return!1;if(!He)return n_(r),He=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||wp(r.type,r.memoizedProps)),o=!o),o&&ct&&aa(r),n_(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ct=CT(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ct=CT(r)}else a===27?(a=ct,_a(r.type)?(r=Cp,Cp=null,ct=r):ct=a):ct=Xt?Xn(r.stateNode.nextSibling):null;return!0}function ps(){ct=Xt=null,He=!1}function am(){var r=ia;return r!==null&&(_n===null?_n=r:_n.push.apply(_n,r),ia=null),r}function Gl(r){ia===null?ia=[r]:ia.push(r)}var sm=P(null),gs=null,fi=null;function sa(r,a,o){se(sm,a._currentValue),a._currentValue=o}function hi(r){r._currentValue=sm.current,Z(sm)}function om(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function lm(r,a,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var E=h.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=h;for(var k=0;k<a.length;k++)if(A.context===a[k]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),om(m.return,o,r),u||(E=null);break e}m=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),om(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function yo(r,a,o,u){r=null;for(var h=a,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=h.type;Rn(h.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(h===Oe.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(_u):r=[_u])}h=h.return}r!==null&&lm(a,r,o,u),a.flags|=262144}function ef(r){for(r=r.firstContext;r!==null;){if(!Rn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ys(r){gs=r,fi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Wt(r){return r_(gs,r)}function tf(r,a){return gs===null&&ys(r),r_(r,a)}function r_(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},fi===null){if(r===null)throw Error(i(308));fi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else fi=fi.next=a;return o}var yC=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},vC=n.unstable_scheduleCallback,_C=n.unstable_NormalPriority,Dt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function um(){return{controller:new yC,data:new Map,refCount:0}}function Kl(r){r.refCount--,r.refCount===0&&vC(_C,function(){r.controller.abort()})}var Yl=null,cm=0,vo=0,_o=null;function EC(r,a){if(Yl===null){var o=Yl=[];cm=0,vo=dp(),_o={status:"pending",value:void 0,then:function(u){o.push(u)}}}return cm++,a.then(i_,i_),a}function i_(){if(--cm===0&&Yl!==null){_o!==null&&(_o.status="fulfilled");var r=Yl;Yl=null,vo=0,_o=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function TC(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var a_=W.S;W.S=function(r,a){FE=Ft(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&EC(r,a),a_!==null&&a_(r,a)};var vs=P(null);function fm(){var r=vs.current;return r!==null?r:st.pooledCache}function nf(r,a){a===null?se(vs,vs.current):se(vs,a.pool)}function s_(){var r=fm();return r===null?null:{parent:Dt._currentValue,pool:r}}var Eo=Error(i(460)),hm=Error(i(474)),rf=Error(i(542)),af={then:function(){}};function o_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function l_(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(cr,cr),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,c_(r),r;default:if(typeof a.status=="string")a.then(cr,cr);else{if(r=st,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,c_(r),r}throw Es=a,Eo}}function _s(r){try{var a=r._init;return a(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Es=o,Eo):o}}var Es=null;function u_(){if(Es===null)throw Error(i(459));var r=Es;return Es=null,r}function c_(r){if(r===Eo||r===rf)throw Error(i(483))}var To=null,Ql=0;function sf(r){var a=Ql;return Ql+=1,To===null&&(To=[]),l_(To,r,a)}function Xl(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function of(r,a){throw a.$$typeof===S?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function f_(r){function a(B,j){if(r){var $=B.deletions;$===null?(B.deletions=[j],B.flags|=16):$.push(j)}}function o(B,j){if(!r)return null;for(;j!==null;)a(B,j),j=j.sibling;return null}function u(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function h(B,j){return B=ui(B,j),B.index=0,B.sibling=null,B}function m(B,j,$){return B.index=$,r?($=B.alternate,$!==null?($=$.index,$<j?(B.flags|=67108866,j):$):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function E(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function A(B,j,$,ee){return j===null||j.tag!==6?(j=em($,B.mode,ee),j.return=B,j):(j=h(j,$),j.return=B,j)}function k(B,j,$,ee){var ve=$.type;return ve===U?J(B,j,$.props.children,ee,$.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&_s(ve)===j.type)?(j=h(j,$.props),Xl(j,$),j.return=B,j):(j=Jc($.type,$.key,$.props,null,B.mode,ee),Xl(j,$),j.return=B,j)}function q(B,j,$,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==$.containerInfo||j.stateNode.implementation!==$.implementation?(j=tm($,B.mode,ee),j.return=B,j):(j=h(j,$.children||[]),j.return=B,j)}function J(B,j,$,ee,ve){return j===null||j.tag!==7?(j=ms($,B.mode,ee,ve),j.return=B,j):(j=h(j,$),j.return=B,j)}function ne(B,j,$){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=em(""+j,B.mode,$),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return $=Jc(j.type,j.key,j.props,null,B.mode,$),Xl($,j),$.return=B,$;case M:return j=tm(j,B.mode,$),j.return=B,j;case R:return j=_s(j),ne(B,j,$)}if(ut(j)||z(j))return j=ms(j,B.mode,$,null),j.return=B,j;if(typeof j.then=="function")return ne(B,sf(j),$);if(j.$$typeof===Y)return ne(B,tf(B,j),$);of(B,j)}return null}function K(B,j,$,ee){var ve=j!==null?j.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ve!==null?null:A(B,j,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case N:return $.key===ve?k(B,j,$,ee):null;case M:return $.key===ve?q(B,j,$,ee):null;case R:return $=_s($),K(B,j,$,ee)}if(ut($)||z($))return ve!==null?null:J(B,j,$,ee,null);if(typeof $.then=="function")return K(B,j,sf($),ee);if($.$$typeof===Y)return K(B,j,tf(B,$),ee);of(B,$)}return null}function X(B,j,$,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get($)||null,A(j,B,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:return B=B.get(ee.key===null?$:ee.key)||null,k(j,B,ee,ve);case M:return B=B.get(ee.key===null?$:ee.key)||null,q(j,B,ee,ve);case R:return ee=_s(ee),X(B,j,$,ee,ve)}if(ut(ee)||z(ee))return B=B.get($)||null,J(j,B,ee,ve,null);if(typeof ee.then=="function")return X(B,j,$,sf(ee),ve);if(ee.$$typeof===Y)return X(B,j,$,tf(j,ee),ve);of(j,ee)}return null}function me(B,j,$,ee){for(var ve=null,Ge=null,pe=j,xe=j=0,je=null;pe!==null&&xe<$.length;xe++){pe.index>xe?(je=pe,pe=null):je=pe.sibling;var Ke=K(B,pe,$[xe],ee);if(Ke===null){pe===null&&(pe=je);break}r&&pe&&Ke.alternate===null&&a(B,pe),j=m(Ke,j,xe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke,pe=je}if(xe===$.length)return o(B,pe),He&&ci(B,xe),ve;if(pe===null){for(;xe<$.length;xe++)pe=ne(B,$[xe],ee),pe!==null&&(j=m(pe,j,xe),Ge===null?ve=pe:Ge.sibling=pe,Ge=pe);return He&&ci(B,xe),ve}for(pe=u(pe);xe<$.length;xe++)je=X(pe,B,xe,$[xe],ee),je!==null&&(r&&je.alternate!==null&&pe.delete(je.key===null?xe:je.key),j=m(je,j,xe),Ge===null?ve=je:Ge.sibling=je,Ge=je);return r&&pe.forEach(function(ba){return a(B,ba)}),He&&ci(B,xe),ve}function Ee(B,j,$,ee){if($==null)throw Error(i(151));for(var ve=null,Ge=null,pe=j,xe=j=0,je=null,Ke=$.next();pe!==null&&!Ke.done;xe++,Ke=$.next()){pe.index>xe?(je=pe,pe=null):je=pe.sibling;var ba=K(B,pe,Ke.value,ee);if(ba===null){pe===null&&(pe=je);break}r&&pe&&ba.alternate===null&&a(B,pe),j=m(ba,j,xe),Ge===null?ve=ba:Ge.sibling=ba,Ge=ba,pe=je}if(Ke.done)return o(B,pe),He&&ci(B,xe),ve;if(pe===null){for(;!Ke.done;xe++,Ke=$.next())Ke=ne(B,Ke.value,ee),Ke!==null&&(j=m(Ke,j,xe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke);return He&&ci(B,xe),ve}for(pe=u(pe);!Ke.done;xe++,Ke=$.next())Ke=X(pe,B,xe,Ke.value,ee),Ke!==null&&(r&&Ke.alternate!==null&&pe.delete(Ke.key===null?xe:Ke.key),j=m(Ke,j,xe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke);return r&&pe.forEach(function(OI){return a(B,OI)}),He&&ci(B,xe),ve}function at(B,j,$,ee){if(typeof $=="object"&&$!==null&&$.type===U&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case N:e:{for(var ve=$.key;j!==null;){if(j.key===ve){if(ve=$.type,ve===U){if(j.tag===7){o(B,j.sibling),ee=h(j,$.props.children),ee.return=B,B=ee;break e}}else if(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&_s(ve)===j.type){o(B,j.sibling),ee=h(j,$.props),Xl(ee,$),ee.return=B,B=ee;break e}o(B,j);break}else a(B,j);j=j.sibling}$.type===U?(ee=ms($.props.children,B.mode,ee,$.key),ee.return=B,B=ee):(ee=Jc($.type,$.key,$.props,null,B.mode,ee),Xl(ee,$),ee.return=B,B=ee)}return E(B);case M:e:{for(ve=$.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===$.containerInfo&&j.stateNode.implementation===$.implementation){o(B,j.sibling),ee=h(j,$.children||[]),ee.return=B,B=ee;break e}else{o(B,j);break}else a(B,j);j=j.sibling}ee=tm($,B.mode,ee),ee.return=B,B=ee}return E(B);case R:return $=_s($),at(B,j,$,ee)}if(ut($))return me(B,j,$,ee);if(z($)){if(ve=z($),typeof ve!="function")throw Error(i(150));return $=ve.call($),Ee(B,j,$,ee)}if(typeof $.then=="function")return at(B,j,sf($),ee);if($.$$typeof===Y)return at(B,j,tf(B,$),ee);of(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,j!==null&&j.tag===6?(o(B,j.sibling),ee=h(j,$),ee.return=B,B=ee):(o(B,j),ee=em($,B.mode,ee),ee.return=B,B=ee),E(B)):o(B,j)}return function(B,j,$,ee){try{Ql=0;var ve=at(B,j,$,ee);return To=null,ve}catch(pe){if(pe===Eo||pe===rf)throw pe;var Ge=Cn(29,pe,null,B.mode);return Ge.lanes=ee,Ge.return=B,Ge}finally{}}}var Ts=f_(!0),h_=f_(!1),oa=!1;function dm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function la(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ua(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=Wc(r),Qv(r,null,o),a}return Xc(r,u,a,o),Wc(r)}function Wl(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,bl(r,o)}}function pm(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?h=m=a:m=m.next=a}else h=m=a;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var gm=!1;function Jl(){if(gm){var r=_o;if(r!==null)throw r}}function Zl(r,a,o,u){gm=!1;var h=r.updateQueue;oa=!1;var m=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var k=A,q=k.next;k.next=null,E===null?m=q:E.next=q,E=k;var J=r.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==E&&(A===null?J.firstBaseUpdate=q:A.next=q,J.lastBaseUpdate=k))}if(m!==null){var ne=h.baseState;E=0,J=q=k=null,A=m;do{var K=A.lane&-536870913,X=K!==A.lane;if(X?(Ue&K)===K:(u&K)===K){K!==0&&K===vo&&(gm=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var me=r,Ee=A;K=a;var at=o;switch(Ee.tag){case 1:if(me=Ee.payload,typeof me=="function"){ne=me.call(at,ne,K);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ee.payload,K=typeof me=="function"?me.call(at,ne,K):me,K==null)break e;ne=_({},ne,K);break e;case 2:oa=!0}}K=A.callback,K!==null&&(r.flags|=64,X&&(r.flags|=8192),X=h.callbacks,X===null?h.callbacks=[K]:X.push(K))}else X={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(q=J=X,k=ne):J=J.next=X,E|=K;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;X=A,A=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);J===null&&(k=ne),h.baseState=k,h.firstBaseUpdate=q,h.lastBaseUpdate=J,m===null&&(h.shared.lanes=0),ma|=E,r.lanes=E,r.memoizedState=ne}}function d_(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function m_(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)d_(o[r],a)}var wo=P(null),lf=P(0);function p_(r,a){r=Ti,se(lf,r),se(wo,a),Ti=r|a.baseLanes}function ym(){se(lf,Ti),se(wo,wo.current)}function vm(){Ti=lf.current,Z(wo),Z(lf)}var In=P(null),Qn=null;function ca(r){var a=r.alternate;se(bt,bt.current&1),se(In,r),Qn===null&&(a===null||wo.current!==null||a.memoizedState!==null)&&(Qn=r)}function _m(r){se(bt,bt.current),se(In,r),Qn===null&&(Qn=r)}function g_(r){r.tag===22?(se(bt,bt.current),se(In,r),Qn===null&&(Qn=r)):fa()}function fa(){se(bt,bt.current),se(In,In.current)}function Nn(r){Z(In),Qn===r&&(Qn=null),Z(bt)}var bt=P(0);function uf(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ap(o)||Rp(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var di=0,Ne=null,rt=null,Ot=null,cf=!1,So=!1,ws=!1,ff=0,eu=0,bo=null,wC=0;function _t(){throw Error(i(321))}function Em(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Rn(r[o],a[o]))return!1;return!0}function Tm(r,a,o,u,h,m){return di=m,Ne=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=r===null||r.memoizedState===null?Z_:km,ws=!1,m=o(u,h),ws=!1,So&&(m=v_(a,o,u,h)),y_(r),m}function y_(r){W.H=ru;var a=rt!==null&&rt.next!==null;if(di=0,Ot=rt=Ne=null,cf=!1,eu=0,bo=null,a)throw Error(i(300));r===null||Mt||(r=r.dependencies,r!==null&&ef(r)&&(Mt=!0))}function v_(r,a,o,u){Ne=r;var h=0;do{if(So&&(bo=null),eu=0,So=!1,25<=h)throw Error(i(301));if(h+=1,Ot=rt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=eE,m=a(o,u)}while(So);return m}function SC(){var r=W.H,a=r.useState()[0];return a=typeof a.then=="function"?tu(a):a,r=r.useState()[0],(rt!==null?rt.memoizedState:null)!==r&&(Ne.flags|=1024),a}function wm(){var r=ff!==0;return ff=0,r}function Sm(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function bm(r){if(cf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}cf=!1}di=0,Ot=rt=Ne=null,So=!1,eu=ff=0,bo=null}function fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ne.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function At(){if(rt===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=rt.next;var a=Ot===null?Ne.memoizedState:Ot.next;if(a!==null)Ot=a,rt=r;else{if(r===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));rt=r,r={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Ot===null?Ne.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}function hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(r){var a=eu;return eu+=1,bo===null&&(bo=[]),r=l_(bo,r,a),a=Ne,(Ot===null?a.memoizedState:Ot.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?Z_:km),r}function df(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return tu(r);if(r.$$typeof===Y)return Wt(r)}throw Error(i(438,String(r)))}function Am(r){var a=null,o=Ne.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=hf(),Ne.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=O;return a.index++,o}function mi(r,a){return typeof a=="function"?a(r):a}function mf(r){var a=At();return Rm(a,rt,r)}function Rm(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,m=u.pending;if(m!==null){if(h!==null){var E=h.next;h.next=m.next,m.next=E}a.baseQueue=h=m,u.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{a=h.next;var A=E=null,k=null,q=a,J=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(Ue&ne)===ne:(di&ne)===ne){var K=q.revertLane;if(K===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===vo&&(J=!0);else if((di&K)===K){q=q.next,K===vo&&(J=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(A=k=ne,E=m):k=k.next=ne,Ne.lanes|=K,ma|=K;ne=q.action,ws&&o(m,ne),m=q.hasEagerState?q.eagerState:o(m,ne)}else K={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(A=k=K,E=m):k=k.next=K,Ne.lanes|=ne,ma|=ne;q=q.next}while(q!==null&&q!==a);if(k===null?E=m:k.next=A,!Rn(m,r.memoizedState)&&(Mt=!0,J&&(o=_o,o!==null)))throw o;r.memoizedState=m,r.baseState=E,r.baseQueue=k,u.lastRenderedState=m}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Cm(r){var a=At(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,m=a.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do m=r(m,E.action),E=E.next;while(E!==h);Rn(m,a.memoizedState)||(Mt=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),o.lastRenderedState=m}return[m,u]}function __(r,a,o){var u=Ne,h=At(),m=He;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=a();var E=!Rn((rt||h).memoizedState,o);if(E&&(h.memoizedState=o,Mt=!0),h=h.queue,xm(w_.bind(null,u,h,r),[r]),h.getSnapshot!==a||E||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Ao(9,{destroy:void 0},T_.bind(null,u,h,o,a),null),st===null)throw Error(i(349));m||(di&127)!==0||E_(u,a,o)}return o}function E_(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Ne.updateQueue,a===null?(a=hf(),Ne.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function T_(r,a,o,u){a.value=o,a.getSnapshot=u,S_(a)&&b_(r)}function w_(r,a,o){return o(function(){S_(a)&&b_(r)})}function S_(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Rn(r,o)}catch{return!0}}function b_(r){var a=ds(r,2);a!==null&&En(a,r,2)}function Im(r){var a=fn();if(typeof r=="function"){var o=r;if(r=o(),ws){jn(!0);try{o()}finally{jn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:r},a}function A_(r,a,o,u){return r.baseState=o,Rm(r,rt,typeof u=="function"?u:mi)}function bC(r,a,o,u,h){if(yf(r))throw Error(i(485));if(r=a.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};W.T!==null?o(!0):m.isTransition=!1,u(m),o=a.pending,o===null?(m.next=a.pending=m,R_(a,m)):(m.next=o.next,a.pending=o.next=m)}}function R_(r,a){var o=a.action,u=a.payload,h=r.state;if(a.isTransition){var m=W.T,E={};W.T=E;try{var A=o(h,u),k=W.S;k!==null&&k(E,A),C_(r,a,A)}catch(q){Nm(r,a,q)}finally{m!==null&&E.types!==null&&(m.types=E.types),W.T=m}}else try{m=o(h,u),C_(r,a,m)}catch(q){Nm(r,a,q)}}function C_(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){I_(r,a,u)},function(u){return Nm(r,a,u)}):I_(r,a,o)}function I_(r,a,o){a.status="fulfilled",a.value=o,N_(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,R_(r,o)))}function Nm(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,N_(a),a=a.next;while(a!==u)}r.action=null}function N_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function x_(r,a){return a}function D_(r,a){if(He){var o=st.formState;if(o!==null){e:{var u=Ne;if(He){if(ct){t:{for(var h=ct,m=Yn;h.nodeType!==8;){if(!m){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){ct=Xn(h.nextSibling),u=h.data==="F!";break e}}aa(u)}u=!1}u&&(a=o[0])}}return o=fn(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:a},o.queue=u,o=X_.bind(null,Ne,u),u.dispatch=o,u=Im(!1),m=Lm.bind(null,Ne,!1,u.queue),u=fn(),h={state:a,dispatch:null,action:r,pending:null},u.queue=h,o=bC.bind(null,Ne,h,m,o),h.dispatch=o,u.memoizedState=r,[a,o,!1]}function O_(r){var a=At();return M_(a,rt,r)}function M_(r,a,o){if(a=Rm(r,a,x_)[0],r=mf(mi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=tu(a)}catch(E){throw E===Eo?rf:E}else u=a;a=At();var h=a.queue,m=h.dispatch;return o!==a.memoizedState&&(Ne.flags|=2048,Ao(9,{destroy:void 0},AC.bind(null,h,o),null)),[u,m,r]}function AC(r,a){r.action=a}function V_(r){var a=At(),o=rt;if(o!==null)return M_(a,o,r);At(),a=a.memoizedState,o=At();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function Ao(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=Ne.updateQueue,a===null&&(a=hf(),Ne.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function L_(){return At().memoizedState}function pf(r,a,o,u){var h=fn();Ne.flags|=r,h.memoizedState=Ao(1|a,{destroy:void 0},o,u===void 0?null:u)}function gf(r,a,o,u){var h=At();u=u===void 0?null:u;var m=h.memoizedState.inst;rt!==null&&u!==null&&Em(u,rt.memoizedState.deps)?h.memoizedState=Ao(a,m,o,u):(Ne.flags|=r,h.memoizedState=Ao(1|a,m,o,u))}function k_(r,a){pf(8390656,8,r,a)}function xm(r,a){gf(2048,8,r,a)}function RC(r){Ne.flags|=4;var a=Ne.updateQueue;if(a===null)a=hf(),Ne.updateQueue=a,a.events=[r];else{var o=a.events;o===null?a.events=[r]:o.push(r)}}function P_(r){var a=At().memoizedState;return RC({ref:a,nextImpl:r}),function(){if((Qe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function U_(r,a){return gf(4,2,r,a)}function j_(r,a){return gf(4,4,r,a)}function z_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function B_(r,a,o){o=o!=null?o.concat([r]):null,gf(4,4,z_.bind(null,a,r),o)}function Dm(){}function F_(r,a){var o=At();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Em(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function H_(r,a){var o=At();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Em(a,u[1]))return u[0];if(u=r(),ws){jn(!0);try{r()}finally{jn(!1)}}return o.memoizedState=[u,a],u}function Om(r,a,o){return o===void 0||(di&1073741824)!==0&&(Ue&261930)===0?r.memoizedState=a:(r.memoizedState=o,r=$E(),Ne.lanes|=r,ma|=r,o)}function $_(r,a,o,u){return Rn(o,a)?o:wo.current!==null?(r=Om(r,o,u),Rn(r,a)||(Mt=!0),r):(di&42)===0||(di&1073741824)!==0&&(Ue&261930)===0?(Mt=!0,r.memoizedState=o):(r=$E(),Ne.lanes|=r,ma|=r,a)}function q_(r,a,o,u,h){var m=ue.p;ue.p=m!==0&&8>m?m:8;var E=W.T,A={};W.T=A,Lm(r,!1,a,o);try{var k=h(),q=W.S;if(q!==null&&q(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var J=TC(k,u);nu(r,a,J,On(r))}else nu(r,a,u,On(r))}catch(ne){nu(r,a,{then:function(){},status:"rejected",reason:ne},On())}finally{ue.p=m,E!==null&&A.types!==null&&(E.types=A.types),W.T=E}}function CC(){}function Mm(r,a,o,u){if(r.tag!==5)throw Error(i(476));var h=G_(r).queue;q_(r,h,a,fe,o===null?CC:function(){return K_(r),o(u)})}function G_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:fe},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function K_(r){var a=G_(r);a.next===null&&(a=r.alternate.memoizedState),nu(r,a.next.queue,{},On())}function Vm(){return Wt(_u)}function Y_(){return At().memoizedState}function Q_(){return At().memoizedState}function IC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=On();r=la(o);var u=ua(a,r,o);u!==null&&(En(u,a,o),Wl(u,a,o)),a={cache:um()},r.payload=a;return}a=a.return}}function NC(r,a,o){var u=On();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},yf(r)?W_(a,o):(o=Jd(r,a,o,u),o!==null&&(En(o,r,u),J_(o,a,u)))}function X_(r,a,o){var u=On();nu(r,a,o,u)}function nu(r,a,o,u){var h={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(yf(r))W_(a,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var E=a.lastRenderedState,A=m(E,o);if(h.hasEagerState=!0,h.eagerState=A,Rn(A,E))return Xc(r,a,h,0),st===null&&Qc(),!1}catch{}finally{}if(o=Jd(r,a,h,u),o!==null)return En(o,r,u),J_(o,a,u),!0}return!1}function Lm(r,a,o,u){if(u={lane:2,revertLane:dp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},yf(r)){if(a)throw Error(i(479))}else a=Jd(r,o,u,2),a!==null&&En(a,r,2)}function yf(r){var a=r.alternate;return r===Ne||a!==null&&a===Ne}function W_(r,a){So=cf=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function J_(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,bl(r,o)}}var ru={readContext:Wt,use:df,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};ru.useEffectEvent=_t;var Z_={readContext:Wt,use:df,useCallback:function(r,a){return fn().memoizedState=[r,a===void 0?null:a],r},useContext:Wt,useEffect:k_,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,pf(4194308,4,z_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return pf(4194308,4,r,a)},useInsertionEffect:function(r,a){pf(4,2,r,a)},useMemo:function(r,a){var o=fn();a=a===void 0?null:a;var u=r();if(ws){jn(!0);try{r()}finally{jn(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=fn();if(o!==void 0){var h=o(a);if(ws){jn(!0);try{o(a)}finally{jn(!1)}}}else h=a;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=NC.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var a=fn();return r={current:r},a.memoizedState=r},useState:function(r){r=Im(r);var a=r.queue,o=X_.bind(null,Ne,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:Dm,useDeferredValue:function(r,a){var o=fn();return Om(o,r,a)},useTransition:function(){var r=Im(!1);return r=q_.bind(null,Ne,r.queue,!0,!1),fn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=Ne,h=fn();if(He){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),st===null)throw Error(i(349));(Ue&127)!==0||E_(u,a,o)}h.memoizedState=o;var m={value:o,getSnapshot:a};return h.queue=m,k_(w_.bind(null,u,m,r),[r]),u.flags|=2048,Ao(9,{destroy:void 0},T_.bind(null,u,m,o,a),null),o},useId:function(){var r=fn(),a=st.identifierPrefix;if(He){var o=qr,u=$r;o=(u&~(1<<32-wt(u)-1)).toString(32)+o,a="_"+a+"R_"+o,o=ff++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=wC++,a="_"+a+"r_"+o.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:Vm,useFormState:D_,useActionState:D_,useOptimistic:function(r){var a=fn();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Lm.bind(null,Ne,!0,o),o.dispatch=a,[r,a]},useMemoCache:Am,useCacheRefresh:function(){return fn().memoizedState=IC.bind(null,Ne)},useEffectEvent:function(r){var a=fn(),o={impl:r};return a.memoizedState=o,function(){if((Qe&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},km={readContext:Wt,use:df,useCallback:F_,useContext:Wt,useEffect:xm,useImperativeHandle:B_,useInsertionEffect:U_,useLayoutEffect:j_,useMemo:H_,useReducer:mf,useRef:L_,useState:function(){return mf(mi)},useDebugValue:Dm,useDeferredValue:function(r,a){var o=At();return $_(o,rt.memoizedState,r,a)},useTransition:function(){var r=mf(mi)[0],a=At().memoizedState;return[typeof r=="boolean"?r:tu(r),a]},useSyncExternalStore:__,useId:Y_,useHostTransitionStatus:Vm,useFormState:O_,useActionState:O_,useOptimistic:function(r,a){var o=At();return A_(o,rt,r,a)},useMemoCache:Am,useCacheRefresh:Q_};km.useEffectEvent=P_;var eE={readContext:Wt,use:df,useCallback:F_,useContext:Wt,useEffect:xm,useImperativeHandle:B_,useInsertionEffect:U_,useLayoutEffect:j_,useMemo:H_,useReducer:Cm,useRef:L_,useState:function(){return Cm(mi)},useDebugValue:Dm,useDeferredValue:function(r,a){var o=At();return rt===null?Om(o,r,a):$_(o,rt.memoizedState,r,a)},useTransition:function(){var r=Cm(mi)[0],a=At().memoizedState;return[typeof r=="boolean"?r:tu(r),a]},useSyncExternalStore:__,useId:Y_,useHostTransitionStatus:Vm,useFormState:V_,useActionState:V_,useOptimistic:function(r,a){var o=At();return rt!==null?A_(o,rt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Am,useCacheRefresh:Q_};eE.useEffectEvent=P_;function Pm(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:_({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Um={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=On(),h=la(u);h.payload=a,o!=null&&(h.callback=o),a=ua(r,h,u),a!==null&&(En(a,r,u),Wl(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=On(),h=la(u);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=ua(r,h,u),a!==null&&(En(a,r,u),Wl(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=On(),u=la(o);u.tag=2,a!=null&&(u.callback=a),a=ua(r,u,o),a!==null&&(En(a,r,o),Wl(a,r,o))}};function tE(r,a,o,u,h,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):a.prototype&&a.prototype.isPureReactComponent?!Hl(o,u)||!Hl(h,m):!0}function nE(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&Um.enqueueReplaceState(a,a.state,null)}function Ss(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=_({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}function rE(r){Yc(r)}function iE(r){console.error(r)}function aE(r){Yc(r)}function vf(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function sE(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jm(r,a,o){return o=la(o),o.tag=3,o.payload={element:null},o.callback=function(){vf(r,a)},o}function oE(r){return r=la(r),r.tag=3,r}function lE(r,a,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;r.payload=function(){return h(m)},r.callback=function(){sE(a,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){sE(a,o,u),typeof h!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function xC(r,a,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&yo(a,o,h,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Qn===null?xf():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===af?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),cp(r,u,h)),!1;case 22:return o.flags|=65536,u===af?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),cp(r,u,h)),!1}throw Error(i(435,o.tag))}return cp(r,u,h),xf(),!1}if(He)return a=In.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==im&&(r=Error(i(422),{cause:u}),Gl(qn(r,o)))):(u!==im&&(a=Error(i(423),{cause:u}),Gl(qn(a,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=qn(u,o),h=jm(r.stateNode,u,h),pm(r,h),Et!==4&&(Et=2)),!1;var m=Error(i(520),{cause:u});if(m=qn(m,o),fu===null?fu=[m]:fu.push(m),Et!==4&&(Et=2),a===null)return!0;u=qn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=jm(o.stateNode,u,r),pm(o,r),!1;case 1:if(a=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(pa===null||!pa.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=oE(h),lE(h,r,o,u),pm(o,h),!1}o=o.return}while(o!==null);return!1}var zm=Error(i(461)),Mt=!1;function Jt(r,a,o,u){a.child=r===null?h_(a,null,o,u):Ts(a,r.child,o,u)}function uE(r,a,o,u,h){o=o.render;var m=a.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return ys(a),u=Tm(r,a,o,E,m,h),A=wm(),r!==null&&!Mt?(Sm(r,a,h),pi(r,a,h)):(He&&A&&nm(a),a.flags|=1,Jt(r,a,u,h),a.child)}function cE(r,a,o,u,h){if(r===null){var m=o.type;return typeof m=="function"&&!Zd(m)&&m.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=m,fE(r,a,m,u,h)):(r=Jc(o.type,null,u,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(m=r.child,!Ym(r,h)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:Hl,o(E,u)&&r.ref===a.ref)return pi(r,a,h)}return a.flags|=1,r=ui(m,u),r.ref=a.ref,r.return=a,a.child=r}function fE(r,a,o,u,h){if(r!==null){var m=r.memoizedProps;if(Hl(m,u)&&r.ref===a.ref)if(Mt=!1,a.pendingProps=u=m,Ym(r,h))(r.flags&131072)!==0&&(Mt=!0);else return a.lanes=r.lanes,pi(r,a,h)}return Bm(r,a,o,u,h)}function hE(r,a,o,u){var h=u.children,m=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,r!==null){for(u=a.child=r.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~m}else u=0,a.child=null;return dE(r,a,m,o,u)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&nf(a,m!==null?m.cachePool:null),m!==null?p_(a,m):ym(),g_(a);else return u=a.lanes=536870912,dE(r,a,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(nf(a,m.cachePool),p_(a,m),fa(),a.memoizedState=null):(r!==null&&nf(a,null),ym(),fa());return Jt(r,a,h,o),a.child}function iu(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function dE(r,a,o,u,h){var m=fm();return m=m===null?null:{parent:Dt._currentValue,pool:m},a.memoizedState={baseLanes:o,cachePool:m},r!==null&&nf(a,null),ym(),g_(a),r!==null&&yo(r,a,u,!0),a.childLanes=h,null}function _f(r,a){return a=Tf({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function mE(r,a,o){return Ts(a,r.child,null,o),r=_f(a,a.pendingProps),r.flags|=2,Nn(a),a.memoizedState=null,r}function DC(r,a,o){var u=a.pendingProps,h=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(He){if(u.mode==="hidden")return r=_f(a,u),a.lanes=536870912,iu(null,r);if(_m(a),(r=ct)?(r=RT(r,Yn),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:ra!==null?{id:$r,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},o=Wv(r),o.return=a,a.child=o,Xt=a,ct=null)):r=null,r===null)throw aa(a);return a.lanes=536870912,null}return _f(a,u)}var m=r.memoizedState;if(m!==null){var E=m.dehydrated;if(_m(a),h)if(a.flags&256)a.flags&=-257,a=mE(r,a,o);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(Mt||yo(r,a,o,!1),h=(o&r.childLanes)!==0,Mt||h){if(u=st,u!==null&&(E=Al(u,o),E!==0&&E!==m.retryLane))throw m.retryLane=E,ds(r,E),En(u,r,E),zm;xf(),a=mE(r,a,o)}else r=m.treeContext,ct=Xn(E.nextSibling),Xt=a,He=!0,ia=null,Yn=!1,r!==null&&e_(a,r),a=_f(a,u),a.flags|=4096;return a}return r=ui(r.child,{mode:u.mode,children:u.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Ef(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function Bm(r,a,o,u,h){return ys(a),o=Tm(r,a,o,u,void 0,h),u=wm(),r!==null&&!Mt?(Sm(r,a,h),pi(r,a,h)):(He&&u&&nm(a),a.flags|=1,Jt(r,a,o,h),a.child)}function pE(r,a,o,u,h,m){return ys(a),a.updateQueue=null,o=v_(a,u,o,h),y_(r),u=wm(),r!==null&&!Mt?(Sm(r,a,m),pi(r,a,m)):(He&&u&&nm(a),a.flags|=1,Jt(r,a,o,m),a.child)}function gE(r,a,o,u,h){if(ys(a),a.stateNode===null){var m=ho,E=o.contextType;typeof E=="object"&&E!==null&&(m=Wt(E)),m=new o(u,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Um,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=u,m.state=a.memoizedState,m.refs={},dm(a),E=o.contextType,m.context=typeof E=="object"&&E!==null?Wt(E):ho,m.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Pm(a,o,E,u),m.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Um.enqueueReplaceState(m,m.state,null),Zl(a,u,m,h),Jl(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){m=a.stateNode;var A=a.memoizedProps,k=Ss(o,A);m.props=k;var q=m.context,J=o.contextType;E=ho,typeof J=="object"&&J!==null&&(E=Wt(J));var ne=o.getDerivedStateFromProps;J=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||q!==E)&&nE(a,m,u,E),oa=!1;var K=a.memoizedState;m.state=K,Zl(a,u,m,h),Jl(),q=a.memoizedState,A||K!==q||oa?(typeof ne=="function"&&(Pm(a,o,ne,u),q=a.memoizedState),(k=oa||tE(a,o,k,u,K,q,E))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=q),m.props=u,m.state=q,m.context=E,u=k):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{m=a.stateNode,mm(r,a),E=a.memoizedProps,J=Ss(o,E),m.props=J,ne=a.pendingProps,K=m.context,q=o.contextType,k=ho,typeof q=="object"&&q!==null&&(k=Wt(q)),A=o.getDerivedStateFromProps,(q=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ne||K!==k)&&nE(a,m,u,k),oa=!1,K=a.memoizedState,m.state=K,Zl(a,u,m,h),Jl();var X=a.memoizedState;E!==ne||K!==X||oa||r!==null&&r.dependencies!==null&&ef(r.dependencies)?(typeof A=="function"&&(Pm(a,o,A,u),X=a.memoizedState),(J=oa||tE(a,o,J,u,K,X,k)||r!==null&&r.dependencies!==null&&ef(r.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,k)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=X),m.props=u,m.state=X,m.context=k,u=J):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=1024),u=!1)}return m=u,Ef(r,a),u=(a.flags&128)!==0,m||u?(m=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,r!==null&&u?(a.child=Ts(a,r.child,null,h),a.child=Ts(a,null,o,h)):Jt(r,a,o,h),a.memoizedState=m.state,r=a.child):r=pi(r,a,h),r}function yE(r,a,o,u){return ps(),a.flags|=256,Jt(r,a,o,u),a.child}var Fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(r){return{baseLanes:r,cachePool:s_()}}function $m(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Dn),r}function vE(r,a,o){var u=a.pendingProps,h=!1,m=(a.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(bt.current&2)!==0),E&&(h=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(He){if(h?ca(a):fa(),(r=ct)?(r=RT(r,Yn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:ra!==null?{id:$r,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},o=Wv(r),o.return=a,a.child=o,Xt=a,ct=null)):r=null,r===null)throw aa(a);return Rp(r)?a.lanes=32:a.lanes=536870912,null}var A=u.children;return u=u.fallback,h?(fa(),h=a.mode,A=Tf({mode:"hidden",children:A},h),u=ms(u,h,o,null),A.return=a,u.return=a,A.sibling=u,a.child=A,u=a.child,u.memoizedState=Hm(o),u.childLanes=$m(r,E,o),a.memoizedState=Fm,iu(null,u)):(ca(a),qm(a,A))}var k=r.memoizedState;if(k!==null&&(A=k.dehydrated,A!==null)){if(m)a.flags&256?(ca(a),a.flags&=-257,a=Gm(r,a,o)):a.memoizedState!==null?(fa(),a.child=r.child,a.flags|=128,a=null):(fa(),A=u.fallback,h=a.mode,u=Tf({mode:"visible",children:u.children},h),A=ms(A,h,o,null),A.flags|=2,u.return=a,A.return=a,u.sibling=A,a.child=u,Ts(a,r.child,null,o),u=a.child,u.memoizedState=Hm(o),u.childLanes=$m(r,E,o),a.memoizedState=Fm,a=iu(null,u));else if(ca(a),Rp(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var q=E.dgst;E=q,u=Error(i(419)),u.stack="",u.digest=E,Gl({value:u,source:null,stack:null}),a=Gm(r,a,o)}else if(Mt||yo(r,a,o,!1),E=(o&r.childLanes)!==0,Mt||E){if(E=st,E!==null&&(u=Al(E,o),u!==0&&u!==k.retryLane))throw k.retryLane=u,ds(r,u),En(E,r,u),zm;Ap(A)||xf(),a=Gm(r,a,o)}else Ap(A)?(a.flags|=192,a.child=r.child,a=null):(r=k.treeContext,ct=Xn(A.nextSibling),Xt=a,He=!0,ia=null,Yn=!1,r!==null&&e_(a,r),a=qm(a,u.children),a.flags|=4096);return a}return h?(fa(),A=u.fallback,h=a.mode,k=r.child,q=k.sibling,u=ui(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,q!==null?A=ui(q,A):(A=ms(A,h,o,null),A.flags|=2),A.return=a,u.return=a,u.sibling=A,a.child=u,iu(null,u),u=a.child,A=r.child.memoizedState,A===null?A=Hm(o):(h=A.cachePool,h!==null?(k=Dt._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=s_(),A={baseLanes:A.baseLanes|o,cachePool:h}),u.memoizedState=A,u.childLanes=$m(r,E,o),a.memoizedState=Fm,iu(r.child,u)):(ca(a),o=r.child,r=o.sibling,o=ui(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=o,a.memoizedState=null,o)}function qm(r,a){return a=Tf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Tf(r,a){return r=Cn(22,r,null,a),r.lanes=0,r}function Gm(r,a,o){return Ts(a,r.child,null,o),r=qm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function _E(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),om(r.return,a,o)}function Km(r,a,o,u,h,m){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h,treeForkCount:m}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=h,E.treeForkCount=m)}function EE(r,a,o){var u=a.pendingProps,h=u.revealOrder,m=u.tail;u=u.children;var E=bt.current,A=(E&2)!==0;if(A?(E=E&1|2,a.flags|=128):E&=1,se(bt,E),Jt(r,a,u,o),u=He?ql:0,!A&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_E(r,o,a);else if(r.tag===19)_E(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(o=a.child,h=null;o!==null;)r=o.alternate,r!==null&&uf(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),Km(a,!1,h,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&uf(r)===null){a.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Km(a,!0,o,null,m,u);break;case"together":Km(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function pi(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),ma|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(yo(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=ui(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=ui(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function Ym(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&ef(r)))}function OC(r,a,o){switch(a.tag){case 3:pt(a,a.stateNode.containerInfo),sa(a,Dt,r.memoizedState.cache),ps();break;case 27:case 5:dn(a);break;case 4:pt(a,a.stateNode.containerInfo);break;case 10:sa(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,_m(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ca(a),a.flags|=128,null):(o&a.child.childLanes)!==0?vE(r,a,o):(ca(a),r=pi(r,a,o),r!==null?r.sibling:null);ca(a);break;case 19:var h=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(yo(r,a,o,!1),u=(o&a.childLanes)!==0),h){if(u)return EE(r,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(bt,bt.current),u)break;return null;case 22:return a.lanes=0,hE(r,a,o,a.pendingProps);case 24:sa(a,Dt,r.memoizedState.cache)}return pi(r,a,o)}function TE(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Mt=!0;else{if(!Ym(r,o)&&(a.flags&128)===0)return Mt=!1,OC(r,a,o);Mt=(r.flags&131072)!==0}else Mt=!1,He&&(a.flags&1048576)!==0&&Zv(a,ql,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(r=_s(a.elementType),a.type=r,typeof r=="function")Zd(r)?(u=Ss(r,u),a.tag=1,a=gE(null,a,r,u,o)):(a.tag=0,a=Bm(null,a,r,u,o));else{if(r!=null){var h=r.$$typeof;if(h===oe){a.tag=11,a=uE(null,a,r,u,o);break e}else if(h===x){a.tag=14,a=cE(null,a,r,u,o);break e}}throw a=qe(r)||r,Error(i(306,a,""))}}return a;case 0:return Bm(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,h=Ss(u,a.pendingProps),gE(r,a,u,h,o);case 3:e:{if(pt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var m=a.memoizedState;h=m.element,mm(r,a),Zl(a,u,null,o);var E=a.memoizedState;if(u=E.cache,sa(a,Dt,u),u!==m.cache&&lm(a,[Dt],o,!0),Jl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=yE(r,a,u,o);break e}else if(u!==h){h=qn(Error(i(424)),a),Gl(h),a=yE(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ct=Xn(r.firstChild),Xt=a,He=!0,ia=null,Yn=!0,o=h_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ps(),u===h){a=pi(r,a,o);break e}Jt(r,a,u,o)}a=a.child}return a;case 26:return Ef(r,a),r===null?(o=OT(a.type,null,a.pendingProps,null))?a.memoizedState=o:He||(o=a.type,r=a.pendingProps,u=Pf(be.current).createElement(o),u[It]=a,u[Ht]=r,Zt(u,o,r),Nt(u),a.stateNode=u):a.memoizedState=OT(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return dn(a),r===null&&He&&(u=a.stateNode=NT(a.type,a.pendingProps,be.current),Xt=a,Yn=!0,h=ct,_a(a.type)?(Cp=h,ct=Xn(u.firstChild)):ct=h),Jt(r,a,a.pendingProps.children,o),Ef(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&He&&((h=u=ct)&&(u=lI(u,a.type,a.pendingProps,Yn),u!==null?(a.stateNode=u,Xt=a,ct=Xn(u.firstChild),Yn=!1,h=!0):h=!1),h||aa(a)),dn(a),h=a.type,m=a.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,wp(h,m)?u=null:E!==null&&wp(h,E)&&(a.flags|=32),a.memoizedState!==null&&(h=Tm(r,a,SC,null,null,o),_u._currentValue=h),Ef(r,a),Jt(r,a,u,o),a.child;case 6:return r===null&&He&&((r=o=ct)&&(o=uI(o,a.pendingProps,Yn),o!==null?(a.stateNode=o,Xt=a,ct=null,r=!0):r=!1),r||aa(a)),null;case 13:return vE(r,a,o);case 4:return pt(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=Ts(a,null,u,o):Jt(r,a,u,o),a.child;case 11:return uE(r,a,a.type,a.pendingProps,o);case 7:return Jt(r,a,a.pendingProps,o),a.child;case 8:return Jt(r,a,a.pendingProps.children,o),a.child;case 12:return Jt(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,sa(a,a.type,u.value),Jt(r,a,u.children,o),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,ys(a),h=Wt(h),u=u(h),a.flags|=1,Jt(r,a,u,o),a.child;case 14:return cE(r,a,a.type,a.pendingProps,o);case 15:return fE(r,a,a.type,a.pendingProps,o);case 19:return EE(r,a,o);case 31:return DC(r,a,o);case 22:return hE(r,a,o,a.pendingProps);case 24:return ys(a),u=Wt(Dt),r===null?(h=fm(),h===null&&(h=st,m=um(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),a.memoizedState={parent:u,cache:h},dm(a),sa(a,Dt,h)):((r.lanes&o)!==0&&(mm(r,a),Zl(a,null,null,o),Jl()),h=r.memoizedState,m=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),sa(a,Dt,u)):(u=m.cache,sa(a,Dt,u),u!==h.cache&&lm(a,[Dt],o,!0))),Jt(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function gi(r){r.flags|=4}function Qm(r,a,o,u,h){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(YE())r.flags|=8192;else throw Es=af,hm}else r.flags&=-16777217}function wE(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!PT(a))if(YE())r.flags|=8192;else throw Es=af,hm}function wf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Cc():536870912,r.lanes|=a,No|=a)}function au(r,a){if(!He)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ft(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function MC(r,a,o){var u=a.pendingProps;switch(rm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(a),null;case 1:return ft(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),hi(Dt),Xe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(go(a)?gi(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,am())),ft(a),null;case 26:var h=a.type,m=a.memoizedState;return r===null?(gi(a),m!==null?(ft(a),wE(a,m)):(ft(a),Qm(a,h,null,u,o))):m?m!==r.memoizedState?(gi(a),ft(a),wE(a,m)):(ft(a),a.flags&=-16777217):(r=r.memoizedProps,r!==u&&gi(a),ft(a),Qm(a,h,r,u,o)),null;case 27:if(rr(a),o=be.current,h=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&gi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ft(a),null}r=le.current,go(a)?t_(a):(r=NT(h,u,o),a.stateNode=r,gi(a))}return ft(a),null;case 5:if(rr(a),h=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&gi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ft(a),null}if(m=le.current,go(a))t_(a);else{var E=Pf(be.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?E.createElement(h,{is:u.is}):E.createElement(h)}}m[It]=a,m[Ht]=u;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=m;e:switch(Zt(m,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&gi(a)}}return ft(a),Qm(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,o),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&gi(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=be.current,go(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[It]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||vT(r.nodeValue,o)),r||aa(a,!0)}else r=Pf(r).createTextNode(u),r[It]=a,a.stateNode=r}return ft(a),null;case 31:if(o=a.memoizedState,r===null||r.memoizedState!==null){if(u=go(a),o!==null){if(r===null){if(!u)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[It]=a}else ps(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ft(a),r=!1}else o=am(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return a.flags&256?(Nn(a),a):(Nn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ft(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=go(a),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[It]=a}else ps(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ft(a),h=!1}else h=am(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Nn(a),a):(Nn(a),null)}return Nn(a),(a.flags&128)!==0?(a.lanes=o,a):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)),o!==r&&o&&(a.child.flags|=8192),wf(a,a.updateQueue),ft(a),null);case 4:return Xe(),r===null&&yp(a.stateNode.containerInfo),ft(a),null;case 10:return hi(a.type),ft(a),null;case 19:if(Z(bt),u=a.memoizedState,u===null)return ft(a),null;if(h=(a.flags&128)!==0,m=u.rendering,m===null)if(h)au(u,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(m=uf(r),m!==null){for(a.flags|=128,au(u,!1),r=m.updateQueue,a.updateQueue=r,wf(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)Xv(o,r),o=o.sibling;return se(bt,bt.current&1|2),He&&ci(a,u.treeForkCount),a.child}r=r.sibling}u.tail!==null&&Ft()>Cf&&(a.flags|=128,h=!0,au(u,!1),a.lanes=4194304)}else{if(!h)if(r=uf(m),r!==null){if(a.flags|=128,h=!0,r=r.updateQueue,a.updateQueue=r,wf(a,r),au(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!He)return ft(a),null}else 2*Ft()-u.renderingStartTime>Cf&&o!==536870912&&(a.flags|=128,h=!0,au(u,!1),a.lanes=4194304);u.isBackwards?(m.sibling=a.child,a.child=m):(r=u.last,r!==null?r.sibling=m:a.child=m,u.last=m)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Ft(),r.sibling=null,o=bt.current,se(bt,h?o&1|2:o&1),He&&ci(a,u.treeForkCount),r):(ft(a),null);case 22:case 23:return Nn(a),vm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(ft(a),a.subtreeFlags&6&&(a.flags|=8192)):ft(a),o=a.updateQueue,o!==null&&wf(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&Z(vs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),hi(Dt),ft(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function VC(r,a){switch(rm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return hi(Dt),Xe(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return rr(a),null;case 31:if(a.memoizedState!==null){if(Nn(a),a.alternate===null)throw Error(i(340));ps()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(Nn(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ps()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Z(bt),null;case 4:return Xe(),null;case 10:return hi(a.type),null;case 22:case 23:return Nn(a),vm(),r!==null&&Z(vs),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return hi(Dt),null;case 25:return null;default:return null}}function SE(r,a){switch(rm(a),a.tag){case 3:hi(Dt),Xe();break;case 26:case 27:case 5:rr(a);break;case 4:Xe();break;case 31:a.memoizedState!==null&&Nn(a);break;case 13:Nn(a);break;case 19:Z(bt);break;case 10:hi(a.type);break;case 22:case 23:Nn(a),vm(),r!==null&&Z(vs);break;case 24:hi(Dt)}}function su(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==h)}}catch(A){tt(a,a.return,A)}}function ha(r,a,o){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&r)===r){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=a;var k=o,q=A;try{q()}catch(J){tt(h,k,J)}}}u=u.next}while(u!==m)}}catch(J){tt(a,a.return,J)}}function bE(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{m_(a,o)}catch(u){tt(r,r.return,u)}}}function AE(r,a,o){o.props=Ss(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){tt(r,a,u)}}function ou(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){tt(r,a,h)}}function Gr(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){tt(r,a,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){tt(r,a,h)}else o.current=null}function RE(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){tt(r,r.return,h)}}function Xm(r,a,o){try{var u=r.stateNode;nI(u,r.type,o,a),u[Ht]=a}catch(h){tt(r,r.return,h)}}function CE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_a(r.type)||r.tag===4}function Wm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||CE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_a(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Jm(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=cr));else if(u!==4&&(u===27&&_a(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(Jm(r,a,o),r=r.sibling;r!==null;)Jm(r,a,o),r=r.sibling}function Sf(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&_a(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Sf(r,a,o),r=r.sibling;r!==null;)Sf(r,a,o),r=r.sibling}function IE(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);Zt(a,u,o),a[It]=r,a[Ht]=o}catch(m){tt(r,r.return,m)}}var yi=!1,Vt=!1,Zm=!1,NE=typeof WeakSet=="function"?WeakSet:Set,qt=null;function LC(r,a){if(r=r.containerInfo,Ep=$f,r=Bv(r),Gd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,A=-1,k=-1,q=0,J=0,ne=r,K=null;t:for(;;){for(var X;ne!==o||h!==0&&ne.nodeType!==3||(A=E+h),ne!==m||u!==0&&ne.nodeType!==3||(k=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(X=ne.firstChild)!==null;)K=ne,ne=X;for(;;){if(ne===r)break t;if(K===o&&++q===h&&(A=E),K===m&&++J===u&&(k=E),(X=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=X}o=A===-1||k===-1?null:{start:A,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tp={focusedElem:r,selectionRange:o},$f=!1,qt=a;qt!==null;)if(a=qt,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,qt=r;else for(;qt!==null;){switch(a=qt,m=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)h=r[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=a,h=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var me=Ss(o.type,h);r=u.getSnapshotBeforeUpdate(me,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ee){tt(o,o.return,Ee)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)bp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":bp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,qt=r;break}qt=a.return}}function xE(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_i(r,o),u&4&&su(5,o);break;case 1:if(_i(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(E){tt(o,o.return,E)}else{var h=Ss(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(h,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(o,o.return,E)}}u&64&&bE(o),u&512&&ou(o,o.return);break;case 3:if(_i(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{m_(r,a)}catch(E){tt(o,o.return,E)}}break;case 27:a===null&&u&4&&IE(o);case 26:case 5:_i(r,o),a===null&&u&4&&RE(o),u&512&&ou(o,o.return);break;case 12:_i(r,o);break;case 31:_i(r,o),u&4&&ME(r,o);break;case 13:_i(r,o),u&4&&VE(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=$C.bind(null,o),cI(r,o))));break;case 22:if(u=o.memoizedState!==null||yi,!u){a=a!==null&&a.memoizedState!==null||Vt,h=yi;var m=Vt;yi=u,(Vt=a)&&!m?Ei(r,o,(o.subtreeFlags&8772)!==0):_i(r,o),yi=h,Vt=m}break;case 30:break;default:_i(r,o)}}function DE(r){var a=r.alternate;a!==null&&(r.alternate=null,DE(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Js(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var mt=null,gn=!1;function vi(r,a,o){for(o=o.child;o!==null;)OE(r,a,o),o=o.sibling}function OE(r,a,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(sr,o)}catch{}switch(o.tag){case 26:Vt||Gr(o,a),vi(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Vt||Gr(o,a);var u=mt,h=gn;_a(o.type)&&(mt=o.stateNode,gn=!1),vi(r,a,o),gu(o.stateNode),mt=u,gn=h;break;case 5:Vt||Gr(o,a);case 6:if(u=mt,h=gn,mt=null,vi(r,a,o),mt=u,gn=h,mt!==null)if(gn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(m){tt(o,a,m)}else try{mt.removeChild(o.stateNode)}catch(m){tt(o,a,m)}break;case 18:mt!==null&&(gn?(r=mt,bT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Po(r)):bT(mt,o.stateNode));break;case 4:u=mt,h=gn,mt=o.stateNode.containerInfo,gn=!0,vi(r,a,o),mt=u,gn=h;break;case 0:case 11:case 14:case 15:ha(2,o,a),Vt||ha(4,o,a),vi(r,a,o);break;case 1:Vt||(Gr(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&AE(o,a,u)),vi(r,a,o);break;case 21:vi(r,a,o);break;case 22:Vt=(u=Vt)||o.memoizedState!==null,vi(r,a,o),Vt=u;break;default:vi(r,a,o)}}function ME(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Po(r)}catch(o){tt(a,a.return,o)}}}function VE(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Po(r)}catch(o){tt(a,a.return,o)}}function kC(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new NE),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new NE),a;default:throw Error(i(435,r.tag))}}function bf(r,a){var o=kC(r);a.forEach(function(u){if(!o.has(u)){o.add(u);var h=qC.bind(null,r,u);u.then(h,h)}})}function yn(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],m=r,E=a,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(_a(A.type)){mt=A.stateNode,gn=!1;break e}break;case 5:mt=A.stateNode,gn=!1;break e;case 3:case 4:mt=A.stateNode.containerInfo,gn=!0;break e}A=A.return}if(mt===null)throw Error(i(160));OE(m,E,h),mt=null,gn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)LE(a,r),a=a.sibling}var gr=null;function LE(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:yn(a,r),vn(r),u&4&&(ha(3,r,r.return),su(3,r),ha(5,r,r.return));break;case 1:yn(a,r),vn(r),u&512&&(Vt||o===null||Gr(o,o.return)),u&64&&yi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=gr;if(yn(a,r),vn(r),u&512&&(Vt||o===null||Gr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Or]||m[It]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),Zt(m,u,o),m[It]=r,Nt(m),u=m;break e;case"link":var E=LT("link","href",h).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(m=E[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}m=h.createElement(u),Zt(m,u,o),h.head.appendChild(m);break;case"meta":if(E=LT("meta","content",h).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(m=E[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}m=h.createElement(u),Zt(m,u,o),h.head.appendChild(m);break;default:throw Error(i(468,u))}m[It]=r,Nt(m),u=m}r.stateNode=u}else kT(h,r.type,r.stateNode);else r.stateNode=VT(h,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?kT(h,r.type,r.stateNode):VT(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Xm(r,r.memoizedProps,o.memoizedProps)}break;case 27:yn(a,r),vn(r),u&512&&(Vt||o===null||Gr(o,o.return)),o!==null&&u&4&&Xm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(yn(a,r),vn(r),u&512&&(Vt||o===null||Gr(o,o.return)),r.flags&32){h=r.stateNode;try{pn(h,"")}catch(me){tt(r,r.return,me)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Xm(r,h,o!==null?o.memoizedProps:h)),u&1024&&(Zm=!0);break;case 6:if(yn(a,r),vn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(me){tt(r,r.return,me)}}break;case 3:if(zf=null,h=gr,gr=Uf(a.containerInfo),yn(a,r),gr=h,vn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Po(a.containerInfo)}catch(me){tt(r,r.return,me)}Zm&&(Zm=!1,kE(r));break;case 4:u=gr,gr=Uf(r.stateNode.containerInfo),yn(a,r),vn(r),gr=u;break;case 12:yn(a,r),vn(r);break;case 31:yn(a,r),vn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bf(r,u)));break;case 13:yn(a,r),vn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rf=Ft()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bf(r,u)));break;case 22:h=r.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,q=yi,J=Vt;if(yi=q||h,Vt=J||k,yn(a,r),Vt=J,yi=q,vn(r),u&8192)e:for(a=r.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||k||yi||Vt||bs(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){k=o=a;try{if(m=k.stateNode,h)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=k.stateNode;var ne=k.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){tt(k,k.return,me)}}}else if(a.tag===6){if(o===null){k=a;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(me){tt(k,k.return,me)}}}else if(a.tag===18){if(o===null){k=a;try{var X=k.stateNode;h?AT(X,!0):AT(k.stateNode,!1)}catch(me){tt(k,k.return,me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,bf(r,o))));break;case 19:yn(a,r),vn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bf(r,u)));break;case 30:break;case 21:break;default:yn(a,r),vn(r)}}function vn(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(CE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,m=Wm(r);Sf(r,m,h);break;case 5:var E=o.stateNode;o.flags&32&&(pn(E,""),o.flags&=-33);var A=Wm(r);Sf(r,A,E);break;case 3:case 4:var k=o.stateNode.containerInfo,q=Wm(r);Jm(r,q,k);break;default:throw Error(i(161))}}catch(J){tt(r,r.return,J)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function kE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;kE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function _i(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)xE(r,a.alternate,a),a=a.sibling}function bs(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ha(4,a,a.return),bs(a);break;case 1:Gr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&AE(a,a.return,o),bs(a);break;case 27:gu(a.stateNode);case 26:case 5:Gr(a,a.return),bs(a);break;case 22:a.memoizedState===null&&bs(a);break;case 30:bs(a);break;default:bs(a)}r=r.sibling}}function Ei(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=r,m=a,E=m.flags;switch(m.tag){case 0:case 11:case 15:Ei(h,m,o),su(4,m);break;case 1:if(Ei(h,m,o),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){tt(u,u.return,q)}if(u=m,h=u.updateQueue,h!==null){var A=u.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)d_(k[h],A)}catch(q){tt(u,u.return,q)}}o&&E&64&&bE(m),ou(m,m.return);break;case 27:IE(m);case 26:case 5:Ei(h,m,o),o&&u===null&&E&4&&RE(m),ou(m,m.return);break;case 12:Ei(h,m,o);break;case 31:Ei(h,m,o),o&&E&4&&ME(h,m);break;case 13:Ei(h,m,o),o&&E&4&&VE(h,m);break;case 22:m.memoizedState===null&&Ei(h,m,o),ou(m,m.return);break;case 30:break;default:Ei(h,m,o)}a=a.sibling}}function ep(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Kl(o))}function tp(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Kl(r))}function yr(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)PE(r,a,o,u),a=a.sibling}function PE(r,a,o,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:yr(r,a,o,u),h&2048&&su(9,a);break;case 1:yr(r,a,o,u);break;case 3:yr(r,a,o,u),h&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Kl(r)));break;case 12:if(h&2048){yr(r,a,o,u),r=a.stateNode;try{var m=a.memoizedProps,E=m.id,A=m.onPostCommit;typeof A=="function"&&A(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){tt(a,a.return,k)}}else yr(r,a,o,u);break;case 31:yr(r,a,o,u);break;case 13:yr(r,a,o,u);break;case 23:break;case 22:m=a.stateNode,E=a.alternate,a.memoizedState!==null?m._visibility&2?yr(r,a,o,u):lu(r,a):m._visibility&2?yr(r,a,o,u):(m._visibility|=2,Ro(r,a,o,u,(a.subtreeFlags&10256)!==0||!1)),h&2048&&ep(E,a);break;case 24:yr(r,a,o,u),h&2048&&tp(a.alternate,a);break;default:yr(r,a,o,u)}}function Ro(r,a,o,u,h){for(h=h&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var m=r,E=a,A=o,k=u,q=E.flags;switch(E.tag){case 0:case 11:case 15:Ro(m,E,A,k,h),su(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Ro(m,E,A,k,h):lu(m,E):(J._visibility|=2,Ro(m,E,A,k,h)),h&&q&2048&&ep(E.alternate,E);break;case 24:Ro(m,E,A,k,h),h&&q&2048&&tp(E.alternate,E);break;default:Ro(m,E,A,k,h)}a=a.sibling}}function lu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,h=u.flags;switch(u.tag){case 22:lu(o,u),h&2048&&ep(u.alternate,u);break;case 24:lu(o,u),h&2048&&tp(u.alternate,u);break;default:lu(o,u)}a=a.sibling}}var uu=8192;function Co(r,a,o){if(r.subtreeFlags&uu)for(r=r.child;r!==null;)UE(r,a,o),r=r.sibling}function UE(r,a,o){switch(r.tag){case 26:Co(r,a,o),r.flags&uu&&r.memoizedState!==null&&wI(o,gr,r.memoizedState,r.memoizedProps);break;case 5:Co(r,a,o);break;case 3:case 4:var u=gr;gr=Uf(r.stateNode.containerInfo),Co(r,a,o),gr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=uu,uu=16777216,Co(r,a,o),uu=u):Co(r,a,o));break;default:Co(r,a,o)}}function jE(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function cu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];qt=u,BE(u,r)}jE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zE(r),r=r.sibling}function zE(r){switch(r.tag){case 0:case 11:case 15:cu(r),r.flags&2048&&ha(9,r,r.return);break;case 3:cu(r);break;case 12:cu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Af(r)):cu(r);break;default:cu(r)}}function Af(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];qt=u,BE(u,r)}jE(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ha(8,a,a.return),Af(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Af(a));break;default:Af(a)}r=r.sibling}}function BE(r,a){for(;qt!==null;){var o=qt;switch(o.tag){case 0:case 11:case 15:ha(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qt=u;else e:for(o=r;qt!==null;){u=qt;var h=u.sibling,m=u.return;if(DE(u),u===o){qt=null;break e}if(h!==null){h.return=m,qt=h;break e}qt=m}}}var PC={getCacheForType:function(r){var a=Wt(Dt),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o},cacheSignal:function(){return Wt(Dt).controller.signal}},UC=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,Me=null,Ue=0,et=0,xn=null,da=!1,Io=!1,np=!1,Ti=0,Et=0,ma=0,As=0,rp=0,Dn=0,No=0,fu=null,_n=null,ip=!1,Rf=0,FE=0,Cf=1/0,If=null,pa=null,zt=0,ga=null,xo=null,wi=0,ap=0,sp=null,HE=null,hu=0,op=null;function On(){return(Qe&2)!==0&&Ue!==0?Ue&-Ue:W.T!==null?dp():Ic()}function $E(){if(Dn===0)if((Ue&536870912)===0||He){var r=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),Dn=r}else Dn=536870912;return r=In.current,r!==null&&(r.flags|=32),Dn}function En(r,a,o){(r===st&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(Do(r,0),ya(r,Ue,Dn,!1)),Za(r,o),((Qe&2)===0||r!==st)&&(r===st&&((Qe&2)===0&&(As|=o),Et===4&&ya(r,Ue,Dn,!1)),Kr(r))}function qE(r,a,o){if((Qe&6)!==0)throw Error(i(327));var u=!o&&(a&127)===0&&(a&r.expiredLanes)===0||or(r,a),h=u?BC(r,a):up(r,a,!0),m=u;do{if(h===0){Io&&!u&&ya(r,a,0,!1);break}else{if(o=r.current.alternate,m&&!jC(o)){h=up(r,a,!1),m=!1;continue}if(h===2){if(m=a,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var A=r;h=fu;var k=A.current.memoizedState.isDehydrated;if(k&&(Do(A,E).flags|=256),E=up(A,E,!1),E!==2){if(np&&!k){A.errorRecoveryDisabledLanes|=m,As|=m,h=4;break e}m=_n,_n=h,m!==null&&(_n===null?_n=m:_n.push.apply(_n,m))}h=E}if(m=!1,h!==2)continue}}if(h===1){Do(r,0),ya(r,a,0,!0);break}e:{switch(u=r,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ya(u,a,Dn,!da);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=Rf+300-Ft(),10<h)){if(ya(u,a,Dn,!da),Nr(u,0,!0)!==0)break e;wi=a,u.timeoutHandle=wT(GE.bind(null,u,o,_n,If,ip,a,Dn,As,No,da,m,"Throttled",-0,0),h);break e}GE(u,o,_n,If,ip,a,Dn,As,No,da,m,null,-0,0)}}break}while(!0);Kr(r)}function GE(r,a,o,u,h,m,E,A,k,q,J,ne,K,X){if(r.timeoutHandle=-1,ne=a.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cr},UE(a,m,ne);var me=(m&62914560)===m?Rf-Ft():(m&4194048)===m?FE-Ft():0;if(me=SI(ne,me),me!==null){wi=m,r.cancelPendingCommit=me(eT.bind(null,r,a,m,o,u,h,E,A,k,J,ne,null,K,X)),ya(r,m,E,!q);return}}eT(r,a,m,o,u,h,E,A,k)}function jC(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!Rn(m(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ya(r,a,o,u){a&=~rp,a&=~As,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var h=a;0<h;){var m=31-wt(h),E=1<<m;u[m]=-1,h&=~E}o!==0&&es(r,o,a)}function Nf(){return(Qe&6)===0?(du(0),!1):!0}function lp(){if(Me!==null){if(et===0)var r=Me.return;else r=Me,fi=gs=null,bm(r),To=null,Ql=0,r=Me;for(;r!==null;)SE(r.alternate,r),r=r.return;Me=null}}function Do(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,aI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),wi=0,lp(),st=r,Me=o=ui(r.current,null),Ue=a,et=0,xn=null,da=!1,Io=or(r,a),np=!1,No=Dn=rp=As=ma=Et=0,_n=fu=null,ip=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var h=31-wt(u),m=1<<h;a|=r[h],u&=~m}return Ti=a,Qc(),o}function KE(r,a){Ne=null,W.H=ru,a===Eo||a===rf?(a=u_(),et=3):a===hm?(a=u_(),et=4):et=a===zm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,xn=a,Me===null&&(Et=1,vf(r,qn(a,r.current)))}function YE(){var r=In.current;return r===null?!0:(Ue&4194048)===Ue?Qn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?r===Qn:!1}function QE(){var r=W.H;return W.H=ru,r===null?ru:r}function XE(){var r=W.A;return W.A=PC,r}function xf(){Et=4,da||(Ue&4194048)!==Ue&&In.current!==null||(Io=!0),(ma&134217727)===0&&(As&134217727)===0||st===null||ya(st,Ue,Dn,!1)}function up(r,a,o){var u=Qe;Qe|=2;var h=QE(),m=XE();(st!==r||Ue!==a)&&(If=null,Do(r,a)),a=!1;var E=Et;e:do try{if(et!==0&&Me!==null){var A=Me,k=xn;switch(et){case 8:lp(),E=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(a=!0);var q=et;if(et=0,xn=null,Oo(r,A,k,q),o&&Io){E=0;break e}break;default:q=et,et=0,xn=null,Oo(r,A,k,q)}}zC(),E=Et;break}catch(J){KE(r,J)}while(!0);return a&&r.shellSuspendCounter++,fi=gs=null,Qe=u,W.H=h,W.A=m,Me===null&&(st=null,Ue=0,Qc()),E}function zC(){for(;Me!==null;)WE(Me)}function BC(r,a){var o=Qe;Qe|=2;var u=QE(),h=XE();st!==r||Ue!==a?(If=null,Cf=Ft()+500,Do(r,a)):Io=or(r,a);e:do try{if(et!==0&&Me!==null){a=Me;var m=xn;t:switch(et){case 1:et=0,xn=null,Oo(r,a,m,1);break;case 2:case 9:if(o_(m)){et=0,xn=null,JE(a);break}a=function(){et!==2&&et!==9||st!==r||(et=7),Kr(r)},m.then(a,a);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:o_(m)?(et=0,xn=null,JE(a)):(et=0,xn=null,Oo(r,a,m,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var A=Me;if(E?PT(E):A.stateNode.complete){et=0,xn=null;var k=A.sibling;if(k!==null)Me=k;else{var q=A.return;q!==null?(Me=q,Df(q)):Me=null}break t}}et=0,xn=null,Oo(r,a,m,5);break;case 6:et=0,xn=null,Oo(r,a,m,6);break;case 8:lp(),Et=6;break e;default:throw Error(i(462))}}FC();break}catch(J){KE(r,J)}while(!0);return fi=gs=null,W.H=u,W.A=h,Qe=o,Me!==null?0:(st=null,Ue=0,Qc(),Et)}function FC(){for(;Me!==null&&!Sl();)WE(Me)}function WE(r){var a=TE(r.alternate,r,Ti);r.memoizedProps=r.pendingProps,a===null?Df(r):Me=a}function JE(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=pE(o,a,a.pendingProps,a.type,void 0,Ue);break;case 11:a=pE(o,a,a.pendingProps,a.type.render,a.ref,Ue);break;case 5:bm(a);default:SE(o,a),a=Me=Xv(a,Ti),a=TE(o,a,Ti)}r.memoizedProps=r.pendingProps,a===null?Df(r):Me=a}function Oo(r,a,o,u){fi=gs=null,bm(a),To=null,Ql=0;var h=a.return;try{if(xC(r,h,a,o,Ue)){Et=1,vf(r,qn(o,r.current)),Me=null;return}}catch(m){if(h!==null)throw Me=h,m;Et=1,vf(r,qn(o,r.current)),Me=null;return}a.flags&32768?(He||u===1?r=!0:Io||(Ue&536870912)!==0?r=!1:(da=r=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),ZE(a,r)):Df(a)}function Df(r){var a=r;do{if((a.flags&32768)!==0){ZE(a,da);return}r=a.return;var o=MC(a.alternate,a,Ti);if(o!==null){Me=o;return}if(a=a.sibling,a!==null){Me=a;return}Me=a=r}while(a!==null);Et===0&&(Et=5)}function ZE(r,a){do{var o=VC(r.alternate,r);if(o!==null){o.flags&=32767,Me=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){Me=r;return}Me=r=o}while(r!==null);Et=6,Me=null}function eT(r,a,o,u,h,m,E,A,k){r.cancelPendingCommit=null;do Of();while(zt!==0);if((Qe&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=Wd,Fd(r,o,m,E,A,k),r===st&&(Me=st=null,Ue=0),xo=a,ga=r,wi=o,ap=m,sp=h,HE=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,GC(ar,function(){return aT(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,h=ue.p,ue.p=2,E=Qe,Qe|=4;try{LC(r,a,o)}finally{Qe=E,ue.p=h,W.T=u}}zt=1,tT(),nT(),rT()}}function tT(){if(zt===1){zt=0;var r=ga,a=xo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=ue.p;ue.p=2;var h=Qe;Qe|=4;try{LE(a,r);var m=Tp,E=Bv(r.containerInfo),A=m.focusedElem,k=m.selectionRange;if(E!==A&&A&&A.ownerDocument&&zv(A.ownerDocument.documentElement,A)){if(k!==null&&Gd(A)){var q=k.start,J=k.end;if(J===void 0&&(J=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(J,A.value.length);else{var ne=A.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var X=K.getSelection(),me=A.textContent.length,Ee=Math.min(k.start,me),at=k.end===void 0?Ee:Math.min(k.end,me);!X.extend&&Ee>at&&(E=at,at=Ee,Ee=E);var B=jv(A,Ee),j=jv(A,at);if(B&&j&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var $=ne.createRange();$.setStart(B.node,B.offset),X.removeAllRanges(),Ee>at?(X.addRange($),X.extend(j.node,j.offset)):($.setEnd(j.node,j.offset),X.addRange($))}}}}for(ne=[],X=A;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var ee=ne[A];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}$f=!!Ep,Tp=Ep=null}finally{Qe=h,ue.p=u,W.T=o}}r.current=a,zt=2}}function nT(){if(zt===2){zt=0;var r=ga,a=xo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=ue.p;ue.p=2;var h=Qe;Qe|=4;try{xE(r,a.alternate,a)}finally{Qe=h,ue.p=u,W.T=o}}zt=3}}function rT(){if(zt===4||zt===3){zt=0,Qs();var r=ga,a=xo,o=wi,u=HE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?zt=5:(zt=0,xo=ga=null,iT(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(pa=null),ai(o),a=a.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(sr,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=W.T,h=ue.p,ue.p=2,W.T=null;try{for(var m=r.onRecoverableError,E=0;E<u.length;E++){var A=u[E];m(A.value,{componentStack:A.stack})}}finally{W.T=a,ue.p=h}}(wi&3)!==0&&Of(),Kr(r),h=r.pendingLanes,(o&261930)!==0&&(h&42)!==0?r===op?hu++:(hu=0,op=r):hu=0,du(0)}}function iT(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Kl(a)))}function Of(){return tT(),nT(),rT(),aT()}function aT(){if(zt!==5)return!1;var r=ga,a=ap;ap=0;var o=ai(wi),u=W.T,h=ue.p;try{ue.p=32>o?32:o,W.T=null,o=sp,sp=null;var m=ga,E=wi;if(zt=0,xo=ga=null,wi=0,(Qe&6)!==0)throw Error(i(331));var A=Qe;if(Qe|=4,zE(m.current),PE(m,m.current,E,o),Qe=A,du(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(sr,m)}catch{}return!0}finally{ue.p=h,W.T=u,iT(r,a)}}function sT(r,a,o){a=qn(o,a),a=jm(r.stateNode,a,2),r=ua(r,a,2),r!==null&&(Za(r,2),Kr(r))}function tt(r,a,o){if(r.tag===3)sT(r,r,o);else for(;a!==null;){if(a.tag===3){sT(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(pa===null||!pa.has(u))){r=qn(o,r),o=oE(2),u=ua(a,o,2),u!==null&&(lE(o,u,a,r),Za(u,2),Kr(u));break}}a=a.return}}function cp(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new UC;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(o)||(np=!0,h.add(o),r=HC.bind(null,r,a,o),a.then(r,r))}function HC(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,st===r&&(Ue&o)===o&&(Et===4||Et===3&&(Ue&62914560)===Ue&&300>Ft()-Rf?(Qe&2)===0&&Do(r,0):rp|=o,No===Ue&&(No=0)),Kr(r)}function oT(r,a){a===0&&(a=Cc()),r=ds(r,a),r!==null&&(Za(r,a),Kr(r))}function $C(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),oT(r,o)}function qC(r,a){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),oT(r,o)}function GC(r,a){return Tt(r,a)}var Mf=null,Mo=null,fp=!1,Vf=!1,hp=!1,va=0;function Kr(r){r!==Mo&&r.next===null&&(Mo===null?Mf=Mo=r:Mo=Mo.next=r),Vf=!0,fp||(fp=!0,YC())}function du(r,a){if(!hp&&Vf){hp=!0;do for(var o=!1,u=Mf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var E=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-wt(42|r)+1)-1,m&=h&~(E&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,fT(u,m))}else m=Ue,m=Nr(u,u===st?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||or(u,m)||(o=!0,fT(u,m));u=u.next}while(o);hp=!1}}function KC(){lT()}function lT(){Vf=fp=!1;var r=0;va!==0&&iI()&&(r=va);for(var a=Ft(),o=null,u=Mf;u!==null;){var h=u.next,m=uT(u,a);m===0?(u.next=null,o===null?Mf=h:o.next=h,h===null&&(Mo=o)):(o=u,(r!==0||(m&3)!==0)&&(Vf=!0)),u=h}zt!==0&&zt!==5||du(r),va!==0&&(va=0)}function uT(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-wt(m),A=1<<E,k=h[E];k===-1?((A&o)===0||(A&u)!==0)&&(h[E]=Bd(A,a)):k<=a&&(r.expiredLanes|=A),m&=~A}if(a=st,o=Ue,o=Nr(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Rr(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||or(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&Rr(u),ai(o)){case 2:case 8:o=Un;break;case 32:o=ar;break;case 268435456:o=wc;break;default:o=ar}return u=cT.bind(null,r),o=Tt(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&Rr(u),r.callbackPriority=2,r.callbackNode=null,2}function cT(r,a){if(zt!==0&&zt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Of()&&r.callbackNode!==o)return null;var u=Ue;return u=Nr(r,r===st?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(qE(r,u,a),uT(r,Ft()),r.callbackNode!=null&&r.callbackNode===o?cT.bind(null,r):null)}function fT(r,a){if(Of())return null;qE(r,a,!0)}function YC(){sI(function(){(Qe&6)!==0?Tt(Pe,KC):lT()})}function dp(){if(va===0){var r=vo;r===0&&(r=Cr,Cr<<=1,(Cr&261888)===0&&(Cr=256)),va=r}return va}function hT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:no(""+r)}function dT(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function QC(r,a,o,u,h){if(a==="submit"&&o&&o.stateNode===h){var m=hT((h[Ht]||null).action),E=u.submitter;E&&(a=(a=E[Ht]||null)?hT(a.formAction):E.getAttribute("formAction"),a!==null&&(m=a,E=null));var A=new zr("action","action",null,u,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(va!==0){var k=E?dT(h,E):new FormData(h);Mm(o,{pending:!0,data:k,method:h.method,action:m},null,k)}}else typeof m=="function"&&(A.preventDefault(),k=E?dT(h,E):new FormData(h),Mm(o,{pending:!0,data:k,method:h.method,action:m},m,k))},currentTarget:h}]})}}for(var mp=0;mp<Xd.length;mp++){var pp=Xd[mp],XC=pp.toLowerCase(),WC=pp[0].toUpperCase()+pp.slice(1);pr(XC,"on"+WC)}pr($v,"onAnimationEnd"),pr(qv,"onAnimationIteration"),pr(Gv,"onAnimationStart"),pr("dblclick","onDoubleClick"),pr("focusin","onFocus"),pr("focusout","onBlur"),pr(dC,"onTransitionRun"),pr(mC,"onTransitionStart"),pr(pC,"onTransitionCancel"),pr(Kv,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function mT(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var m=void 0;if(a)for(var E=u.length-1;0<=E;E--){var A=u[E],k=A.instance,q=A.currentTarget;if(A=A.listener,k!==m&&h.isPropagationStopped())break e;m=A,h.currentTarget=q;try{m(h)}catch(J){Yc(J)}h.currentTarget=null,m=k}else for(E=0;E<u.length;E++){if(A=u[E],k=A.instance,q=A.currentTarget,A=A.listener,k!==m&&h.isPropagationStopped())break e;m=A,h.currentTarget=q;try{m(h)}catch(J){Yc(J)}h.currentTarget=null,m=k}}}}function Ve(r,a){var o=a[Ws];o===void 0&&(o=a[Ws]=new Set);var u=r+"__bubble";o.has(u)||(pT(a,r,2,!1),o.add(u))}function gp(r,a,o){var u=0;a&&(u|=4),pT(o,r,u,a)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function yp(r){if(!r[Lf]){r[Lf]=!0,Rl.forEach(function(o){o!=="selectionchange"&&(JC.has(o)||gp(o,!1,r),gp(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Lf]||(a[Lf]=!0,gp("selectionchange",!1,a))}}function pT(r,a,o,u){switch($T(a)){case 2:var h=RI;break;case 8:h=CI;break;default:h=Op}o=h.bind(null,a,o,r),h=void 0,!as||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(a,o,{capture:!0,passive:h}):r.addEventListener(a,o,!0):h!==void 0?r.addEventListener(a,o,{passive:h}):r.addEventListener(a,o,!1)}function vp(r,a,o,u,h){var m=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===h)break;if(E===4)for(E=u.return;E!==null;){var k=E.tag;if((k===3||k===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;A!==null;){if(E=Mr(A),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){u=m=E;continue e}A=A.parentNode}}u=u.return}Zi(function(){var q=m,J=Bn(o),ne=[];e:{var K=Yv.get(r);if(K!==void 0){var X=zr,me=r;switch(r){case"keypress":if(os(o)===0)break e;case"keydown":case"keyup":X=qc;break;case"focusin":me="focus",X=us;break;case"focusout":me="blur",X=us;break;case"beforeblur":case"afterblur":X=us;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case $v:case qv:case Gv:X=Uc;break;case Kv:X=C;break;case"scroll":case"scrollend":X=Ul;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=li;break;case"toggle":case"beforetoggle":X=Ie}var Ee=(a&4)!==0,at=!Ee&&(r==="scroll"||r==="scrollend"),B=Ee?K!==null?K+"Capture":null:K;Ee=[];for(var j=q,$;j!==null;){var ee=j;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||B===null||(ee=fr(j,B),ee!=null&&Ee.push(pu(j,ee,$))),at)break;j=j.return}0<Ee.length&&(K=new X(K,me,null,o,J),ne.push({event:K,listeners:Ee}))}}if((a&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",K&&o!==Ll&&(me=o.relatedTarget||o.fromElement)&&(Mr(me)||me[Dr]))break e;if((X||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,X?(me=o.relatedTarget||o.toElement,X=q,me=me?Mr(me):null,me!==null&&(at=l(me),Ee=me.tag,me!==at||Ee!==5&&Ee!==27&&Ee!==6)&&(me=null)):(X=null,me=q),X!==me)){if(Ee=jl,ee="onMouseLeave",B="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=li,ee="onPointerLeave",B="onPointerEnter",j="pointer"),at=X==null?K:bn(X),$=me==null?K:bn(me),K=new Ee(ee,j+"leave",X,o,J),K.target=at,K.relatedTarget=$,ee=null,Mr(J)===q&&(Ee=new Ee(B,j+"enter",me,o,J),Ee.target=$,Ee.relatedTarget=at,ee=Ee),at=ee,X&&me)t:{for(Ee=ZC,B=X,j=me,$=0,ee=B;ee;ee=Ee(ee))$++;ee=0;for(var ve=j;ve;ve=Ee(ve))ee++;for(;0<$-ee;)B=Ee(B),$--;for(;0<ee-$;)j=Ee(j),ee--;for(;$--;){if(B===j||j!==null&&B===j.alternate){Ee=B;break t}B=Ee(B),j=Ee(j)}Ee=null}else Ee=null;X!==null&&gT(ne,K,X,Ee,!1),me!==null&&at!==null&&gT(ne,at,me,Ee,!0)}}e:{if(K=q?bn(q):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Ge=Mv;else if(Dv(K))if(Vv)Ge=cC;else{Ge=lC;var pe=oC}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&to(q.elementType)&&(Ge=Mv):Ge=uC;if(Ge&&(Ge=Ge(r,q))){Ov(ne,Ge,o,J);break e}pe&&pe(r,K,q),r==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&Ol(K,"number",K.value)}switch(pe=q?bn(q):window,r){case"focusin":(Dv(pe)||pe.contentEditable==="true")&&(uo=pe,Kd=q,$l=null);break;case"focusout":$l=Kd=uo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,Fv(ne,o,J);break;case"selectionchange":if(hC)break;case"keydown":case"keyup":Fv(ne,o,J)}var xe;if(Ye)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else lo?cs(r,o)&&(je="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(Hr&&o.locale!=="ko"&&(lo||je!=="onCompositionStart"?je==="onCompositionEnd"&&lo&&(xe=Pl()):(jr=J,kl="value"in jr?jr.value:jr.textContent,lo=!0)),pe=kf(q,je),0<pe.length&&(je=new Fr(je,r,null,o,J),ne.push({event:je,listeners:pe}),xe?je.data=xe:(xe=oo(o),xe!==null&&(je.data=xe)))),(xe=Hn?rC(r,o):iC(r,o))&&(je=kf(q,"onBeforeInput"),0<je.length&&(pe=new Fr("onBeforeInput","beforeinput",null,o,J),ne.push({event:pe,listeners:je}),pe.data=xe)),QC(ne,r,q,o,J)}mT(ne,a)})}function pu(r,a,o){return{instance:r,listener:a,currentTarget:o}}function kf(r,a){for(var o=a+"Capture",u=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=fr(r,o),h!=null&&u.unshift(pu(r,h,m)),h=fr(r,a),h!=null&&u.push(pu(r,h,m))),r.tag===3)return u;r=r.return}return[]}function ZC(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function gT(r,a,o,u,h){for(var m=a._reactName,E=[];o!==null&&o!==u;){var A=o,k=A.alternate,q=A.stateNode;if(A=A.tag,k!==null&&k===u)break;A!==5&&A!==26&&A!==27||q===null||(k=q,h?(q=fr(o,m),q!=null&&E.unshift(pu(o,q,k))):h||(q=fr(o,m),q!=null&&E.push(pu(o,q,k)))),o=o.return}E.length!==0&&r.push({event:a,listeners:E})}var eI=/\r\n?/g,tI=/\u0000|\uFFFD/g;function yT(r){return(typeof r=="string"?r:""+r).replace(eI,`
`).replace(tI,"")}function vT(r,a){return a=yT(a),yT(r)===a}function it(r,a,o,u,h,m){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||pn(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&pn(r,""+u);break;case"className":An(r,"class",u);break;case"tabIndex":An(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(r,o,u);break;case"style":Vl(r,u,m);break;case"data":if(a!=="object"){An(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=no(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(a!=="input"&&it(r,a,"name",h.name,h,null),it(r,a,"formEncType",h.formEncType,h,null),it(r,a,"formMethod",h.formMethod,h,null),it(r,a,"formTarget",h.formTarget,h,null)):(it(r,a,"encType",h.encType,h,null),it(r,a,"method",h.method,h,null),it(r,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=no(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=cr);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=no(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ve("beforetoggle",r),Ve("toggle",r),Zs(r,"popover",u);break;case"xlinkActuate":xt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Zs(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lc.get(o)||o,Zs(r,o,u))}}function _p(r,a,o,u,h,m){switch(o){case"style":Vl(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?pn(r,u):(typeof u=="number"||typeof u=="bigint")&&pn(r,""+u);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"onClick":u!=null&&(r.onclick=cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),m=r[Ht]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(a,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Zs(r,o,u)}}}function Zt(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",r),Ve("load",r);var u=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:it(r,a,m,E,o,null)}}h&&it(r,a,"srcSet",o.srcSet,o,null),u&&it(r,a,"src",o.src,o,null);return;case"input":Ve("invalid",r);var A=m=E=h=null,k=null,q=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":h=J;break;case"type":E=J;break;case"checked":k=J;break;case"defaultChecked":q=J;break;case"value":m=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:it(r,a,u,J,o,null)}}Oc(r,m,A,k,q,E,h,!1);return;case"select":Ve("invalid",r),u=E=m=null;for(h in o)if(o.hasOwnProperty(h)&&(A=o[h],A!=null))switch(h){case"value":m=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:it(r,a,h,A,o,null)}a=m,o=E,r.multiple=!!u,a!=null?Qi(r,!!u,a,!1):o!=null&&Qi(r,!!u,o,!0);return;case"textarea":Ve("invalid",r),m=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":h=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:it(r,a,E,A,o,null)}Xi(r,u,h,m);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(u=o[k],u!=null))switch(k){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(r,a,k,u,o,null)}return;case"dialog":Ve("beforetoggle",r),Ve("toggle",r),Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":Ve("load",r);break;case"video":case"audio":for(u=0;u<mu.length;u++)Ve(mu[u],r);break;case"image":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"embed":case"source":case"link":Ve("error",r),Ve("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:it(r,a,q,u,o,null)}return;default:if(to(a)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&_p(r,a,J,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&it(r,a,A,u,o,null))}function nI(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,E=null,A=null,k=null,q=null,J=null;for(X in o){var ne=o[X];if(o.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=ne;default:u.hasOwnProperty(X)||it(r,a,X,null,u,ne)}}for(var K in u){var X=u[K];if(ne=o[K],u.hasOwnProperty(K)&&(X!=null||ne!=null))switch(K){case"type":m=X;break;case"name":h=X;break;case"checked":q=X;break;case"defaultChecked":J=X;break;case"value":E=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:X!==ne&&it(r,a,K,X,u,ne)}}eo(r,E,A,k,q,J,m,h);return;case"select":X=E=A=K=null;for(m in o)if(k=o[m],o.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":X=k;default:u.hasOwnProperty(m)||it(r,a,m,null,u,k)}for(h in u)if(m=u[h],k=o[h],u.hasOwnProperty(h)&&(m!=null||k!=null))switch(h){case"value":K=m;break;case"defaultValue":A=m;break;case"multiple":E=m;default:m!==k&&it(r,a,h,m,u,k)}a=A,o=E,u=X,K!=null?Qi(r,!!o,K,!1):!!u!=!!o&&(a!=null?Qi(r,!!o,a,!0):Qi(r,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(A in o)if(h=o[A],o.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:it(r,a,A,null,u,h)}for(E in u)if(h=u[E],m=o[E],u.hasOwnProperty(E)&&(h!=null||m!=null))switch(E){case"value":K=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&it(r,a,E,h,u,m)}Mc(r,K,X);return;case"option":for(var me in o)if(K=o[me],o.hasOwnProperty(me)&&K!=null&&!u.hasOwnProperty(me))switch(me){case"selected":r.selected=!1;break;default:it(r,a,me,null,u,K)}for(k in u)if(K=u[k],X=o[k],u.hasOwnProperty(k)&&K!==X&&(K!=null||X!=null))switch(k){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:it(r,a,k,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)K=o[Ee],o.hasOwnProperty(Ee)&&K!=null&&!u.hasOwnProperty(Ee)&&it(r,a,Ee,null,u,K);for(q in u)if(K=u[q],X=o[q],u.hasOwnProperty(q)&&K!==X&&(K!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:it(r,a,q,K,u,X)}return;default:if(to(a)){for(var at in o)K=o[at],o.hasOwnProperty(at)&&K!==void 0&&!u.hasOwnProperty(at)&&_p(r,a,at,void 0,u,K);for(J in u)K=u[J],X=o[J],!u.hasOwnProperty(J)||K===X||K===void 0&&X===void 0||_p(r,a,J,K,u,X);return}}for(var B in o)K=o[B],o.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&it(r,a,B,null,u,K);for(ne in u)K=u[ne],X=o[ne],!u.hasOwnProperty(ne)||K===X||K==null&&X==null||it(r,a,ne,K,u,X)}function _T(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rI(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var h=o[u],m=h.transferSize,E=h.initiatorType,A=h.duration;if(m&&A&&_T(E)){for(E=0,A=h.responseEnd,u+=1;u<o.length;u++){var k=o[u],q=k.startTime;if(q>A)break;var J=k.transferSize,ne=k.initiatorType;J&&_T(ne)&&(k=k.responseEnd,E+=J*(k<A?1:(A-q)/(k-q)))}if(--u,a+=8*(m+E)/(h.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ep=null,Tp=null;function Pf(r){return r.nodeType===9?r:r.ownerDocument}function ET(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TT(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function wp(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Sp=null;function iI(){var r=window.event;return r&&r.type==="popstate"?r===Sp?!1:(Sp=r,!0):(Sp=null,!1)}var wT=typeof setTimeout=="function"?setTimeout:void 0,aI=typeof clearTimeout=="function"?clearTimeout:void 0,ST=typeof Promise=="function"?Promise:void 0,sI=typeof queueMicrotask=="function"?queueMicrotask:typeof ST<"u"?function(r){return ST.resolve(null).then(r).catch(oI)}:wT;function oI(r){setTimeout(function(){throw r})}function _a(r){return r==="head"}function bT(r,a){var o=a,u=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(h),Po(a);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")gu(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,gu(o);for(var m=o.firstChild;m;){var E=m.nextSibling,A=m.nodeName;m[Or]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=E}}else o==="body"&&gu(r.ownerDocument.body);o=h}while(o);Po(a)}function AT(r,a){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function bp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bp(o),Js(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function lI(r,a,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Or])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Xn(r.nextSibling),r===null)break}return null}function uI(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Xn(r.nextSibling),r===null))return null;return r}function RT(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Xn(r.nextSibling),r===null))return null;return r}function Ap(r){return r.data==="$?"||r.data==="$~"}function Rp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function cI(r,a){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||o.readyState!=="loading")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Xn(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Cp=null;function CT(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(a===0)return Xn(r.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}r=r.nextSibling}return null}function IT(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return r;a--}else o!=="/$"&&o!=="/&"||a++}r=r.previousSibling}return null}function NT(r,a,o){switch(a=Pf(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function gu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Js(r)}var Wn=new Map,xT=new Set;function Uf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Si=ue.d;ue.d={f:fI,r:hI,D:dI,C:mI,L:pI,m:gI,X:vI,S:yI,M:_I};function fI(){var r=Si.f(),a=Nf();return r||a}function hI(r){var a=zn(r);a!==null&&a.tag===5&&a.type==="form"?K_(a):Si.r(r)}var Vo=typeof document>"u"?null:document;function DT(r,a,o){var u=Vo;if(u&&typeof a=="string"&&a){var h=mn(a);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),xT.has(h)||(xT.add(h),r={rel:r,crossOrigin:o,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),Zt(a,"link",r),Nt(a),u.head.appendChild(a)))}}function dI(r){Si.D(r),DT("dns-prefetch",r,null)}function mI(r,a){Si.C(r,a),DT("preconnect",r,a)}function pI(r,a,o){Si.L(r,a,o);var u=Vo;if(u&&r&&a){var h='link[rel="preload"][as="'+mn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+mn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+mn(o.imageSizes)+'"]')):h+='[href="'+mn(r)+'"]';var m=h;switch(a){case"style":m=Lo(r);break;case"script":m=ko(r)}Wn.has(m)||(r=_({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Wn.set(m,r),u.querySelector(h)!==null||a==="style"&&u.querySelector(yu(m))||a==="script"&&u.querySelector(vu(m))||(a=u.createElement("link"),Zt(a,"link",r),Nt(a),u.head.appendChild(a)))}}function gI(r,a){Si.m(r,a);var o=Vo;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+mn(u)+'"][href="'+mn(r)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ko(r)}if(!Wn.has(m)&&(r=_({rel:"modulepreload",href:r},a),Wn.set(m,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(vu(m)))return}u=o.createElement("link"),Zt(u,"link",r),Nt(u),o.head.appendChild(u)}}}function yI(r,a,o){Si.S(r,a,o);var u=Vo;if(u&&r){var h=Vr(u).hoistableStyles,m=Lo(r);a=a||"default";var E=h.get(m);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(yu(m)))A.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Wn.get(m))&&Ip(r,o);var k=E=u.createElement("link");Nt(k),Zt(k,"link",r),k._p=new Promise(function(q,J){k.onload=q,k.onerror=J}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,jf(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(m,E)}}}function vI(r,a){Si.X(r,a);var o=Vo;if(o&&r){var u=Vr(o).hoistableScripts,h=ko(r),m=u.get(h);m||(m=o.querySelector(vu(h)),m||(r=_({src:r,async:!0},a),(a=Wn.get(h))&&Np(r,a),m=o.createElement("script"),Nt(m),Zt(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function _I(r,a){Si.M(r,a);var o=Vo;if(o&&r){var u=Vr(o).hoistableScripts,h=ko(r),m=u.get(h);m||(m=o.querySelector(vu(h)),m||(r=_({src:r,async:!0,type:"module"},a),(a=Wn.get(h))&&Np(r,a),m=o.createElement("script"),Nt(m),Zt(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function OT(r,a,o,u){var h=(h=be.current)?Uf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Lo(o.href),o=Vr(h).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Lo(o.href);var m=Vr(h).hoistableStyles,E=m.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=h.querySelector(yu(r)))&&!m._p&&(E.instance=m,E.state.loading=5),Wn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(r,o),m||EI(h,r,o,E.state))),a&&u===null)throw Error(i(528,""));return E}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ko(o),o=Vr(h).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Lo(r){return'href="'+mn(r)+'"'}function yu(r){return'link[rel="stylesheet"]['+r+"]"}function MT(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function EI(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Zt(a,"link",o),Nt(a),r.head.appendChild(a))}function ko(r){return'[src="'+mn(r)+'"]'}function vu(r){return"script[async]"+r}function VT(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+mn(o.href)+'"]');if(u)return a.instance=u,Nt(u),u;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Nt(u),Zt(u,"style",h),jf(u,o.precedence,r),a.instance=u;case"stylesheet":h=Lo(o.href);var m=r.querySelector(yu(h));if(m)return a.state.loading|=4,a.instance=m,Nt(m),m;u=MT(o),(h=Wn.get(h))&&Ip(u,h),m=(r.ownerDocument||r).createElement("link"),Nt(m);var E=m;return E._p=new Promise(function(A,k){E.onload=A,E.onerror=k}),Zt(m,"link",u),a.state.loading|=4,jf(m,o.precedence,r),a.instance=m;case"script":return m=ko(o.src),(h=r.querySelector(vu(m)))?(a.instance=h,Nt(h),h):(u=o,(h=Wn.get(m))&&(u=_({},o),Np(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),Nt(h),Zt(h,"link",u),r.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,jf(u,o.precedence,r));return a.instance}function jf(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===a)m=A;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function Ip(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Np(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var zf=null;function LT(r,a,o){if(zf===null){var u=new Map,h=zf=new Map;h.set(o,u)}else h=zf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var m=o[h];if(!(m[Or]||m[It]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(a)||"";E=r+E;var A=u.get(E);A?A.push(m):u.set(E,[m])}}return u}function kT(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function TI(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function PT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function wI(r,a,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Lo(u.href),m=a.querySelector(yu(h));if(m){a=m._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Bf.bind(r),a.then(r,r)),o.state.loading|=4,o.instance=m,Nt(m);return}m=a.ownerDocument||a,u=MT(u),(h=Wn.get(h))&&Ip(u,h),m=m.createElement("link"),Nt(m);var E=m;E._p=new Promise(function(A,k){E.onload=A,E.onerror=k}),Zt(m,"link",u),o.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Bf.bind(r),a.addEventListener("load",o),a.addEventListener("error",o))}}var xp=0;function SI(r,a){return r.stylesheets&&r.count===0&&Hf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&Hf(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+a);0<r.imgBytes&&xp===0&&(xp=62500*rI());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Hf(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>xp?50:800)+a);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function Bf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ff=null;function Hf(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ff=new Map,a.forEach(bI,r),Ff=null,Bf.call(r))}function bI(r,a){if(!(a.state.loading&4)){var o=Ff.get(r);if(o)var u=o.get(null);else{o=new Map,Ff.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var E=h[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=a.instance,E=h.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,h),o.set(E,h),this.count++,u=Bf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),a.state.loading|=4}}var _u={$$typeof:Y,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function AI(r,a,o,u,h,m,E,A,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function UT(r,a,o,u,h,m,E,A,k,q,J,ne){return r=new AI(r,a,o,E,k,q,J,ne,A),a=1,m===!0&&(a|=24),m=Cn(3,null,null,a),r.current=m,m.stateNode=r,a=um(),a.refCount++,r.pooledCache=a,a.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:a},dm(m),r}function jT(r){return r?(r=ho,r):ho}function zT(r,a,o,u,h,m){h=jT(h),u.context===null?u.context=h:u.pendingContext=h,u=la(a),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=ua(r,u,a),o!==null&&(En(o,r,a),Wl(o,r,a))}function BT(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function Dp(r,a){BT(r,a),(r=r.alternate)&&BT(r,a)}function FT(r){if(r.tag===13||r.tag===31){var a=ds(r,67108864);a!==null&&En(a,r,67108864),Dp(r,67108864)}}function HT(r){if(r.tag===13||r.tag===31){var a=On();a=ts(a);var o=ds(r,a);o!==null&&En(o,r,a),Dp(r,a)}}var $f=!0;function RI(r,a,o,u){var h=W.T;W.T=null;var m=ue.p;try{ue.p=2,Op(r,a,o,u)}finally{ue.p=m,W.T=h}}function CI(r,a,o,u){var h=W.T;W.T=null;var m=ue.p;try{ue.p=8,Op(r,a,o,u)}finally{ue.p=m,W.T=h}}function Op(r,a,o,u){if($f){var h=Mp(u);if(h===null)vp(r,a,u,qf,o),qT(r,u);else if(NI(h,r,a,o,u))u.stopPropagation();else if(qT(r,u),a&4&&-1<II.indexOf(r)){for(;h!==null;){var m=zn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Ir(m.pendingLanes);if(E!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var k=1<<31-wt(E);A.entanglements[1]|=k,E&=~k}Kr(m),(Qe&6)===0&&(Cf=Ft()+500,du(0))}}break;case 31:case 13:A=ds(m,2),A!==null&&En(A,m,2),Nf(),Dp(m,2)}if(m=Mp(u),m===null&&vp(r,a,u,qf,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else vp(r,a,u,null,o)}}function Mp(r){return r=Bn(r),Vp(r)}var qf=null;function Vp(r){if(qf=null,r=Mr(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===31){if(r=d(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return qf=r,null}function $T(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ii()){case Pe:return 2;case Un:return 8;case ar:case zd:return 32;case wc:return 268435456;default:return 32}default:return 32}}var Lp=!1,Ea=null,Ta=null,wa=null,Eu=new Map,Tu=new Map,Sa=[],II="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qT(r,a){switch(r){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Eu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(a.pointerId)}}function wu(r,a,o,u,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},a!==null&&(a=zn(a),a!==null&&FT(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function NI(r,a,o,u,h){switch(a){case"focusin":return Ea=wu(Ea,r,a,o,u,h),!0;case"dragenter":return Ta=wu(Ta,r,a,o,u,h),!0;case"mouseover":return wa=wu(wa,r,a,o,u,h),!0;case"pointerover":var m=h.pointerId;return Eu.set(m,wu(Eu.get(m)||null,r,a,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,Tu.set(m,wu(Tu.get(m)||null,r,a,o,u,h)),!0}return!1}function GT(r){var a=Mr(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,lr(r.priority,function(){HT(o)});return}}else if(a===31){if(a=d(o),a!==null){r.blockedOn=a,lr(r.priority,function(){HT(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Mp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Ll=u,o.target.dispatchEvent(u),Ll=null}else return a=zn(o),a!==null&&FT(a),r.blockedOn=o,!1;a.shift()}return!0}function KT(r,a,o){Gf(r)&&o.delete(a)}function xI(){Lp=!1,Ea!==null&&Gf(Ea)&&(Ea=null),Ta!==null&&Gf(Ta)&&(Ta=null),wa!==null&&Gf(wa)&&(wa=null),Eu.forEach(KT),Tu.forEach(KT)}function Kf(r,a){r.blockedOn===a&&(r.blockedOn=null,Lp||(Lp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xI)))}var Yf=null;function YT(r){Yf!==r&&(Yf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yf===r&&(Yf=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],h=r[a+2];if(typeof u!="function"){if(Vp(u||o)===null)continue;break}var m=zn(o);m!==null&&(r.splice(a,3),a-=3,Mm(m,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Po(r){function a(k){return Kf(k,r)}Ea!==null&&Kf(Ea,r),Ta!==null&&Kf(Ta,r),wa!==null&&Kf(wa,r),Eu.forEach(a),Tu.forEach(a);for(var o=0;o<Sa.length;o++){var u=Sa[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Sa.length&&(o=Sa[0],o.blockedOn===null);)GT(o),o.blockedOn===null&&Sa.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],m=o[u+1],E=h[Ht]||null;if(typeof m=="function")E||YT(o);else if(E){var A=null;if(m&&m.hasAttribute("formAction")){if(h=m,E=m[Ht]||null)A=E.formAction;else if(Vp(h)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),YT(o)}}}function QT(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function a(){h!==null&&(h(),h=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),h!==null&&(h(),h=null)}}}function kp(r){this._internalRoot=r}Qf.prototype.render=kp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=On();zT(o,u,r,a,null,null)},Qf.prototype.unmount=kp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;zT(r.current,2,null,r,null,null),Nf(),a[Dr]=null}};function Qf(r){this._internalRoot=r}Qf.prototype.unstable_scheduleHydration=function(r){if(r){var a=Ic();r={blockedOn:null,target:r,priority:a};for(var o=0;o<Sa.length&&a!==0&&a<Sa[o].priority;o++);Sa.splice(o,0,r),o===0&&GT(r)}};var XT=e.version;if(XT!=="19.2.0")throw Error(i(527,XT,"19.2.0"));ue.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(a),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var DI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{sr=Xf.inject(DI),Yt=Xf}catch{}}return bu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",h=rE,m=iE,E=aE;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=UT(r,1,!1,null,null,o,u,null,h,m,E,QT),r[Dr]=a.current,yp(r),new kp(a)},bu.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,h="",m=rE,E=iE,A=aE,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),a=UT(r,1,!0,a,o??null,u,h,k,m,E,A,QT),a.context=jT(null),o=a.current,u=On(),u=ts(u),h=la(u),h.callback=null,ua(o,h,u),o=u,a.current.lanes=o,Za(a,o),Kr(a),r[Dr]=a.current,yp(r),new Qf(a)},bu.version="19.2.0",bu}var sw;function zI(){if(sw)return Up.exports;sw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Up.exports=jI(),Up.exports}var BI=zI(),w=ty();const Ci=Jh(w);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ow="popstate";function FI(n={}){function e(s,l){let{pathname:c="/",search:d="",hash:p=""}=Bs(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),yg("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=s.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Fu(l))}function i(s,l){tr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return $I(e,t,i,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HI(){return Math.random().toString(36).substring(2,10)}function lw(n,e){return{usr:n.state,key:n.key,idx:e}}function yg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Bs(e):e,state:t,key:e&&e.key||i||HI()}}function Fu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Bs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function $I(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function _(){d="POP";let L=v(),F=L==null?null:L-g;g=L,p&&p({action:d,location:U.location,delta:F})}function S(L,F){d="PUSH";let G=yg(U.location,L,F);t&&t(G,L),g=v()+1;let Y=lw(G,g),oe=U.createHref(G);try{c.pushState(Y,"",oe)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;s.location.assign(oe)}l&&p&&p({action:d,location:U.location,delta:1})}function N(L,F){d="REPLACE";let G=yg(U.location,L,F);t&&t(G,L),g=v();let Y=lw(G,g),oe=U.createHref(G);c.replaceState(Y,"",oe),l&&p&&p({action:d,location:U.location,delta:0})}function M(L){return qI(L)}let U={get action(){return d},get location(){return n(s,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(ow,_),p=L,()=>{s.removeEventListener(ow,_),p=null}},createHref(L){return e(s,L)},createURL:M,encodeLocation(L){let F=M(L);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:N,go(L){return c.go(L)}};return U}function qI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Fu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function ES(n,e,t="/"){return GI(n,e,t,!1)}function GI(n,e,t,i){let s=typeof e=="string"?Bs(e):e,l=ki(s.pathname||"/",t);if(l==null)return null;let c=TS(n);KI(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=iN(l);d=nN(c[p],g,i)}return d}function TS(n,e=[],t=[],i="",s=!1){let l=(c,d,p=s,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;gt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let _=Di([i,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),TS(c.children,e,S,_,p)),!(c.path==null&&!c.index)&&e.push({path:_,score:eN(_,c.index),routesMeta:S})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of wS(c.path))l(c,d,!0,p)}),e}function wS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=wS(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function KI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:tN(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var YI=/^:[\w-]+$/,QI=3,XI=2,WI=1,JI=10,ZI=-2,uw=n=>n==="*";function eN(n,e){let t=n.split("/"),i=t.length;return t.some(uw)&&(i+=ZI),e&&(i+=XI),t.filter(s=>!uw(s)).reduce((s,l)=>s+(YI.test(l)?QI:l===""?WI:JI),i)}function tN(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function nN(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!_&&g&&t&&!i[i.length-1].route.index&&(_=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:Di([l,_.pathname]),pathnameBase:uN(Di([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=Di([l,_.pathnameBase]))}return c}function bh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=rN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:_},S)=>{if(v==="*"){let M=d[S]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const N=d[S];return _&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function rN(n,e=!1,t=!0){tr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function iN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ki(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var aN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sN=n=>aN.test(n);function oN(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Bs(n):n,l;if(t)if(sN(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),tr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=cw(t.substring(1),"/"):l=cw(t,e)}else l=e;return{pathname:l,search:cN(i),hash:fN(s)}}function cw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Hp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function SS(n){let e=lN(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function bS(n,e,t,i=!1){let s;typeof n=="string"?s=Bs(n):(s={...n},gt(!s.pathname||!s.pathname.includes("?"),Hp("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Hp("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Hp("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;s.pathname=S.join("/")}d=_>=0?e[_]:"/"}let p=oN(s,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Di=n=>n.join("/").replace(/\/\/+/g,"/"),uN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function dN(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AS=["POST","PUT","PATCH","DELETE"];new Set(AS);var mN=["GET",...AS];new Set(mN);var ll=w.createContext(null);ll.displayName="DataRouter";var Zh=w.createContext(null);Zh.displayName="DataRouterState";w.createContext(!1);var RS=w.createContext({isTransitioning:!1});RS.displayName="ViewTransition";var pN=w.createContext(new Map);pN.displayName="Fetchers";var gN=w.createContext(null);gN.displayName="Await";var br=w.createContext(null);br.displayName="Navigation";var tc=w.createContext(null);tc.displayName="Location";var Hi=w.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var ny=w.createContext(null);ny.displayName="RouteError";function yN(n,{relative:e}={}){gt(nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(br),{hash:s,pathname:l,search:c}=rc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Di([t,l])),i.createHref({pathname:d,search:c,hash:s})}function nc(){return w.useContext(tc)!=null}function Fs(){return gt(nc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(tc).location}var CS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IS(n){w.useContext(br).static||w.useLayoutEffect(n)}function Hs(){let{isDataRoute:n}=w.useContext(Hi);return n?xN():vN()}function vN(){gt(nc(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(ll),{basename:e,navigator:t}=w.useContext(br),{matches:i}=w.useContext(Hi),{pathname:s}=Fs(),l=JSON.stringify(SS(i)),c=w.useRef(!1);return IS(()=>{c.current=!0}),w.useCallback((p,g={})=>{if(tr(c.current,CS),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=bS(p,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Di([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,s,n])}w.createContext(null);function rc(n,{relative:e}={}){let{matches:t}=w.useContext(Hi),{pathname:i}=Fs(),s=JSON.stringify(SS(t));return w.useMemo(()=>bS(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function _N(n,e){return NS(n,e)}function NS(n,e,t,i,s){gt(nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(br),{matches:c}=w.useContext(Hi),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let G=_&&_.path||"";xS(g,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=Fs(),N;if(e){let G=typeof e=="string"?Bs(e):e;gt(v==="/"||G.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),N=G}else N=S;let M=N.pathname||"/",U=M;if(v!=="/"){let G=v.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=ES(n,{pathname:U});tr(_||L!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),tr(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=bN(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:Di([v,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:Di([v,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,t,i,s);return e&&F?w.createElement(tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},F):F}function EN(){let n=NN(),e=hN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:s},t):null,c)}var TN=w.createElement(EN,null),wN=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Hi.Provider,{value:this.props.routeContext},w.createElement(ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SN({routeContext:n,match:e,children:t}){let i=w.useContext(ll);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Hi.Provider,{value:n},t)}function bN(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let v=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);gt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:S,errors:N}=t,M=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!N||N[_.route.id]===void 0);if(_.route.lazy||M){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&i?(v,_)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:dN(t.matches),errorInfo:_})}:void 0;return l.reduceRight((v,_,S)=>{let N,M=!1,U=null,L=null;t&&(N=c&&_.route.id?c[_.route.id]:void 0,U=_.route.errorElement||TN,d&&(p<0&&S===0?(xS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,L=null):p===S&&(M=!0,L=_.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,S+1)),G=()=>{let Y;return N?Y=U:M?Y=L:_.route.Component?Y=w.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=v,w.createElement(SN,{match:_,routeContext:{outlet:v,matches:F,isDataRoute:t!=null},children:Y})};return t&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?w.createElement(wN,{location:t.location,revalidation:t.revalidation,component:U,error:N,children:G(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):G()},null)}function ry(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AN(n){let e=w.useContext(ll);return gt(e,ry(n)),e}function RN(n){let e=w.useContext(Zh);return gt(e,ry(n)),e}function CN(n){let e=w.useContext(Hi);return gt(e,ry(n)),e}function iy(n){let e=CN(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function IN(){return iy("useRouteId")}function NN(){let n=w.useContext(ny),e=RN("useRouteError"),t=iy("useRouteError");return n!==void 0?n:e.errors?.[t]}function xN(){let{router:n}=AN("useNavigate"),e=iy("useNavigate"),t=w.useRef(!1);return IS(()=>{t.current=!0}),w.useCallback(async(s,l={})=>{tr(t.current,CS),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var fw={};function xS(n,e,t){!e&&!fw[n]&&(fw[n]=!0,tr(!1,t))}w.memo(DN);function DN({routes:n,future:e,state:t,unstable_onError:i}){return NS(n,void 0,t,i,e)}function Ra(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ON({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1,unstable_useTransitions:c}){gt(!nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:d,navigator:s,static:l,unstable_useTransitions:c,future:{}}),[d,s,l,c]);typeof t=="string"&&(t=Bs(t));let{pathname:g="/",search:v="",hash:_="",state:S=null,key:N="default"}=t,M=w.useMemo(()=>{let U=ki(g,d);return U==null?null:{location:{pathname:U,search:v,hash:_,state:S,key:N},navigationType:i}},[d,g,v,_,S,N,i]);return tr(M!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:w.createElement(br.Provider,{value:p},w.createElement(tc.Provider,{children:e,value:M}))}function MN({children:n,location:e}){return _N(vg(n),e)}function vg(n,e=[]){let t=[];return w.Children.forEach(n,(i,s)=>{if(!w.isValidElement(i))return;let l=[...e,s];if(i.type===w.Fragment){t.push.apply(t,vg(i.props.children,l));return}gt(i.type===Ra,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=vg(i.props.children,l)),t.push(c)}),t}var uh="get",ch="application/x-www-form-urlencoded";function ed(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function VN(n){return ed(n)&&n.tagName.toLowerCase()==="button"}function LN(n){return ed(n)&&n.tagName.toLowerCase()==="form"}function kN(n){return ed(n)&&n.tagName.toLowerCase()==="input"}function PN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UN(n,e){return n.button===0&&(!e||e==="_self")&&!PN(n)}var Wf=null;function jN(){if(Wf===null)try{new FormData(document.createElement("form"),0),Wf=!1}catch{Wf=!0}return Wf}var zN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $p(n){return n!=null&&!zN.has(n)?(tr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):n}function BN(n,e){let t,i,s,l,c;if(LN(n)){let d=n.getAttribute("action");i=d?ki(d,e):null,t=n.getAttribute("method")||uh,s=$p(n.getAttribute("enctype"))||ch,l=new FormData(n)}else if(VN(n)||kN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?ki(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||uh,s=$p(n.getAttribute("formenctype"))||$p(d.getAttribute("enctype"))||ch,l=new FormData(d,n),!jN()){let{name:g,type:v,value:_}=n;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,_)}}else{if(ed(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uh,i=null,s=ch,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ay(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function FN(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&ki(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function HN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $N(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function qN(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await HN(l,t);return c.links?c.links():[]}return[]}));return QN(i.flat(1).filter($N).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function hw(n,e,t,i,s,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function GN(n,e,{includeHydrateFallback:t}={}){return KN(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function KN(n){return[...new Set(n)]}function YN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function QN(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(YN(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}function DS(){let n=w.useContext(ll);return ay(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function XN(){let n=w.useContext(Zh);return ay(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var sy=w.createContext(void 0);sy.displayName="FrameworkContext";function OS(){let n=w.useContext(sy);return ay(n,"You must render this element inside a <HydratedRouter> element"),n}function WN(n,e){let t=w.useContext(sy),[i,s]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,S=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let U=F=>{F.forEach(G=>{c(G.isIntersecting)})},L=new IntersectionObserver(U,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[n]),w.useEffect(()=>{if(i){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[i]);let N=()=>{s(!0)},M=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Au(d,N),onBlur:Au(p,M),onMouseEnter:Au(g,N),onMouseLeave:Au(v,M),onTouchStart:Au(_,N)}]:[!1,S,{}]}function Au(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function JN({page:n,...e}){let{router:t}=DS(),i=w.useMemo(()=>ES(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?w.createElement(ex,{page:n,matches:i,...e}):null}function ZN(n){let{manifest:e,routeModules:t}=OS(),[i,s]=w.useState([]);return w.useEffect(()=>{let l=!1;return qN(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function ex({page:n,matches:e,...t}){let i=Fs(),{manifest:s,routeModules:l}=OS(),{basename:c}=DS(),{loaderData:d,matches:p}=XN(),g=w.useMemo(()=>hw(n,e,p,s,i,"data"),[n,e,p,s,i]),v=w.useMemo(()=>hw(n,e,p,s,i,"assets"),[n,e,p,s,i]),_=w.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,U=!1;if(e.forEach(F=>{let G=s.routes[F.route.id];!G||!G.hasLoader||(!g.some(Y=>Y.route.id===F.route.id)&&F.route.id in d&&l[F.route.id]?.shouldRevalidate||G.hasClientLoader?U=!0:M.add(F.route.id))}),M.size===0)return[];let L=FN(n,c,"data");return U&&M.size>0&&L.searchParams.set("_routes",e.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[L.pathname+L.search]},[c,d,i,s,g,e,n,l]),S=w.useMemo(()=>GN(v,s),[v,s]),N=ZN(v);return w.createElement(w.Fragment,null,_.map(M=>w.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),S.map(M=>w.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),N.map(({key:M,link:U})=>w.createElement("link",{key:M,nonce:t.nonce,...U})))}function tx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MS&&(window.__reactRouterVersion="7.10.1")}catch{}function nx({basename:n,children:e,unstable_useTransitions:t,window:i}){let s=w.useRef();s.current==null&&(s.current=FI({window:i,v5Compat:!0}));let l=s.current,[c,d]=w.useState({action:l.action,location:l.location}),p=w.useCallback(g=>{t===!1?d(g):w.startTransition(()=>d(g))},[t]);return w.useLayoutEffect(()=>l.listen(p),[l,p]),w.createElement(ON,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t===!0})}var VS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qr=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:_,...S},N){let{basename:M,unstable_useTransitions:U}=w.useContext(br),L=typeof g=="string"&&VS.test(g),F,G=!1;if(typeof g=="string"&&L&&(F=g,MS))try{let O=new URL(window.location.href),D=g.startsWith("//")?new URL(O.protocol+g):new URL(g),z=ki(D.pathname,M);D.origin===O.origin&&z!=null?g=z+D.search+D.hash:G=!0}catch{tr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=yN(g,{relative:s}),[oe,ie,ae]=WN(i,S),x=sx(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:s,viewTransition:_,unstable_useTransitions:U});function R(O){e&&e(O),O.defaultPrevented||x(O)}let I=w.createElement("a",{...S,...ae,href:F||Y,onClick:G||l?e:R,ref:tx(N,ie),target:p,"data-discover":!L&&t==="render"?"true":void 0});return oe&&!L?w.createElement(w.Fragment,null,I,w.createElement(JN,{page:Y})):I});Qr.displayName="Link";var rx=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let _=rc(c,{relative:g.relative}),S=Fs(),N=w.useContext(Zh),{navigator:M,basename:U}=w.useContext(br),L=N!=null&&fx(_)&&d===!0,F=M.encodeLocation?M.encodeLocation(_).pathname:_.pathname,G=S.pathname,Y=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(G=G.toLowerCase(),Y=Y?Y.toLowerCase():null,F=F.toLowerCase()),Y&&U&&(Y=ki(Y,U)||Y);const oe=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ie=G===F||!s&&G.startsWith(F)&&G.charAt(oe)==="/",ae=Y!=null&&(Y===F||!s&&Y.startsWith(F)&&Y.charAt(F.length)==="/"),x={isActive:ie,isPending:ae,isTransitioning:L},R=ie?e:void 0,I;typeof i=="function"?I=i(x):I=[i,ie?"active":null,ae?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(x):l;return w.createElement(Qr,{...g,"aria-current":R,className:I,ref:v,style:O,to:c,viewTransition:d},typeof p=="function"?p(x):p)});rx.displayName="NavLink";var ix=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=uh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:_,...S},N)=>{let{unstable_useTransitions:M}=w.useContext(br),U=ux(),L=cx(d,{relative:g}),F=c.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&VS.test(d),Y=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let ie=oe.nativeEvent.submitter,ae=ie?.getAttribute("formmethod")||c,x=()=>U(ie||oe.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:_});M&&t!==!1?w.startTransition(()=>x()):x()};return w.createElement("form",{ref:N,method:F,action:L,onSubmit:i?p:Y,...S,"data-discover":!G&&n==="render"?"true":void 0})});ix.displayName="Form";function ax(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(n){let e=w.useContext(ll);return gt(e,ax(n)),e}function sx(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let p=Hs(),g=Fs(),v=rc(n,{relative:l});return w.useCallback(_=>{if(UN(_,e)){_.preventDefault();let S=t!==void 0?t:Fu(g)===Fu(v),N=()=>p(n,{replace:S,state:i,preventScrollReset:s,relative:l,viewTransition:c});d?w.startTransition(()=>N()):N()}},[g,p,v,t,i,e,n,s,l,c,d])}var ox=0,lx=()=>`__${String(++ox)}__`;function ux(){let{router:n}=LS("useSubmit"),{basename:e}=w.useContext(br),t=IN(),i=n.fetch,s=n.navigate;return w.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:v,body:_}=BN(l,e);if(c.navigate===!1){let S=c.fetcherKey||lx();await i(S,t,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await s(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,s,e,t])}function cx(n,{relative:e}={}){let{basename:t}=w.useContext(br),i=w.useContext(Hi);gt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...rc(n||".",{relative:e})},c=Fs();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Di([t,l.pathname])),Fu(l)}function fx(n,{relative:e}={}){let t=w.useContext(RS);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=LS("useViewTransitionState"),s=rc(n,{relative:e});if(!t.isTransitioning)return!1;let l=ki(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ki(t.nextLocation.pathname,i)||t.nextLocation.pathname;return bh(s.pathname,c)!=null||bh(s.pathname,l)!=null}var hx=_S();const qo=Jh(hx);var qp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var dw;function dx(){return dw||(dw=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=s(l,i(d)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)e.call(l,d)&&l[d]&&(c=s(c,d));return c}function s(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(qp)),qp.exports}var mx=dx();const ge=Jh(mx);function _g(){return _g=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_g.apply(null,arguments)}function kS(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function mw(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function px(n){var e=gx(n,"string");return typeof e=="symbol"?e:String(e)}function gx(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function yx(n,e,t){var i=w.useRef(n!==void 0),s=w.useState(e),l=s[0],c=s[1],d=n!==void 0,p=i.current;return i.current=d,!d&&p&&l!==e&&c(e),[d?n:l,w.useCallback(function(g){for(var v=arguments.length,_=new Array(v>1?v-1:0),S=1;S<v;S++)_[S-1]=arguments[S];t&&t.apply(void 0,[g].concat(_)),c(g)},[t])]}function oy(n,e){return Object.keys(e).reduce(function(t,i){var s,l=t,c=l[mw(i)],d=l[i],p=kS(l,[mw(i),i].map(px)),g=e[i],v=yx(d,c,n[g]),_=v[0],S=v[1];return _g({},p,(s={},s[i]=_,s[g]=S,s))},n)}function Eg(n,e){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Eg(n,e)}function vx(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Eg(n,e)}const _x=["xxl","xl","lg","md","sm","xs"],Ex="xs",ic=w.createContext({prefixes:{},breakpoints:_x,minBreakpoint:Ex}),{Consumer:O6,Provider:M6}=ic;function Se(n,e){const{prefixes:t}=w.useContext(ic);return n||t[e]||e}function PS(){const{breakpoints:n}=w.useContext(ic);return n}function US(){const{minBreakpoint:n}=w.useContext(ic);return n}function Tx(){const{dir:n}=w.useContext(ic);return n==="rtl"}function td(n){return n&&n.ownerDocument||document}function wx(n){var e=td(n);return e&&e.defaultView||window}function Sx(n,e){return wx(n).getComputedStyle(n,e)}var bx=/([A-Z])/g;function Ax(n){return n.replace(bx,"-$1").toLowerCase()}var Rx=/^ms-/;function Jf(n){return Ax(n).replace(Rx,"-ms-")}var Cx=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Ix(n){return!!(n&&Cx.test(n))}function Oi(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Jf(e))||Sx(n).getPropertyValue(Jf(e));Object.keys(e).forEach(function(s){var l=e[s];!l&&l!==0?n.style.removeProperty(Jf(s)):Ix(s)?i+=s+"("+l+") ":t+=Jf(s)+": "+l+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var Gp={exports:{}},Kp,pw;function Nx(){if(pw)return Kp;pw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kp=n,Kp}var Yp,gw;function xx(){if(gw)return Yp;gw=1;var n=Nx();function e(){}function t(){}return t.resetWarningCache=e,Yp=function(){function i(c,d,p,g,v,_){if(_!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function s(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Yp}var yw;function Dx(){return yw||(yw=1,Gp.exports=xx()()),Gp.exports}var Ox=Dx();const Mi=Jh(Ox),vw={disabled:!1},jS=Ci.createContext(null);var Mx=function(e){return e.scrollTop},Nu="unmounted",Ca="exited",vr="entering",bi="entered",Hu="exiting",$i=(function(n){vx(e,n);function e(i,s){var l;l=n.call(this,i,s)||this;var c=s,d=c&&!c.isMounting?i.enter:i.appear,p;return l.appearStatus=null,i.in?d?(p=Ca,l.appearStatus=vr):p=bi:i.unmountOnExit||i.mountOnEnter?p=Nu:p=Ca,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(s,l){var c=s.in;return c&&l.status===Nu?{status:Ca}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var l=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==vr&&c!==bi&&(l=vr):(c===vr||c===bi)&&(l=Hu)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,l,c,d;return l=c=d=s,s!=null&&typeof s!="number"&&(l=s.exit,c=s.enter,d=s.appear!==void 0?s.appear:c),{exit:l,enter:c,appear:d}},t.updateStatus=function(s,l){if(s===void 0&&(s=!1),l!==null)if(this.cancelNextCallback(),l===vr){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:qo.findDOMNode(this);c&&Mx(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ca&&this.setState({status:Nu})},t.performEnter=function(s){var l=this,c=this.props.enter,d=this.context?this.context.isMounting:s,p=this.props.nodeRef?[d]:[qo.findDOMNode(this),d],g=p[0],v=p[1],_=this.getTimeouts(),S=d?_.appear:_.enter;if(!s&&!c||vw.disabled){this.safeSetState({status:bi},function(){l.props.onEntered(g)});return}this.props.onEnter(g,v),this.safeSetState({status:vr},function(){l.props.onEntering(g,v),l.onTransitionEnd(S,function(){l.safeSetState({status:bi},function(){l.props.onEntered(g,v)})})})},t.performExit=function(){var s=this,l=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:qo.findDOMNode(this);if(!l||vw.disabled){this.safeSetState({status:Ca},function(){s.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Hu},function(){s.props.onExiting(d),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:Ca},function(){s.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,l){l=this.setNextCallback(l),this.setState(s,l)},t.setNextCallback=function(s){var l=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,l.nextCallback=null,s(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(s,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:qo.findDOMNode(this),d=s==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],v=p[1];this.props.addEndListener(g,v)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===Nu)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=kS(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ci.createElement(jS.Provider,{value:null},typeof c=="function"?c(s,d):Ci.cloneElement(Ci.Children.only(c),d))},e})(Ci.Component);$i.contextType=jS;$i.propTypes={};function Uo(){}$i.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Uo,onEntering:Uo,onEntered:Uo,onExit:Uo,onExiting:Uo,onExited:Uo};$i.UNMOUNTED=Nu;$i.EXITED=Ca;$i.ENTERING=vr;$i.ENTERED=bi;$i.EXITING=Hu;function Vx(n){return n.code==="Escape"||n.keyCode===27}function Lx(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function ul(n){if(!n||typeof n=="function")return null;const{major:e}=Lx();return e>=19?n.props.ref:n.ref}const cl=!!(typeof window<"u"&&window.document&&window.document.createElement);var Tg=!1,wg=!1;try{var Qp={get passive(){return Tg=!0},get once(){return wg=Tg=!0}};cl&&(window.addEventListener("test",Qp,Qp),window.removeEventListener("test",Qp,!0))}catch{}function zS(n,e,t,i){if(i&&typeof i!="boolean"&&!wg){var s=i.once,l=i.capture,c=t;!wg&&s&&(c=t.__once||function d(p){this.removeEventListener(e,d,l),t.call(this,p)},t.__once=c),n.addEventListener(e,c,Tg?i:l)}n.addEventListener(e,t,i)}function Sg(n,e,t,i){var s=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function Ah(n,e,t,i){return zS(n,e,t,i),function(){Sg(n,e,t,i)}}function kx(n,e,t,i){if(i===void 0&&(i=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,i),n.dispatchEvent(s)}}function Px(n){var e=Oi(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Ux(n,e,t){t===void 0&&(t=5);var i=!1,s=setTimeout(function(){i||kx(n,"transitionend",!0)},e+t),l=Ah(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(s),l()}}function BS(n,e,t,i){t==null&&(t=Px(n)||0);var s=Ux(n,t,i),l=Ah(n,"transitionend",e);return function(){s(),l()}}function _w(n,e){const t=Oi(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function ly(n,e){const t=_w(n,"transitionDuration"),i=_w(n,"transitionDelay"),s=BS(n,l=>{l.target===n&&(s(),e(l))},t+i)}function Ru(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...s){e.apply(this,s),t.apply(this,s)}},null)}function FS(n){n.offsetHeight}const Ew=n=>!n||typeof n=="function"?n:e=>{n.current=e};function jx(n,e){const t=Ew(n),i=Ew(e);return s=>{t&&t(s),i&&i(s)}}function HS(n,e){return w.useMemo(()=>jx(n,e),[n,e])}function zx(n){return n&&"setState"in n?qo.findDOMNode(n):n??null}const nd=Ci.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:s,onExited:l,addEndListener:c,children:d,childRef:p,...g},v)=>{const _=w.useRef(null),S=HS(_,p),N=ae=>{S(zx(ae))},M=ae=>x=>{ae&&_.current&&ae(_.current,x)},U=w.useCallback(M(n),[n]),L=w.useCallback(M(e),[e]),F=w.useCallback(M(t),[t]),G=w.useCallback(M(i),[i]),Y=w.useCallback(M(s),[s]),oe=w.useCallback(M(l),[l]),ie=w.useCallback(M(c),[c]);return b.jsx($i,{ref:v,...g,onEnter:U,onEntered:F,onEntering:L,onExit:G,onExited:oe,onExiting:Y,addEndListener:ie,nodeRef:_,children:typeof d=="function"?(ae,x)=>d(ae,{...x,ref:N}):Ci.cloneElement(d,{ref:N})})});nd.displayName="TransitionWrapper";const Bx={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Fx(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],s=Bx[n];return i+parseInt(Oi(e,s[0]),10)+parseInt(Oi(e,s[1]),10)}const Hx={[Ca]:"collapse",[Hu]:"collapsing",[vr]:"collapsing",[bi]:"collapse show"},$S=Ci.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:s,className:l,children:c,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:v=!1,unmountOnExit:_=!1,appear:S=!1,getDimensionValue:N=Fx,...M},U)=>{const L=typeof d=="function"?d():d,F=w.useMemo(()=>Ru(ae=>{ae.style[L]="0"},n),[L,n]),G=w.useMemo(()=>Ru(ae=>{const x=`scroll${L[0].toUpperCase()}${L.slice(1)}`;ae.style[L]=`${ae[x]}px`},e),[L,e]),Y=w.useMemo(()=>Ru(ae=>{ae.style[L]=null},t),[L,t]),oe=w.useMemo(()=>Ru(ae=>{ae.style[L]=`${N(L,ae)}px`,FS(ae)},i),[i,N,L]),ie=w.useMemo(()=>Ru(ae=>{ae.style[L]=null},s),[L,s]);return b.jsx(nd,{ref:U,addEndListener:ly,...M,"aria-expanded":M.role?p:null,onEnter:F,onEntering:G,onEntered:Y,onExit:oe,onExiting:ie,childRef:ul(c),in:p,timeout:g,mountOnEnter:v,unmountOnExit:_,appear:S,children:(ae,x)=>Ci.cloneElement(c,{...x,className:ge(l,c.props.className,Hx[ae],L==="width"&&"collapse-horizontal")})})});$S.displayName="Collapse";function $x(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function Vs(n){const e=$x(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const ac=(n=>w.forwardRef((e,t)=>b.jsx("div",{...e,ref:t,className:ge(e.className,n)}))),qS=ac("h4");qS.displayName="DivStyledAsH4";const GS=w.forwardRef(({className:n,bsPrefix:e,as:t=qS,...i},s)=>(e=Se(e,"alert-heading"),b.jsx(t,{ref:s,className:ge(n,e),...i})));GS.displayName="AlertHeading";function qx(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function Ai(n){const e=qx(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function Gx(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Kx(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const Yx=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Qx=typeof document<"u",Tw=Qx||Yx?w.useLayoutEffect:w.useEffect,Xx=["as","disabled"];function Wx(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Jx(n){return!n||n.trim()==="#"}function uy({tagName:n,disabled:e,href:t,target:i,rel:s,role:l,onClick:c,tabIndex:d=0,type:p}){n||(t!=null||i!=null||s!=null?n="a":n="button");const g={tagName:n};if(n==="button")return[{type:p||"button",disabled:e},g];const v=S=>{if((e||n==="a"&&Jx(t))&&S.preventDefault(),e){S.stopPropagation();return}c?.(S)},_=S=>{S.key===" "&&(S.preventDefault(),v(S))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:v,onKeyDown:_},g]}const KS=w.forwardRef((n,e)=>{let{as:t,disabled:i}=n,s=Wx(n,Xx);const[l,{tagName:c}]=uy(Object.assign({tagName:t,disabled:i},s));return b.jsx(c,Object.assign({},s,l,{ref:e}))});KS.displayName="Button";const Zx=["onKeyDown"];function eD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function tD(n){return!n||n.trim()==="#"}const rd=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=eD(n,Zx);const[s]=uy(Object.assign({tagName:"a"},i)),l=Ai(c=>{s.onKeyDown(c),t?.(c)});return tD(i.href)||i.role==="button"?b.jsx("a",Object.assign({ref:e},i,s,{onKeyDown:l})):b.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});rd.displayName="Anchor";const YS=w.forwardRef(({className:n,bsPrefix:e,as:t=rd,...i},s)=>(e=Se(e,"alert-link"),b.jsx(t,{ref:s,className:ge(n,e),...i})));YS.displayName="AlertLink";const nD={[vr]:"show",[bi]:"show"},tl=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...s},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},d=w.useCallback((p,g)=>{FS(p),i?.(p,g)},[i]);return b.jsx(nd,{ref:l,addEndListener:ly,...c,onEnter:d,childRef:ul(e),children:(p,g)=>w.cloneElement(e,{...g,className:ge("fade",n,e.props.className,nD[p],t[p])})})});tl.displayName="Fade";const rD={"aria-label":Mi.string,onClick:Mi.func,variant:Mi.oneOf(["white"])},id=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},s)=>b.jsx("button",{ref:s,type:"button",className:ge("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));id.displayName="CloseButton";id.propTypes=rD;const QS=w.forwardRef((n,e)=>{const{bsPrefix:t,show:i=!0,closeLabel:s="Close alert",closeVariant:l,className:c,children:d,variant:p="primary",onClose:g,dismissible:v,transition:_=tl,...S}=oy(n,{show:"onClose"}),N=Se(t,"alert"),M=Vs(F=>{g&&g(!1,F)}),U=_===!0?tl:_,L=b.jsxs("div",{role:"alert",...U?void 0:S,ref:e,className:ge(c,N,p&&`${N}-${p}`,v&&`${N}-dismissible`),children:[v&&b.jsx(id,{onClick:M,"aria-label":s,variant:l}),d]});return U?b.jsx(U,{unmountOnExit:!0,...S,ref:void 0,in:i,children:L}):i?L:null});QS.displayName="Alert";const Ii=Object.assign(QS,{Link:YS,Heading:GS}),ot=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:s=!1,disabled:l=!1,className:c,...d},p)=>{const g=Se(e,"btn"),[v,{tagName:_}]=uy({tagName:n,disabled:l,...d}),S=_;return b.jsx(S,{...v,...d,ref:p,disabled:l,className:ge(c,g,s&&"active",t&&`${g}-${t}`,i&&`${g}-${i}`,d.href&&l&&"disabled")})});ot.displayName="Button";const cy=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Se(e,"card-body"),b.jsx(t,{ref:s,className:ge(n,e),...i})));cy.displayName="CardBody";const XS=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Se(e,"card-footer"),b.jsx(t,{ref:s,className:ge(n,e),...i})));XS.displayName="CardFooter";const fy=w.createContext(null);fy.displayName="CardHeaderContext";const WS=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},s)=>{const l=Se(n,"card-header"),c=w.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return b.jsx(fy.Provider,{value:c,children:b.jsx(t,{ref:s,...i,className:ge(e,l)})})});WS.displayName="CardHeader";const JS=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:i="img",...s},l)=>{const c=Se(n,"card-img");return b.jsx(i,{ref:l,className:ge(t?`${c}-${t}`:c,e),...s})});JS.displayName="CardImg";const ZS=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Se(e,"card-img-overlay"),b.jsx(t,{ref:s,className:ge(n,e),...i})));ZS.displayName="CardImgOverlay";const eb=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...i},s)=>(e=Se(e,"card-link"),b.jsx(t,{ref:s,className:ge(n,e),...i})));eb.displayName="CardLink";const iD=ac("h6"),tb=w.forwardRef(({className:n,bsPrefix:e,as:t=iD,...i},s)=>(e=Se(e,"card-subtitle"),b.jsx(t,{ref:s,className:ge(n,e),...i})));tb.displayName="CardSubtitle";const nb=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...i},s)=>(e=Se(e,"card-text"),b.jsx(t,{ref:s,className:ge(n,e),...i})));nb.displayName="CardText";const aD=ac("h5"),rb=w.forwardRef(({className:n,bsPrefix:e,as:t=aD,...i},s)=>(e=Se(e,"card-title"),b.jsx(t,{ref:s,className:ge(n,e),...i})));rb.displayName="CardTitle";const ib=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:i,border:s,body:l=!1,children:c,as:d="div",...p},g)=>{const v=Se(n,"card");return b.jsx(d,{ref:g,...p,className:ge(e,v,t&&`bg-${t}`,i&&`text-${i}`,s&&`border-${s}`),children:l?b.jsx(cy,{children:c}):c})});ib.displayName="Card";const ad=Object.assign(ib,{Img:JS,Title:rb,Subtitle:tb,Body:cy,Link:eb,Text:nb,Header:WS,Footer:XS,ImgOverlay:ZS});function sD(n){const e=w.useRef(n);return e.current=n,e}function oD(n){const e=sD(n);w.useEffect(()=>()=>e.current(),[])}function lD(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}function uD({as:n,bsPrefix:e,className:t,...i}){e=Se(e,"col");const s=PS(),l=US(),c=[],d=[];return s.forEach(p=>{const g=i[p];delete i[p];let v,_,S;typeof g=="object"&&g!=null?{span:v,offset:_,order:S}=g:v=g;const N=p!==l?`-${p}`:"";v&&c.push(v===!0?`${e}${N}`:`${e}${N}-${v}`),S!=null&&d.push(`order${N}-${S}`),_!=null&&d.push(`offset${N}-${_}`)}),[{...i,className:ge(t,...c,...d)},{as:n,bsPrefix:e,spans:c}]}const Ns=w.forwardRef((n,e)=>{const[{className:t,...i},{as:s="div",bsPrefix:l,spans:c}]=uD(n);return b.jsx(s,{...i,ref:e,className:ge(t,!c.length&&l)})});Ns.displayName="Col";const sc=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...s},l)=>{const c=Se(n,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return b.jsx(t,{ref:l,...s,className:ge(i,e?`${c}${d}`:c)})});sc.displayName="Container";var cD=Function.prototype.bind.call(Function.prototype.call,[].slice);function Cs(n,e){return cD(n.querySelectorAll(e))}function fD(){const[,n]=w.useReducer(e=>e+1,0);return n}function ww(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const Rh=w.createContext(null),hy=(n,e=null)=>n!=null?String(n):e||null,dy=w.createContext(null);dy.displayName="NavContext";const hD="data-rr-ui-",dD="rrUi";function sd(n){return`${hD}${n}`}function mD(n){return`${dD}${n}`}const ab=w.createContext(cl?window:void 0);ab.Provider;function my(){return w.useContext(ab)}const pD=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",gD=typeof document<"u",yD=gD||pD?w.useLayoutEffect:w.useEffect,fl=w.createContext(null);fl.displayName="NavbarContext";const vD={type:Mi.string,tooltip:Mi.bool,as:Mi.elementType},od=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:i=!1,...s},l)=>b.jsx(n,{...s,ref:l,className:ge(e,`${t}-${i?"tooltip":"feedback"}`)}));od.displayName="Feedback";od.propTypes=vD;const Pi=w.createContext({}),py=w.forwardRef(({id:n,bsPrefix:e,className:t,type:i="checkbox",isValid:s=!1,isInvalid:l=!1,as:c="input",...d},p)=>{const{controlId:g}=w.useContext(Pi);return e=Se(e,"form-check-input"),b.jsx(c,{...d,ref:p,type:i,id:n||g,className:ge(t,e,s&&"is-valid",l&&"is-invalid")})});py.displayName="FormCheckInput";const Ch=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...i},s)=>{const{controlId:l}=w.useContext(Pi);return n=Se(n,"form-check-label"),b.jsx("label",{...i,ref:s,htmlFor:t||l,className:ge(e,n)})});Ch.displayName="FormCheckLabel";const sb=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:i=!1,reverse:s=!1,disabled:l=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:v,className:_,style:S,title:N="",type:M="checkbox",label:U,children:L,as:F="input",...G},Y)=>{e=Se(e,"form-check"),t=Se(t,"form-switch");const{controlId:oe}=w.useContext(Pi),ie=w.useMemo(()=>({controlId:n||oe}),[oe,n]),ae=!L&&U!=null&&U!==!1||lD(L,Ch),x=b.jsx(py,{...G,type:M==="switch"?"checkbox":M,ref:Y,isValid:c,isInvalid:d,disabled:l,as:F});return b.jsx(Pi.Provider,{value:ie,children:b.jsx("div",{style:S,className:ge(_,ae&&e,i&&`${e}-inline`,s&&`${e}-reverse`,M==="switch"&&t),children:L||b.jsxs(b.Fragment,{children:[x,ae&&b.jsx(Ch,{title:N,children:U}),g&&b.jsx(od,{type:v,tooltip:p,children:g})]})})})});sb.displayName="FormCheck";const Ih=Object.assign(sb,{Input:py,Label:Ch}),ob=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:i,id:s,className:l,isValid:c=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:v="input",..._},S)=>{const{controlId:N}=w.useContext(Pi);return n=Se(n,"form-control"),b.jsx(v,{..._,type:e,size:i,ref:S,readOnly:g,id:s||N,className:ge(l,p?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",d&&"is-invalid")})});ob.displayName="FormControl";const _D=Object.assign(ob,{Feedback:od}),lb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Se(e,"form-floating"),b.jsx(t,{ref:s,className:ge(n,e),...i})));lb.displayName="FormFloating";const gy=w.forwardRef(({controlId:n,as:e="div",...t},i)=>{const s=w.useMemo(()=>({controlId:n}),[n]);return b.jsx(Pi.Provider,{value:s,children:b.jsx(e,{...t,ref:i})})});gy.displayName="FormGroup";const ub=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:i=!1,className:s,htmlFor:l,...c},d)=>{const{controlId:p}=w.useContext(Pi);e=Se(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const v=ge(s,e,i&&"visually-hidden",t&&g);return l=l||p,t?b.jsx(Ns,{ref:d,as:"label",className:v,htmlFor:l,...c}):b.jsx(n,{ref:d,className:v,htmlFor:l,...c})});ub.displayName="FormLabel";const cb=w.forwardRef(({bsPrefix:n,className:e,id:t,...i},s)=>{const{controlId:l}=w.useContext(Pi);return n=Se(n,"form-range"),b.jsx("input",{...i,type:"range",ref:s,className:ge(e,n),id:t||l})});cb.displayName="FormRange";const fb=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:i,isValid:s=!1,isInvalid:l=!1,id:c,...d},p)=>{const{controlId:g}=w.useContext(Pi);return n=Se(n,"form-select"),b.jsx("select",{...d,size:t,ref:p,className:ge(i,n,e&&`${n}-${e}`,s&&"is-valid",l&&"is-invalid"),id:c||g})});fb.displayName="FormSelect";const hb=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:i,...s},l)=>(n=Se(n,"form-text"),b.jsx(t,{...s,ref:l,className:ge(e,n,i&&"text-muted")})));hb.displayName="FormText";const db=w.forwardRef((n,e)=>b.jsx(Ih,{...n,ref:e,type:"switch"}));db.displayName="Switch";const ED=Object.assign(db,{Input:Ih.Input,Label:Ih.Label}),mb=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:i,label:s,...l},c)=>(n=Se(n,"form-floating"),b.jsxs(gy,{ref:c,className:ge(e,n),controlId:i,...l,children:[t,b.jsx("label",{htmlFor:i,children:s})]})));mb.displayName="FloatingLabel";const TD={_ref:Mi.any,validated:Mi.bool,as:Mi.elementType},yy=w.forwardRef(({className:n,validated:e,as:t="form",...i},s)=>b.jsx(t,{...i,ref:s,className:ge(n,e&&"was-validated")}));yy.displayName="Form";yy.propTypes=TD;const Le=Object.assign(yy,{Group:gy,Control:_D,Floating:lb,Check:Ih,Switch:ED,Label:ub,Text:hb,Range:cb,Select:fb,FloatingLabel:mb}),Sw=n=>!n||typeof n=="function"?n:e=>{n.current=e};function wD(n,e){const t=Sw(n),i=Sw(e);return s=>{t&&t(s),i&&i(s)}}function ld(n,e){return w.useMemo(()=>wD(n,e),[n,e])}const pb=w.createContext(null),SD=["as","active","eventKey"];function bD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function gb({key:n,onClick:e,active:t,id:i,role:s,disabled:l}){const c=w.useContext(Rh),d=w.useContext(dy),p=w.useContext(pb);let g=t;const v={role:s};if(d){!s&&d.role==="tablist"&&(v.role="tab");const _=d.getControllerId(n??null),S=d.getControlledId(n??null);v[sd("event-key")]=n,v.id=_||i,g=t==null&&n!=null?d.activeKey===n:t,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(v["aria-controls"]=S)}return v.role==="tab"&&(v["aria-selected"]=g,g||(v.tabIndex=-1),l&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=Ai(_=>{l||(e?.(_),n!=null&&c&&!_.isPropagationStopped()&&c(n,_))}),[v,{isActive:g}]}const yb=w.forwardRef((n,e)=>{let{as:t=KS,active:i,eventKey:s}=n,l=bD(n,SD);const[c,d]=gb(Object.assign({key:hy(s,l.href),active:i},l));return c[sd("active")]=d.isActive,b.jsx(t,Object.assign({},l,c,{ref:e}))});yb.displayName="NavItem";const AD=["as","onSelect","activeKey","role","onKeyDown"];function RD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const bw=()=>{},Aw=sd("event-key"),vb=w.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:s,role:l,onKeyDown:c}=n,d=RD(n,AD);const p=fD(),g=w.useRef(!1),v=w.useContext(Rh),_=w.useContext(pb);let S,N;_&&(l=l||"tablist",s=_.activeKey,S=_.getControlledId,N=_.getControllerId);const M=w.useRef(null),U=Y=>{const oe=M.current;if(!oe)return null;const ie=Cs(oe,`[${Aw}]:not([aria-disabled=true])`),ae=oe.querySelector("[aria-selected=true]");if(!ae||ae!==document.activeElement)return null;const x=ie.indexOf(ae);if(x===-1)return null;let R=x+Y;return R>=ie.length&&(R=0),R<0&&(R=ie.length-1),ie[R]},L=(Y,oe)=>{Y!=null&&(i?.(Y,oe),v?.(Y,oe))},F=Y=>{if(c?.(Y),!_)return;let oe;switch(Y.key){case"ArrowLeft":case"ArrowUp":oe=U(-1);break;case"ArrowRight":case"ArrowDown":oe=U(1);break;default:return}oe&&(Y.preventDefault(),L(oe.dataset[mD("EventKey")]||null,Y),g.current=!0,p())};w.useEffect(()=>{if(M.current&&g.current){const Y=M.current.querySelector(`[${Aw}][aria-selected=true]`);Y?.focus()}g.current=!1});const G=ld(e,M);return b.jsx(Rh.Provider,{value:L,children:b.jsx(dy.Provider,{value:{role:l,activeKey:hy(s),getControlledId:S||bw,getControllerId:N||bw},children:b.jsx(t,Object.assign({},d,{onKeyDown:F,ref:G,role:l}))})})});vb.displayName="Nav";const CD=Object.assign(vb,{Item:yb});var Zf;function Rw(n){if((!Zf&&Zf!==0||n)&&cl){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Zf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Zf}function ID(){return w.useState(null)}function Xp(n){n===void 0&&(n=td());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function ND(n){const e=w.useRef(n);return e.current=n,e}function xD(n){const e=ND(n);w.useEffect(()=>()=>e.current(),[])}function DD(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const Cw=sd("modal-open");class vy{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return DD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[i]:s.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(Oi(s,i)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(Cw,""),Oi(s,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Cw),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Wp=(n,e)=>cl?n==null?(e||td()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function OD(n,e){const t=my(),[i,s]=w.useState(()=>Wp(n,t?.document));if(!i){const l=Wp(n);l&&s(l)}return w.useEffect(()=>{},[e,i]),w.useEffect(()=>{const l=Wp(n);l!==i&&s(l)},[n,i]),i}function MD({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:s}){const l=w.useRef(null),c=w.useRef(e),d=Ai(t);w.useEffect(()=>{e?c.current=!0:d(l.current)},[e,d]);const p=ld(l,ul(n)),g=w.cloneElement(n,{ref:p});return e?g:s||!c.current&&i?null:g}const VD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function LD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function kD(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:s,onExiting:l,onExited:c,addEndListener:d,children:p}=n,g=LD(n,VD);const v=w.useRef(null),_=ld(v,ul(p)),S=oe=>ie=>{oe&&v.current&&oe(v.current,ie)},N=w.useCallback(S(e),[e]),M=w.useCallback(S(t),[t]),U=w.useCallback(S(i),[i]),L=w.useCallback(S(s),[s]),F=w.useCallback(S(l),[l]),G=w.useCallback(S(c),[c]),Y=w.useCallback(S(d),[d]);return Object.assign({},g,{nodeRef:v},e&&{onEnter:N},t&&{onEntering:M},i&&{onEntered:U},s&&{onExit:L},l&&{onExiting:F},c&&{onExited:G},d&&{addEndListener:Y},{children:typeof p=="function"?(oe,ie)=>p(oe,Object.assign({},ie,{ref:_})):w.cloneElement(p,{ref:_})})}const PD=["component"];function UD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const jD=w.forwardRef((n,e)=>{let{component:t}=n,i=UD(n,PD);const s=kD(i);return b.jsx(t,Object.assign({ref:e},s))});function zD({in:n,onTransition:e}){const t=w.useRef(null),i=w.useRef(!0),s=Ai(e);return Tw(()=>{if(!t.current)return;let l=!1;return s({in:n,element:t.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[n,s]),Tw(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function BD({children:n,in:e,onExited:t,onEntered:i,transition:s}){const[l,c]=w.useState(!e);e&&l&&c(!1);const d=zD({in:!!e,onTransition:g=>{const v=()=>{g.isStale()||(g.in?i?.(g.element,g.initial):(c(!0),t?.(g.element)))};Promise.resolve(s(g)).then(v,_=>{throw g.in||c(!0),_})}}),p=ld(d,ul(n));return l&&!e?null:w.cloneElement(n,{ref:p})}function Iw(n,e,t){return n?b.jsx(jD,Object.assign({},t,{component:n})):e?b.jsx(BD,Object.assign({},t,{transition:e})):b.jsx(MD,Object.assign({},t))}const FD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function HD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let Jp;function $D(n){return Jp||(Jp=new vy({ownerDocument:n?.document})),Jp}function qD(n){const e=my(),t=n||$D(e),i=w.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:w.useCallback(s=>{i.current.dialog=s},[]),setBackdropRef:w.useCallback(s=>{i.current.backdrop=s},[])})}const _b=w.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:s,style:l,children:c,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:v,transition:_,runTransition:S,backdropTransition:N,runBackdropTransition:M,autoFocus:U=!0,enforceFocus:L=!0,restoreFocus:F=!0,restoreFocusOptions:G,renderDialog:Y,renderBackdrop:oe=We=>b.jsx("div",Object.assign({},We)),manager:ie,container:ae,onShow:x,onHide:R=()=>{},onExit:I,onExited:O,onExiting:D,onEnter:z,onEntering:V,onEntered:qe}=n,ut=HD(n,FD);const W=my(),ue=OD(ae),fe=qD(ie),De=Gx(),ke=Kx(t),[P,Z]=w.useState(!t),se=w.useRef(null);w.useImperativeHandle(e,()=>fe,[fe]),cl&&!ke&&t&&(se.current=Xp(W?.document)),t&&P&&Z(!1);const le=Ai(()=>{if(fe.add(),dn.current=Ah(document,"keydown",pt),Xe.current=Ah(document,"focus",()=>setTimeout(be),!0),x&&x(),U){var We,Pn;const ir=Xp((We=(Pn=fe.dialog)==null?void 0:Pn.ownerDocument)!=null?We:W?.document);fe.dialog&&ir&&!ww(fe.dialog,ir)&&(se.current=ir,fe.dialog.focus())}}),ye=Ai(()=>{if(fe.remove(),dn.current==null||dn.current(),Xe.current==null||Xe.current(),F){var We;(We=se.current)==null||We.focus==null||We.focus(G),se.current=null}});w.useEffect(()=>{!t||!ue||le()},[t,ue,le]),w.useEffect(()=>{P&&ye()},[P,ye]),xD(()=>{ye()});const be=Ai(()=>{if(!L||!De()||!fe.isTopModal())return;const We=Xp(W?.document);fe.dialog&&We&&!ww(fe.dialog,We)&&fe.dialog.focus()}),Oe=Ai(We=>{We.target===We.currentTarget&&(g?.(We),d===!0&&R())}),pt=Ai(We=>{p&&Vx(We)&&fe.isTopModal()&&(v?.(We),We.defaultPrevented||R())}),Xe=w.useRef(),dn=w.useRef(),rr=(...We)=>{Z(!0),O?.(...We)};if(!ue)return null;const Sn=Object.assign({role:i,ref:fe.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},ut,{style:l,className:s,tabIndex:-1});let kn=Y?Y(Sn):b.jsx("div",Object.assign({},Sn,{children:w.cloneElement(c,{role:"document"})}));kn=Iw(_,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:I,onExiting:D,onExited:rr,onEnter:z,onEntering:V,onEntered:qe,children:kn});let Kt=null;return d&&(Kt=oe({ref:fe.setBackdropRef,onClick:Oe}),Kt=Iw(N,M,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Kt})),b.jsx(b.Fragment,{children:qo.createPortal(b.jsxs(b.Fragment,{children:[Kt,kn]}),ue)})});_b.displayName="Modal";const Eb=Object.assign(_b,{Manager:vy});function GD(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function KD(n,e){n.classList?n.classList.add(e):GD(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function Nw(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function YD(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=Nw(n.className,e):n.setAttribute("class",Nw(n.className&&n.className.baseVal||"",e))}const jo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Tb extends vy{adjustAndStore(e,t,i){const s=t.style[e];t.dataset[e]=s,Oi(t,{[e]:`${parseFloat(Oi(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],Oi(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(KD(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Cs(t,jo.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,e.scrollBarWidth)),Cs(t,jo.STICKY_CONTENT).forEach(l=>this.adjustAndStore(s,l,-e.scrollBarWidth)),Cs(t,jo.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();YD(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Cs(t,jo.FIXED_CONTENT).forEach(l=>this.restore(i,l)),Cs(t,jo.STICKY_CONTENT).forEach(l=>this.restore(s,l)),Cs(t,jo.NAVBAR_TOGGLER).forEach(l=>this.restore(s,l))}}let Zp;function wb(n){return Zp||(Zp=new Tb(n)),Zp}const Sb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Se(e,"modal-body"),b.jsx(t,{ref:s,className:ge(n,e),...i})));Sb.displayName="ModalBody";const _y=w.createContext({onHide(){}}),Ey=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:i,size:s,fullscreen:l,children:c,scrollable:d,...p},g)=>{n=Se(n,"modal");const v=`${n}-dialog`,_=typeof l=="string"?`${n}-fullscreen-${l}`:`${n}-fullscreen`;return b.jsx("div",{...p,ref:g,className:ge(v,e,s&&`${n}-${s}`,i&&`${v}-centered`,d&&`${v}-scrollable`,l&&_),children:b.jsx("div",{className:ge(`${n}-content`,t),children:c})})});Ey.displayName="ModalDialog";const bb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Se(e,"modal-footer"),b.jsx(t,{ref:s,className:ge(n,e),...i})));bb.displayName="ModalFooter";const Ty=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:s,...l},c)=>{const d=w.useContext(_y),p=Vs(()=>{d?.onHide(),i?.()});return b.jsxs("div",{ref:c,...l,children:[s,t&&b.jsx(id,{"aria-label":n,variant:e,onClick:p})]})});Ty.displayName="AbstractModalHeader";const Ab=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...s},l)=>(n=Se(n,"modal-header"),b.jsx(Ty,{ref:l,...s,className:ge(e,n),closeLabel:t,closeButton:i})));Ab.displayName="ModalHeader";const QD=ac("h4"),Rb=w.forwardRef(({className:n,bsPrefix:e,as:t=QD,...i},s)=>(e=Se(e,"modal-title"),b.jsx(t,{ref:s,className:ge(n,e),...i})));Rb.displayName="ModalTitle";function XD(n){return b.jsx(tl,{...n,timeout:null})}function WD(n){return b.jsx(tl,{...n,timeout:null})}const Cb=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:i,contentClassName:s,children:l,dialogAs:c=Ey,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":v,show:_=!1,animation:S=!0,backdrop:N=!0,keyboard:M=!0,onEscapeKeyDown:U,onShow:L,onHide:F,container:G,autoFocus:Y=!0,enforceFocus:oe=!0,restoreFocus:ie=!0,restoreFocusOptions:ae,onEntered:x,onExit:R,onExiting:I,onEnter:O,onEntering:D,onExited:z,backdropClassName:V,manager:qe,...ut},W)=>{const[ue,fe]=w.useState({}),[De,ke]=w.useState(!1),P=w.useRef(!1),Z=w.useRef(!1),se=w.useRef(null),[le,ye]=ID(),be=HS(W,ye),Oe=Vs(F),pt=Tx();n=Se(n,"modal");const Xe=w.useMemo(()=>({onHide:Oe}),[Oe]);function dn(){return qe||wb({isRTL:pt})}function rr(Pe){if(!cl)return;const Un=dn().getScrollbarWidth()>0,ar=Pe.scrollHeight>td(Pe).documentElement.clientHeight;fe({paddingRight:Un&&!ar?Rw():void 0,paddingLeft:!Un&&ar?Rw():void 0})}const Sn=Vs(()=>{le&&rr(le.dialog)});oD(()=>{Sg(window,"resize",Sn),se.current==null||se.current()});const kn=()=>{P.current=!0},Kt=Pe=>{P.current&&le&&Pe.target===le.dialog&&(Z.current=!0),P.current=!1},We=()=>{ke(!0),se.current=BS(le.dialog,()=>{ke(!1)})},Pn=Pe=>{Pe.target===Pe.currentTarget&&We()},ir=Pe=>{if(N==="static"){Pn(Pe);return}if(Z.current||Pe.target!==Pe.currentTarget){Z.current=!1;return}F?.()},Wa=Pe=>{M?U?.(Pe):(Pe.preventDefault(),N==="static"&&We())},vt=(Pe,Un)=>{Pe&&rr(Pe),O?.(Pe,Un)},Tt=Pe=>{se.current==null||se.current(),R?.(Pe)},Rr=(Pe,Un)=>{D?.(Pe,Un),zS(window,"resize",Sn)},Sl=Pe=>{Pe&&(Pe.style.display=""),z?.(Pe),Sg(window,"resize",Sn)},Qs=w.useCallback(Pe=>b.jsx("div",{...Pe,className:ge(`${n}-backdrop`,V,!S&&"show")}),[S,V,n]),Ft={...t,...ue};Ft.display="block";const ii=Pe=>b.jsx("div",{role:"dialog",...Pe,style:Ft,className:ge(e,n,De&&`${n}-static`,!S&&"show"),onClick:N?ir:void 0,onMouseUp:Kt,"data-bs-theme":d,"aria-label":v,"aria-labelledby":p,"aria-describedby":g,children:b.jsx(c,{...ut,onMouseDown:kn,className:i,contentClassName:s,children:l})});return b.jsx(_y.Provider,{value:Xe,children:b.jsx(Eb,{show:_,ref:be,backdrop:N,container:G,keyboard:!0,autoFocus:Y,enforceFocus:oe,restoreFocus:ie,restoreFocusOptions:ae,onEscapeKeyDown:Wa,onShow:L,onHide:F,onEnter:vt,onEntering:Rr,onEntered:x,onExit:Tt,onExiting:I,onExited:Sl,manager:dn(),transition:S?XD:void 0,backdropTransition:S?WD:void 0,renderBackdrop:Qs,renderDialog:ii})})});Cb.displayName="Modal";const Cu=Object.assign(Cb,{Body:Sb,Header:Ab,Title:Rb,Footer:bb,Dialog:Ey,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Ib=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Se(e,"nav-item"),b.jsx(t,{ref:s,className:ge(n,e),...i})));Ib.displayName="NavItem";const Nb=w.forwardRef(({bsPrefix:n,className:e,as:t=rd,active:i,eventKey:s,disabled:l=!1,...c},d)=>{n=Se(n,"nav-link");const[p,g]=gb({key:hy(s,c.href),active:i,disabled:l,...c});return b.jsx(t,{...c,...p,ref:d,disabled:l,className:ge(e,n,l&&"disabled",g.isActive&&"active")})});Nb.displayName="NavLink";const xb=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:s,fill:l=!1,justify:c=!1,navbar:d,navbarScroll:p,className:g,activeKey:v,..._}=oy(n,{activeKey:"onSelect"}),S=Se(i,"nav");let N,M,U=!1;const L=w.useContext(fl),F=w.useContext(fy);return L?(N=L.bsPrefix,U=d??!0):F&&({cardHeaderBsPrefix:M}=F),b.jsx(CD,{as:t,ref:e,activeKey:v,className:ge(g,{[S]:!U,[`${N}-nav`]:U,[`${N}-nav-scroll`]:U&&p,[`${M}-${s}`]:!!M,[`${S}-${s}`]:!!s,[`${S}-fill`]:l,[`${S}-justified`]:c}),..._})});xb.displayName="Nav";const Rs=Object.assign(xb,{Item:Ib,Link:Nb}),Db=w.forwardRef(({bsPrefix:n,className:e,as:t,...i},s)=>{n=Se(n,"navbar-brand");const l=t||(i.href?"a":"span");return b.jsx(l,{...i,ref:s,className:ge(e,n)})});Db.displayName="NavbarBrand";const Ob=w.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=Se(e,"navbar-collapse");const s=w.useContext(fl);return b.jsx($S,{in:!!(s&&s.expanded),...t,children:b.jsx("div",{ref:i,className:e,children:n})})});Ob.displayName="NavbarCollapse";const Mb=w.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:s="button",onClick:l,...c},d)=>{n=Se(n,"navbar-toggler");const{onToggle:p,expanded:g}=w.useContext(fl)||{},v=Vs(_=>{l&&l(_),p&&p()});return s==="button"&&(c.type="button"),b.jsx(s,{...c,ref:d,onClick:v,"aria-label":i,className:ge(e,n,!g&&"collapsed"),children:t||b.jsx("span",{className:`${n}-icon`})})});Mb.displayName="NavbarToggle";const bg=new WeakMap,xw=(n,e)=>{if(!n||!e)return;const t=bg.get(e)||new Map;bg.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function JD(n,e=typeof window>"u"?void 0:window){const t=xw(n,e),[i,s]=w.useState(()=>t?t.matches:!1);return yD(()=>{let l=xw(n,e);if(!l)return s(!1);let c=bg.get(e);const d=()=>{s(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&c?.delete(l.media),l=void 0}},[n]),i}function ZD(n){const e=Object.keys(n);function t(d,p){return d===p?p:d?`${d} and ${p}`:p}function i(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function s(d){const p=i(d);let g=n[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(d){let p=n[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function c(d,p,g){let v;typeof d=="object"?(v=d,g=p,p=!0):(p=p||!0,v={[d]:p});let _=w.useMemo(()=>Object.entries(v).reduce((S,[N,M])=>((M==="up"||M===!0)&&(S=t(S,l(N))),(M==="down"||M===!0)&&(S=t(S,s(N))),S),""),[JSON.stringify(v)]);return JD(_,g)}return c}const e2=ZD({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Vb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Se(e,"offcanvas-body"),b.jsx(t,{ref:s,className:ge(n,e),...i})));Vb.displayName="OffcanvasBody";const t2={[vr]:"show",[bi]:"show"},Lb=w.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:s=!1,unmountOnExit:l=!1,appear:c=!1,...d},p)=>(n=Se(n,"offcanvas"),b.jsx(nd,{ref:p,addEndListener:ly,in:i,mountOnEnter:s,unmountOnExit:l,appear:c,...d,childRef:ul(t),children:(g,v)=>w.cloneElement(t,{...v,className:ge(e,t.props.className,(g===vr||g===Hu)&&`${n}-toggling`,t2[g])})})));Lb.displayName="OffcanvasToggling";const kb=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...s},l)=>(n=Se(n,"offcanvas-header"),b.jsx(Ty,{ref:l,...s,className:ge(e,n),closeLabel:t,closeButton:i})));kb.displayName="OffcanvasHeader";const n2=ac("h5"),Pb=w.forwardRef(({className:n,bsPrefix:e,as:t=n2,...i},s)=>(e=Se(e,"offcanvas-title"),b.jsx(t,{ref:s,className:ge(n,e),...i})));Pb.displayName="OffcanvasTitle";function r2(n){return b.jsx(Lb,{...n})}function i2(n){return b.jsx(tl,{...n})}const Ub=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:s="start",responsive:l,show:c=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:v,onShow:_,onHide:S,container:N,autoFocus:M=!0,enforceFocus:U=!0,restoreFocus:L=!0,restoreFocusOptions:F,onEntered:G,onExit:Y,onExiting:oe,onEnter:ie,onEntering:ae,onExited:x,backdropClassName:R,manager:I,renderStaticNode:O=!1,...D},z)=>{const V=w.useRef();n=Se(n,"offcanvas");const[qe,ut]=w.useState(!1),W=Vs(S),ue=e2(l||"xs","up");w.useEffect(()=>{ut(l?c&&!ue:c)},[c,l,ue]);const fe=w.useMemo(()=>({onHide:W}),[W]);function De(){return I||(g?(V.current||(V.current=new Tb({handleContainerOverflow:!1})),V.current):wb())}const ke=(le,...ye)=>{le&&(le.style.visibility="visible"),ie?.(le,...ye)},P=(le,...ye)=>{le&&(le.style.visibility=""),x?.(...ye)},Z=w.useCallback(le=>b.jsx("div",{...le,className:ge(`${n}-backdrop`,R)}),[R,n]),se=le=>b.jsx("div",{...le,...D,className:ge(e,l?`${n}-${l}`:n,`${n}-${s}`),"aria-labelledby":i,children:t});return b.jsxs(b.Fragment,{children:[!qe&&(l||O)&&se({}),b.jsx(_y.Provider,{value:fe,children:b.jsx(Eb,{show:qe,ref:z,backdrop:d,container:N,keyboard:p,autoFocus:M,enforceFocus:U&&!g,restoreFocus:L,restoreFocusOptions:F,onEscapeKeyDown:v,onShow:_,onHide:W,onEnter:ke,onEntering:ae,onEntered:G,onExit:Y,onExiting:oe,onExited:P,manager:De(),transition:r2,backdropTransition:i2,renderBackdrop:Z,renderDialog:se})})]})});Ub.displayName="Offcanvas";const a2=Object.assign(Ub,{Body:Vb,Header:kb,Title:Pb}),jb=w.forwardRef(({onHide:n,...e},t)=>{const i=w.useContext(fl),s=Vs(()=>{i==null||i.onToggle==null||i.onToggle(),n?.()});return b.jsx(a2,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:s})});jb.displayName="NavbarOffcanvas";const zb=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},s)=>(e=Se(e,"navbar-text"),b.jsx(t,{ref:s,className:ge(n,e),...i})));zb.displayName="NavbarText";const Bb=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:s="light",bg:l,fixed:c,sticky:d,className:p,as:g="nav",expanded:v,onToggle:_,onSelect:S,collapseOnSelect:N=!1,...M}=oy(n,{expanded:"onToggle"}),U=Se(t,"navbar"),L=w.useCallback((...Y)=>{S?.(...Y),N&&v&&_?.(!1)},[S,N,v,_]);M.role===void 0&&g!=="nav"&&(M.role="navigation");let F=`${U}-expand`;typeof i=="string"&&(F=`${F}-${i}`);const G=w.useMemo(()=>({onToggle:()=>_?.(!v),bsPrefix:U,expanded:!!v,expand:i}),[U,v,i,_]);return b.jsx(fl.Provider,{value:G,children:b.jsx(Rh.Provider,{value:L,children:b.jsx(g,{ref:e,...M,className:ge(p,U,i&&F,s&&`${U}-${s}`,l&&`bg-${l}`,d&&`sticky-${d}`,c&&`fixed-${c}`)})})})});Bb.displayName="Navbar";const eh=Object.assign(Bb,{Brand:Db,Collapse:Ob,Offcanvas:jb,Text:zb,Toggle:Mb}),wy=w.forwardRef(({active:n=!1,disabled:e=!1,className:t,style:i,activeLabel:s="(current)",children:l,linkStyle:c,linkClassName:d,as:p=rd,...g},v)=>{const _=n||e?"span":p;return b.jsx("li",{ref:v,style:i,className:ge(t,"page-item",{active:n,disabled:e}),children:b.jsxs(_,{className:ge("page-link",d),style:c,...g,children:[l,n&&s&&b.jsx("span",{className:"visually-hidden",children:s})]})})});wy.displayName="PageItem";function oc(n,e,t=n){const i=w.forwardRef(({children:s,...l},c)=>b.jsxs(wy,{...l,ref:c,children:[b.jsx("span",{"aria-hidden":"true",children:s||e}),b.jsx("span",{className:"visually-hidden",children:t})]}));return i.displayName=n,i}const s2=oc("First",""),o2=oc("Prev","","Previous"),l2=oc("Ellipsis","","More"),u2=oc("Next",""),c2=oc("Last",""),Fb=w.forwardRef(({bsPrefix:n,className:e,size:t,...i},s)=>{const l=Se(n,"pagination");return b.jsx("ul",{ref:s,...i,className:ge(e,l,t&&`${l}-${t}`)})});Fb.displayName="Pagination";const Nh=Object.assign(Fb,{First:s2,Prev:o2,Ellipsis:l2,Item:wy,Next:u2,Last:c2}),Ag=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},s)=>{const l=Se(n,"row"),c=PS(),d=US(),p=`${l}-cols`,g=[];return c.forEach(v=>{const _=i[v];delete i[v];let S;_!=null&&typeof _=="object"?{cols:S}=_:S=_;const N=v!==d?`-${v}`:"";S!=null&&g.push(`${p}${N}-${S}`)}),b.jsx(t,{ref:s,...i,className:ge(e,l,...g)})});Ag.displayName="Row";const Hb=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:i,as:s="div",className:l,...c},d)=>{n=Se(n,"spinner");const p=`${n}-${t}`;return b.jsx(s,{ref:d,...c,className:ge(l,p,i&&`${p}-${i}`,e&&`text-${e}`)})});Hb.displayName="Spinner";const f2=()=>{};var Dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},h2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,p=s+2<n.length,g=p?n[s+2]:0,v=l>>2,_=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,N=g&63;p||(N=64,c||(S=64)),i.push(t[v],t[_],t[S],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($b(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):h2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||g==null||_==null)throw new d2;const S=l<<2|d>>4;if(i.push(S),g!==64){const N=d<<4&240|g>>2;if(i.push(N),_!==64){const M=g<<6&192|_;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class d2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m2=function(n){const e=$b(n);return qb.encodeByteArray(e,!0)},xh=function(n){return m2(n).replace(/\./g,"")},Gb=function(n){try{return qb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=()=>p2().__FIREBASE_DEFAULTS__,y2=()=>{if(typeof process>"u"||typeof Dw>"u")return;const n=Dw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},v2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Gb(n[1]);return e&&JSON.parse(e)},ud=()=>{try{return f2()||g2()||y2()||v2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Kb=n=>ud()?.emulatorHosts?.[n],_2=n=>{const e=Kb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Yb=()=>ud()?.config,Qb=n=>ud()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[xh(JSON.stringify(t)),xh(JSON.stringify(c)),""].join(".")}const Lu={};function w2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Lu))Lu[e]?n.emulator.push(e):n.prod.push(e);return n}function S2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ow=!1;function Wb(n,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||Lu[n]===e||Lu[n]||Ow)return;Lu[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=w2().prod.length>0;function c(){const S=document.getElementById(i);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Ow=!0,c()},S}function v(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=S2(i),N=t("text"),M=document.getElementById(N)||document.createElement("span"),U=t("learnmore"),L=document.getElementById(U)||document.createElement("a"),F=t("preprendIcon"),G=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Y=S.element;d(Y),v(L,U);const oe=g();p(G,F),Y.append(G,M,L,oe),document.body.appendChild(Y)}l?(M.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function A2(){const n=ud()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function C2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I2(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function N2(){return!A2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function eA(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function x2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="FirebaseError";class Ar extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=D2,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$s.prototype.create)}}class $s{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?O2(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Ar(s,d,i)}}function O2(n,e){return n.replace(M2,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const M2=/\{\$([^}]+)}/g;function V2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(Mw(l)&&Mw(c)){if(!Pa(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Mw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function xu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Du(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function L2(n,e){const t=new k2(n,e);return t.subscribe.bind(t)}class k2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");P2(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=eg),s.error===void 0&&(s.error=eg),s.complete===void 0&&(s.complete=eg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=1e3,j2=2,z2=14400*1e3,B2=.5;function Vw(n,e=U2,t=j2){const i=e*Math.pow(t,n),s=Math.round(B2*i*(Math.random()-.5)*2);return Math.min(z2,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n){return n&&n._delegate?n._delegate:n}class wr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new E2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($2(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:H2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H2(n){return n===Is?void 0:n}function $2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new F2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const G2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},K2=ze.INFO,Y2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Q2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Y2[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cd{constructor(e){this.name=e,this._logLevel=K2,this._logHandler=Q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const X2=(n,e)=>e.some(t=>n instanceof t);let Lw,kw;function W2(){return Lw||(Lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J2(){return kw||(kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tA=new WeakMap,Rg=new WeakMap,nA=new WeakMap,tg=new WeakMap,Sy=new WeakMap;function Z2(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Oa(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&tA.set(t,n)}).catch(()=>{}),Sy.set(e,n),e}function eO(n){if(Rg.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Rg.set(n,e)}let Cg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tO(n){Cg=n(Cg)}function nO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ng(this),e,...t);return nA.set(i,e.sort?e.sort():[e]),Oa(i)}:J2().includes(n)?function(...e){return n.apply(ng(this),e),Oa(tA.get(this))}:function(...e){return Oa(n.apply(ng(this),e))}}function rO(n){return typeof n=="function"?nO(n):(n instanceof IDBTransaction&&eO(n),X2(n,W2())?new Proxy(n,Cg):n)}function Oa(n){if(n instanceof IDBRequest)return Z2(n);if(tg.has(n))return tg.get(n);const e=rO(n);return e!==n&&(tg.set(n,e),Sy.set(e,n)),e}const ng=n=>Sy.get(n);function rA(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=Oa(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Oa(c.result),p.oldVersion,p.newVersion,Oa(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const iO=["get","getKey","getAll","getAllKeys","count"],aO=["put","add","delete","clear"],rg=new Map;function Pw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=aO.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||iO.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&p.done]))[0]};return rg.set(e,l),l}tO(n=>({...n,get:(e,t,i)=>Pw(e,t)||n.get(e,t,i),has:(e,t)=>!!Pw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oO(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function oO(n){return n.getComponent()?.type==="VERSION"}const Ig="@firebase/app",Uw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new cd("@firebase/app"),lO="@firebase/app-compat",uO="@firebase/analytics-compat",cO="@firebase/analytics",fO="@firebase/app-check-compat",hO="@firebase/app-check",dO="@firebase/auth",mO="@firebase/auth-compat",pO="@firebase/database",gO="@firebase/data-connect",yO="@firebase/database-compat",vO="@firebase/functions",_O="@firebase/functions-compat",EO="@firebase/installations",TO="@firebase/installations-compat",wO="@firebase/messaging",SO="@firebase/messaging-compat",bO="@firebase/performance",AO="@firebase/performance-compat",RO="@firebase/remote-config",CO="@firebase/remote-config-compat",IO="@firebase/storage",NO="@firebase/storage-compat",xO="@firebase/firestore",DO="@firebase/ai",OO="@firebase/firestore-compat",MO="firebase",VO="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",LO={[Ig]:"fire-core",[lO]:"fire-core-compat",[cO]:"fire-analytics",[uO]:"fire-analytics-compat",[hO]:"fire-app-check",[fO]:"fire-app-check-compat",[dO]:"fire-auth",[mO]:"fire-auth-compat",[pO]:"fire-rtdb",[gO]:"fire-data-connect",[yO]:"fire-rtdb-compat",[vO]:"fire-fn",[_O]:"fire-fn-compat",[EO]:"fire-iid",[TO]:"fire-iid-compat",[wO]:"fire-fcm",[SO]:"fire-fcm-compat",[bO]:"fire-perf",[AO]:"fire-perf-compat",[RO]:"fire-rc",[CO]:"fire-rc-compat",[IO]:"fire-gcs",[NO]:"fire-gcs-compat",[xO]:"fire-fst",[OO]:"fire-fst-compat",[DO]:"fire-vertex","fire-js":"fire-js",[MO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,kO=new Map,xg=new Map;function jw(n,e){try{n.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ti(n){const e=n.name;if(xg.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;xg.set(e,n);for(const t of Dh.values())jw(t,n);for(const t of kO.values())jw(t,n);return!0}function qs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new $s("app","Firebase",PO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=VO;function iA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Ng,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw Ma.create("bad-app-name",{appName:String(s)});if(t||(t=Yb()),!t)throw Ma.create("no-options");const l=Dh.get(s);if(l){if(Pa(t,l.options)&&Pa(i,l.config))return l;throw Ma.create("duplicate-app",{appName:s})}const c=new q2(s);for(const p of xg.values())c.addComponent(p);const d=new UO(t,i,c);return Dh.set(s,d),d}function by(n=Ng){const e=Dh.get(n);if(!e&&n===Ng&&Yb())return iA();if(!e)throw Ma.create("no-app",{appName:n});return e}function Zn(n,e,t){let i=LO[n]??n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(c.join(" "));return}ti(new wr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="firebase-heartbeat-database",zO=1,$u="firebase-heartbeat-store";let ig=null;function aA(){return ig||(ig=rA(jO,zO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($u)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ma.create("idb-open",{originalErrorMessage:n.message})})),ig}async function BO(n){try{const t=(await aA()).transaction($u),i=await t.objectStore($u).get(sA(n));return await t.done,i}catch(e){if(e instanceof Ar)Ui.warn(e.message);else{const t=Ma.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(t.message)}}}async function zw(n,e){try{const i=(await aA()).transaction($u,"readwrite");await i.objectStore($u).put(e,sA(n)),await i.done}catch(t){if(t instanceof Ar)Ui.warn(t.message);else{const i=Ma.create("idb-set",{originalErrorMessage:t?.message});Ui.warn(i.message)}}}function sA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=1024,HO=30;class $O{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GO(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Bw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>HO){const s=KO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Bw(),{heartbeatsToSend:t,unsentEntries:i}=qO(this._heartbeatsCache.heartbeats),s=xh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ui.warn(e),""}}}function Bw(){return new Date().toISOString().substring(0,10)}function qO(n,e=FO){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),Fw(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Fw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class GO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?eA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Fw(n){return xh(JSON.stringify({version:2,heartbeats:n})).length}function KO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n){ti(new wr("platform-logger",e=>new sO(e),"PRIVATE")),ti(new wr("heartbeat",e=>new $O(e),"PRIVATE")),Zn(Ig,Uw,n),Zn(Ig,Uw,"esm2020"),Zn("fire-js","")}YO("");var Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Va,oA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function I(){}I.prototype=R.prototype,x.F=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(O,D,z){for(var V=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)V[qe-2]=arguments[qe];return R.prototype[D].apply(O,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,R,I){I||(I=0);const O=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)O[D]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(D=0;D<16;++D)O[D]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],D=x.g[2];let z=x.g[3],V;V=R+(z^I&(D^z))+O[0]+3614090360&4294967295,R=I+(V<<7&4294967295|V>>>25),V=z+(D^R&(I^D))+O[1]+3905402710&4294967295,z=R+(V<<12&4294967295|V>>>20),V=D+(I^z&(R^I))+O[2]+606105819&4294967295,D=z+(V<<17&4294967295|V>>>15),V=I+(R^D&(z^R))+O[3]+3250441966&4294967295,I=D+(V<<22&4294967295|V>>>10),V=R+(z^I&(D^z))+O[4]+4118548399&4294967295,R=I+(V<<7&4294967295|V>>>25),V=z+(D^R&(I^D))+O[5]+1200080426&4294967295,z=R+(V<<12&4294967295|V>>>20),V=D+(I^z&(R^I))+O[6]+2821735955&4294967295,D=z+(V<<17&4294967295|V>>>15),V=I+(R^D&(z^R))+O[7]+4249261313&4294967295,I=D+(V<<22&4294967295|V>>>10),V=R+(z^I&(D^z))+O[8]+1770035416&4294967295,R=I+(V<<7&4294967295|V>>>25),V=z+(D^R&(I^D))+O[9]+2336552879&4294967295,z=R+(V<<12&4294967295|V>>>20),V=D+(I^z&(R^I))+O[10]+4294925233&4294967295,D=z+(V<<17&4294967295|V>>>15),V=I+(R^D&(z^R))+O[11]+2304563134&4294967295,I=D+(V<<22&4294967295|V>>>10),V=R+(z^I&(D^z))+O[12]+1804603682&4294967295,R=I+(V<<7&4294967295|V>>>25),V=z+(D^R&(I^D))+O[13]+4254626195&4294967295,z=R+(V<<12&4294967295|V>>>20),V=D+(I^z&(R^I))+O[14]+2792965006&4294967295,D=z+(V<<17&4294967295|V>>>15),V=I+(R^D&(z^R))+O[15]+1236535329&4294967295,I=D+(V<<22&4294967295|V>>>10),V=R+(D^z&(I^D))+O[1]+4129170786&4294967295,R=I+(V<<5&4294967295|V>>>27),V=z+(I^D&(R^I))+O[6]+3225465664&4294967295,z=R+(V<<9&4294967295|V>>>23),V=D+(R^I&(z^R))+O[11]+643717713&4294967295,D=z+(V<<14&4294967295|V>>>18),V=I+(z^R&(D^z))+O[0]+3921069994&4294967295,I=D+(V<<20&4294967295|V>>>12),V=R+(D^z&(I^D))+O[5]+3593408605&4294967295,R=I+(V<<5&4294967295|V>>>27),V=z+(I^D&(R^I))+O[10]+38016083&4294967295,z=R+(V<<9&4294967295|V>>>23),V=D+(R^I&(z^R))+O[15]+3634488961&4294967295,D=z+(V<<14&4294967295|V>>>18),V=I+(z^R&(D^z))+O[4]+3889429448&4294967295,I=D+(V<<20&4294967295|V>>>12),V=R+(D^z&(I^D))+O[9]+568446438&4294967295,R=I+(V<<5&4294967295|V>>>27),V=z+(I^D&(R^I))+O[14]+3275163606&4294967295,z=R+(V<<9&4294967295|V>>>23),V=D+(R^I&(z^R))+O[3]+4107603335&4294967295,D=z+(V<<14&4294967295|V>>>18),V=I+(z^R&(D^z))+O[8]+1163531501&4294967295,I=D+(V<<20&4294967295|V>>>12),V=R+(D^z&(I^D))+O[13]+2850285829&4294967295,R=I+(V<<5&4294967295|V>>>27),V=z+(I^D&(R^I))+O[2]+4243563512&4294967295,z=R+(V<<9&4294967295|V>>>23),V=D+(R^I&(z^R))+O[7]+1735328473&4294967295,D=z+(V<<14&4294967295|V>>>18),V=I+(z^R&(D^z))+O[12]+2368359562&4294967295,I=D+(V<<20&4294967295|V>>>12),V=R+(I^D^z)+O[5]+4294588738&4294967295,R=I+(V<<4&4294967295|V>>>28),V=z+(R^I^D)+O[8]+2272392833&4294967295,z=R+(V<<11&4294967295|V>>>21),V=D+(z^R^I)+O[11]+1839030562&4294967295,D=z+(V<<16&4294967295|V>>>16),V=I+(D^z^R)+O[14]+4259657740&4294967295,I=D+(V<<23&4294967295|V>>>9),V=R+(I^D^z)+O[1]+2763975236&4294967295,R=I+(V<<4&4294967295|V>>>28),V=z+(R^I^D)+O[4]+1272893353&4294967295,z=R+(V<<11&4294967295|V>>>21),V=D+(z^R^I)+O[7]+4139469664&4294967295,D=z+(V<<16&4294967295|V>>>16),V=I+(D^z^R)+O[10]+3200236656&4294967295,I=D+(V<<23&4294967295|V>>>9),V=R+(I^D^z)+O[13]+681279174&4294967295,R=I+(V<<4&4294967295|V>>>28),V=z+(R^I^D)+O[0]+3936430074&4294967295,z=R+(V<<11&4294967295|V>>>21),V=D+(z^R^I)+O[3]+3572445317&4294967295,D=z+(V<<16&4294967295|V>>>16),V=I+(D^z^R)+O[6]+76029189&4294967295,I=D+(V<<23&4294967295|V>>>9),V=R+(I^D^z)+O[9]+3654602809&4294967295,R=I+(V<<4&4294967295|V>>>28),V=z+(R^I^D)+O[12]+3873151461&4294967295,z=R+(V<<11&4294967295|V>>>21),V=D+(z^R^I)+O[15]+530742520&4294967295,D=z+(V<<16&4294967295|V>>>16),V=I+(D^z^R)+O[2]+3299628645&4294967295,I=D+(V<<23&4294967295|V>>>9),V=R+(D^(I|~z))+O[0]+4096336452&4294967295,R=I+(V<<6&4294967295|V>>>26),V=z+(I^(R|~D))+O[7]+1126891415&4294967295,z=R+(V<<10&4294967295|V>>>22),V=D+(R^(z|~I))+O[14]+2878612391&4294967295,D=z+(V<<15&4294967295|V>>>17),V=I+(z^(D|~R))+O[5]+4237533241&4294967295,I=D+(V<<21&4294967295|V>>>11),V=R+(D^(I|~z))+O[12]+1700485571&4294967295,R=I+(V<<6&4294967295|V>>>26),V=z+(I^(R|~D))+O[3]+2399980690&4294967295,z=R+(V<<10&4294967295|V>>>22),V=D+(R^(z|~I))+O[10]+4293915773&4294967295,D=z+(V<<15&4294967295|V>>>17),V=I+(z^(D|~R))+O[1]+2240044497&4294967295,I=D+(V<<21&4294967295|V>>>11),V=R+(D^(I|~z))+O[8]+1873313359&4294967295,R=I+(V<<6&4294967295|V>>>26),V=z+(I^(R|~D))+O[15]+4264355552&4294967295,z=R+(V<<10&4294967295|V>>>22),V=D+(R^(z|~I))+O[6]+2734768916&4294967295,D=z+(V<<15&4294967295|V>>>17),V=I+(z^(D|~R))+O[13]+1309151649&4294967295,I=D+(V<<21&4294967295|V>>>11),V=R+(D^(I|~z))+O[4]+4149444226&4294967295,R=I+(V<<6&4294967295|V>>>26),V=z+(I^(R|~D))+O[11]+3174756917&4294967295,z=R+(V<<10&4294967295|V>>>22),V=D+(R^(z|~I))+O[2]+718787259&4294967295,D=z+(V<<15&4294967295|V>>>17),V=I+(z^(D|~R))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(D+(V<<21&4294967295|V>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+z&4294967295}i.prototype.v=function(x,R){R===void 0&&(R=x.length);const I=R-this.blockSize,O=this.C;let D=this.h,z=0;for(;z<R;){if(D==0)for(;z<=I;)s(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<R;)if(O[D++]=x.charCodeAt(z++),D==this.blockSize){s(this,O),D=0;break}}else for(;z<R;)if(O[D++]=x[z++],D==this.blockSize){s(this,O),D=0;break}}this.h=D,this.o+=R},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)x[R++]=this.g[I]>>>O&255;return x};function l(x,R){var I=d;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function c(x,R){this.h=R;const I=[];let O=!0;for(let D=x.length-1;D>=0;D--){const z=x[D]|0;O&&z==R||(I[D]=z,O=!1)}this.g=I}var d={};function p(x){return-128<=x&&x<128?l(x,function(R){return new c([R|0],R<0?-1:0)}):new c([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return _;if(x<0)return L(g(-x));const R=[];let I=1;for(let O=0;x>=I;O++)R[O]=x/I|0,I*=4294967296;return new c(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return L(v(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let O=_;for(let z=0;z<x.length;z+=8){var D=Math.min(8,x.length-z);const V=parseInt(x.substring(z,z+D),R);D<8?(D=g(Math.pow(R,D)),O=O.j(D).add(g(V))):(O=O.j(I),O=O.add(g(V)))}return O}var _=p(0),S=p(1),N=p(16777216);n=c.prototype,n.m=function(){if(U(this))return-L(this).m();let x=0,R=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);x+=(O>=0?O:4294967296+O)*R,R*=4294967296}return x},n.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(M(this))return"0";if(U(this))return"-"+L(this).toString(x);const R=g(Math.pow(x,6));var I=this;let O="";for(;;){const D=oe(I,R).g;I=F(I,D.j(R));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=D,M(I))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},n.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function M(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function U(x){return x.h==-1}n.l=function(x){return x=F(this,x),U(x)?-1:M(x)?0:1};function L(x){const R=x.g.length,I=[];for(let O=0;O<R;O++)I[O]=~x.g[O];return new c(I,~x.h).add(S)}n.abs=function(){return U(this)?L(this):this},n.add=function(x){const R=Math.max(this.g.length,x.g.length),I=[];let O=0;for(let D=0;D<=R;D++){let z=O+(this.i(D)&65535)+(x.i(D)&65535),V=(z>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);O=V>>>16,z&=65535,V&=65535,I[D]=V<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(x,R){return x.add(L(R))}n.j=function(x){if(M(this)||M(x))return _;if(U(this))return U(x)?L(this).j(L(x)):L(L(this).j(x));if(U(x))return L(this.j(L(x)));if(this.l(N)<0&&x.l(N)<0)return g(this.m()*x.m());const R=this.g.length+x.g.length,I=[];for(var O=0;O<2*R;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<x.g.length;D++){const z=this.i(O)>>>16,V=this.i(O)&65535,qe=x.i(D)>>>16,ut=x.i(D)&65535;I[2*O+2*D]+=V*ut,G(I,2*O+2*D),I[2*O+2*D+1]+=z*ut,G(I,2*O+2*D+1),I[2*O+2*D+1]+=V*qe,G(I,2*O+2*D+1),I[2*O+2*D+2]+=z*qe,G(I,2*O+2*D+2)}for(x=0;x<R;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=R;x<2*R;x++)I[x]=0;return new c(I,0)};function G(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function Y(x,R){this.g=x,this.h=R}function oe(x,R){if(M(R))throw Error("division by zero");if(M(x))return new Y(_,_);if(U(x))return R=oe(L(x),R),new Y(L(R.g),L(R.h));if(U(R))return R=oe(x,L(R)),new Y(L(R.g),R.h);if(x.g.length>30){if(U(x)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,O=R;O.l(x)<=0;)I=ie(I),O=ie(O);var D=ae(I,1),z=ae(O,1);for(O=ae(O,2),I=ae(I,2);!M(O);){var V=z.add(O);V.l(x)<=0&&(D=D.add(I),z=V),O=ae(O,1),I=ae(I,1)}return R=F(x,D.j(R)),new Y(D,R)}for(D=_;x.l(R)>=0;){for(I=Math.max(1,Math.floor(x.m()/R.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=g(I),V=z.j(R);U(V)||V.l(x)>0;)I-=O,z=g(I),V=z.j(R);M(z)&&(z=S),D=D.add(z),x=F(x,V)}return new Y(D,x)}n.B=function(x){return oe(this,x).h},n.and=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)&x.i(O);return new c(I,this.h&x.h)},n.or=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)|x.i(O);return new c(I,this.h|x.h)},n.xor=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)^x.i(O);return new c(I,this.h^x.h)};function ie(x){const R=x.g.length+1,I=[];for(let O=0;O<R;O++)I[O]=x.i(O)<<1|x.i(O-1)>>>31;return new c(I,x.h)}function ae(x,R){const I=R>>5;R%=32;const O=x.g.length-I,D=[];for(let z=0;z<O;z++)D[z]=R>0?x.i(z+I)>>>R|x.i(z+I+1)<<32-R:x.i(z+I);return new c(D,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,oA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Va=c}).apply(typeof Hw<"u"?Hw:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lA,Ou,uA,fh,Dg,cA,fA,hA;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function s(f,y){if(y)e:{var T=i;f=f.split(".");for(var C=0;C<f.length-1;C++){var H=f[C];if(!(H in T))break e;T=T[H]}f=f[f.length-1],C=T[f],y=y(C),y!=C&&y!=null&&e(T,f,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(y){var T=[],C;for(C in y)Object.prototype.hasOwnProperty.call(y,C)&&T.push([C,y[C]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function p(f,y,T){return f.call.apply(f.bind,arguments)}function g(f,y,T){return g=p,g.apply(null,arguments)}function v(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function _(f,y){function T(){}T.prototype=y.prototype,f.Z=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(C,H,Q){for(var ce=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ce[Ie-2]=arguments[Ie];return y.prototype[H].apply(C,ce)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function N(f){const y=f.length;if(y>0){const T=Array(y);for(let C=0;C<y;C++)T[C]=f[C];return T}return[]}function M(f,y){for(let C=1;C<arguments.length;C++){const H=arguments[C];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=f.length||0;const Q=H.length||0;f.length=T+Q;for(let ce=0;ce<Q;ce++)f[T+ce]=H[ce]}else f.push(H)}}class U{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(f){c.setTimeout(()=>{throw f},0)}function F(){var f=x;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class G{constructor(){this.h=this.g=null}add(y,T){const C=Y.get();C.set(y,T),this.h?this.h.next=C:this.g=C,this.h=C}}var Y=new U(()=>new oe,f=>f.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ae=!1,x=new G,R=()=>{const f=Promise.resolve(void 0);ie=()=>{f.then(I)}};function I(){for(var f;f=F();){try{f.h.call(f.g)}catch(T){L(T)}var y=Y;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}ae=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function qe(f,y){D.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}_(qe,D),qe.prototype.init=function(f,y){const T=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(T=="mouseover"?y=f.fromElement:T=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),W=0;function ue(f,y,T,C,H){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!C,this.ha=H,this.key=++W,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f,y,T){for(const C in f)y.call(T,f[C],C,f)}function ke(f,y){for(const T in f)y.call(void 0,f[T],T,f)}function P(f){const y={};for(const T in f)y[T]=f[T];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(f,y){let T,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(T in C)f[T]=C[T];for(let Q=0;Q<Z.length;Q++)T=Z[Q],Object.prototype.hasOwnProperty.call(C,T)&&(f[T]=C[T])}}function le(f){this.src=f,this.g={},this.h=0}le.prototype.add=function(f,y,T,C,H){const Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);const ce=be(f,y,C,H);return ce>-1?(y=f[ce],T||(y.fa=!1)):(y=new ue(y,this.src,Q,!!C,H),y.fa=T,f.push(y)),y};function ye(f,y){const T=y.type;if(T in f.g){var C=f.g[T],H=Array.prototype.indexOf.call(C,y,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(C,H,1),Q&&(fe(y),f.g[T].length==0&&(delete f.g[T],f.h--))}}function be(f,y,T,C){for(let H=0;H<f.length;++H){const Q=f[H];if(!Q.da&&Q.listener==y&&Q.capture==!!T&&Q.ha==C)return H}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),pt={};function Xe(f,y,T,C,H){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Xe(f,y[Q],T,C,H);return null}return T=Wa(T),f&&f[ut]?f.J(y,T,d(C)?!!C.capture:!1,H):dn(f,y,T,!1,C,H)}function dn(f,y,T,C,H,Q){if(!y)throw Error("Invalid event type");const ce=d(H)?!!H.capture:!!H;let Ie=Pn(f);if(Ie||(f[Oe]=Ie=new le(f)),T=Ie.add(y,T,C,ce,Q),T.proxy)return T;if(C=rr(),T.proxy=C,C.src=f,C.listener=T,f.addEventListener)z||(H=ce),H===void 0&&(H=!1),f.addEventListener(y.toString(),C,H);else if(f.attachEvent)f.attachEvent(Kt(y.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function rr(){function f(T){return y.call(f.src,f.listener,T)}const y=We;return f}function Sn(f,y,T,C,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Sn(f,y[Q],T,C,H);else C=d(C)?!!C.capture:!!C,T=Wa(T),f&&f[ut]?(f=f.i,Q=String(y).toString(),Q in f.g&&(y=f.g[Q],T=be(y,T,C,H),T>-1&&(fe(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete f.g[Q],f.h--)))):f&&(f=Pn(f))&&(y=f.g[y.toString()],f=-1,y&&(f=be(y,T,C,H)),(T=f>-1?y[f]:null)&&kn(T))}function kn(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[ut])ye(y.i,f);else{var T=f.type,C=f.proxy;y.removeEventListener?y.removeEventListener(T,C,f.capture):y.detachEvent?y.detachEvent(Kt(T),C):y.addListener&&y.removeListener&&y.removeListener(C),(T=Pn(y))?(ye(T,f),T.h==0&&(T.src=null,y[Oe]=null)):fe(f)}}}function Kt(f){return f in pt?pt[f]:pt[f]="on"+f}function We(f,y){if(f.da)f=!0;else{y=new qe(y,this);const T=f.listener,C=f.ha||f.src;f.fa&&kn(f),f=T.call(C,y)}return f}function Pn(f){return f=f[Oe],f instanceof le?f:null}var ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wa(f){return typeof f=="function"?f:(f[ir]||(f[ir]=function(y){return f.handleEvent(y)}),f[ir])}function vt(){O.call(this),this.i=new le(this),this.M=this,this.G=null}_(vt,O),vt.prototype[ut]=!0,vt.prototype.removeEventListener=function(f,y,T,C){Sn(this,f,y,T,C)};function Tt(f,y){var T,C=f.G;if(C)for(T=[];C;C=C.G)T.push(C);if(f=f.M,C=y.type||y,typeof y=="string")y=new D(y,f);else if(y instanceof D)y.target=y.target||f;else{var H=y;y=new D(C,f),se(y,H)}H=!0;let Q,ce;if(T)for(ce=T.length-1;ce>=0;ce--)Q=y.g=T[ce],H=Rr(Q,C,!0,y)&&H;if(Q=y.g=f,H=Rr(Q,C,!0,y)&&H,H=Rr(Q,C,!1,y)&&H,T)for(ce=0;ce<T.length;ce++)Q=y.g=T[ce],H=Rr(Q,C,!1,y)&&H}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const T=f.g[y];for(let C=0;C<T.length;C++)fe(T[C]);delete f.g[y],f.h--}}this.G=null},vt.prototype.J=function(f,y,T,C){return this.i.add(String(f),y,!1,T,C)},vt.prototype.K=function(f,y,T,C){return this.i.add(String(f),y,!0,T,C)};function Rr(f,y,T,C){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let Q=0;Q<y.length;++Q){const ce=y[Q];if(ce&&!ce.da&&ce.capture==T){const Ie=ce.listener,St=ce.ha||ce.src;ce.fa&&ye(f.i,ce),H=Ie.call(St,C)!==!1&&H}}return H&&!C.defaultPrevented}function Sl(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(f,y||0)}function Qs(f){f.g=Sl(()=>{f.g=null,f.i&&(f.i=!1,Qs(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Ft extends O{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(f){O.call(this),this.h=f,this.g={}}_(ii,O);var Pe=[];function Un(f){De(f.g,function(y,T){this.g.hasOwnProperty(T)&&kn(y)},f),f.g={}}ii.prototype.N=function(){ii.Z.N.call(this),Un(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=c.JSON.stringify,zd=c.JSON.parse,wc=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Sc(){}function bc(){}var sr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){D.call(this,"d")}_(Yt,D);function jn(){D.call(this,"c")}_(jn,D);var wt={},Ac=null;function Xs(){return Ac=Ac||new vt}wt.Ia="serverreachability";function Rc(f){D.call(this,wt.Ia,f)}_(Rc,D);function Cr(f){const y=Xs();Tt(y,new Rc(y))}wt.STAT_EVENT="statevent";function Ja(f,y){D.call(this,wt.STAT_EVENT,f),this.stat=y}_(Ja,D);function Ct(f){const y=Xs();Tt(y,new Ja(y,f))}wt.Ja="timingevent";function Ir(f,y){D.call(this,wt.Ja,f),this.size=y}_(Ir,D);function Nr(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function or(){this.g=!0}or.prototype.ua=function(){this.g=!1};function Bd(f,y,T,C,H,Q){f.info(function(){if(f.g)if(Q){var ce="",Ie=Q.split("&");for(let Ye=0;Ye<Ie.length;Ye++){var St=Ie[Ye].split("=");if(St.length>1){const dt=St[0];St=St[1];const Hn=dt.split("_");ce=Hn.length>=2&&Hn[1]=="type"?ce+(dt+"="+St+"&"):ce+(dt+"=redacted&")}}}else ce=null;else ce=Q;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+y+`
`+T+`
`+ce})}function Cc(f,y,T,C,H,Q,ce){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+y+`
`+T+`
`+Q+" "+ce})}function xr(f,y,T,C){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Fd(f,T)+(C?" "+C:"")})}function Za(f,y){f.info(function(){return"TIMEOUT: "+y})}or.prototype.info=function(){};function Fd(f,y){if(!f.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(f=0;f<Q.length;f++)if(Array.isArray(Q[f])){var T=Q[f];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var H=C[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ce=1;ce<C.length;ce++)C[ce]=""}}}}return ar(Q)}catch{return y}}var es={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Al;function ts(){}_(ts,Sc),ts.prototype.g=function(){return new XMLHttpRequest},Al=new ts;function ai(f){return encodeURIComponent(String(f))}function Ic(f){var y=1;f=f.split(":");const T=[];for(;y>0&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function lr(f,y,T,C){this.j=f,this.i=y,this.l=T,this.S=C||1,this.V=new ii(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ur}function ur(){this.i=null,this.g="",this.h=!1}var It={},Ht={};function Dr(f,y,T){f.M=1,f.A=ns(xt(y)),f.u=T,f.R=!0,Ws(f,null)}function Ws(f,y){f.F=Date.now(),Or(f),f.B=xt(f.A);var T=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),to(T.i,"t",C),f.C=0,T=f.j.L,f.h=new ur,f.g=Hc(f.j,T?y:null,!f.u),f.P>0&&(f.O=new Ft(g(f.Y,f,f.g),f.P)),y=f.V,T=f.g,C=f.ba;var H="readystatechange";Array.isArray(H)||(H&&(Pe[0]=H.toString()),H=Pe);for(let Q=0;Q<H.length;Q++){const ce=Xe(T,H[Q],C||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=f.J?P(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),Cr(),Bd(f.i,f.v,f.B,f.l,f.S,f.u)}lr.prototype.ba=function(f){f=f.target;const y=this.O;y&&hr(f)==3?y.j():this.Y(f)},lr.prototype.Y=function(f){try{if(f==this.g)e:{const Ie=hr(this.g),St=this.g.ya(),Ye=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ie!=4||St==7||(St==8||Ye<=0?Cr(3):Cr(2)),Mr(this);var y=this.g.ca();this.X=y;var T=Hd(this);if(this.o=y==200,Cc(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var C,H=this.g;if((C=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(C)){var Q=C;break t}}Q=null}if(f=Q)xr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vr(this,f);else{this.o=!1,this.m=3,Ct(12),bn(this),zn(this);break e}}if(this.R){f=!0;let dt;for(;!this.K&&this.C<T.length;)if(dt=xc(this,T),dt==Ht){Ie==4&&(this.m=4,Ct(14),f=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==It){this.m=4,Ct(15),xr(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else xr(this.i,this.l,dt,null),Vr(this,dt);if(Nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||T.length!=0||this.h.h||(this.m=1,Ct(16),f=!1),this.o=this.o&&f,!f)xr(this.i,this.l,T,"[Invalid Chunked Response]"),bn(this),zn(this);else if(T.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),zl(ce),ce.P=!0,Ct(11))}}else xr(this.i,this.l,T,null),Vr(this,T);Ie==4&&bn(this),this.o&&!this.K&&(Ie==4?jc(this.j,this):(this.o=!1,Or(this)))}else oi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),bn(this),zn(this)}}}catch{}finally{}};function Hd(f){if(!Nc(f))return f.g.la();const y=Qt(f.g);if(y==="")return"";let T="";const C=y.length,H=hr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return bn(f),zn(f),"";f.h.i=new c.TextDecoder}for(let Q=0;Q<C;Q++)f.h.h=!0,T+=f.h.i.decode(y[Q],{stream:!(H&&Q==C-1)});return y.length=0,f.h.g+=T,f.C=0,f.h.g}function Nc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function xc(f,y){var T=f.C,C=y.indexOf(`
`,T);return C==-1?Ht:(T=Number(y.substring(T,C)),isNaN(T)?It:(C+=1,C+T>y.length?Ht:(y=y.slice(C,C+T),f.C=C+T,y)))}lr.prototype.cancel=function(){this.K=!0,bn(this)};function Or(f){f.T=Date.now()+f.H,Js(f,f.H)}function Js(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Nr(g(f.aa,f),y)}function Mr(f){f.D&&(c.clearTimeout(f.D),f.D=null)}lr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Za(this.i,this.B),this.M!=2&&(Cr(),Ct(17)),bn(this),this.m=2,zn(this)):Js(this,this.T-f)};function zn(f){f.j.I==0||f.K||jc(f.j,f)}function bn(f){Mr(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Un(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Vr(f,y){try{var T=f.j;if(T.I!=0&&(T.g==f||kr(T.h,f))){if(!f.L&&kr(T.h,f)&&T.I==3){try{var C=T.Ba.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)so(T),ta(T);else break e;us(T),Ct(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Nr(g(T.Va,T),6e3));Lr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Fr(T,11)}else if((f.L||T.g==f)&&so(T),!V(y))for(H=T.Ba.g.parse(y),y=0;y<H.length;y++){let Ye=H[y];const dt=Ye[0];if(!(dt<=T.K))if(T.K=dt,Ye=Ye[1],T.I==2)if(Ye[0]=="c"){T.M=Ye[1],T.ba=Ye[2];const Hn=Ye[3];Hn!=null&&(T.ka=Hn,T.j.info("VER="+T.ka));const Hr=Ye[4];Hr!=null&&(T.za=Hr,T.j.info("SVER="+T.za));const dr=Ye[5];dr!=null&&typeof dr=="number"&&dr>0&&(C=1.5*dr,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const mr=f.g;if(mr){const cs=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cs){var Q=C.h;Q.g||cs.indexOf("spdy")==-1&&cs.indexOf("quic")==-1&&cs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Il(Q,Q.h),Q.h=null))}if(C.G){const oo=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(C.wa=oo,Ze(C.J,C.G,oo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var ce=f;if(C.na=Fc(C,C.L?C.ba:null,C.W),ce.L){Nl(C.h,ce);var Ie=ce,St=C.O;St&&(Ie.H=St),Ie.D&&(Mr(Ie),Or(Ie)),C.g=ce}else Pc(C);T.i.length>0&&Br(T)}else Ye[0]!="stop"&&Ye[0]!="close"||Fr(T,7);else T.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Fr(T,7):Ul(T):Ye[0]!="noop"&&T.l&&T.l.qa(Ye),T.A=0)}}Cr(4)}catch{}}var Nt=class{constructor(f,y){this.g=f,this.map=y}};function Rl(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Lr(f){return f.h?1:f.g?f.g.size:0}function kr(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Il(f,y){f.g?f.g.add(y):f.h=y}function Nl(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Rl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function xl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const T of f.g.values())y=y.concat(T.G);return y}return N(f.i)}var Dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(f,y){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const C=f[T].indexOf("=");let H,Q=null;C>=0?(H=f[T].substring(0,C),Q=f[T].substring(C+1)):H=f[T],y(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof An?(this.l=f.l,$t(this,f.j),this.o=f.o,this.g=f.g,Yi(this,f.u),this.h=f.h,Dl(this,Lc(f.i)),this.m=f.m):f&&(y=String(f).match(Dc))?(this.l=!1,$t(this,y[1]||"",!0),this.o=Pr(y[2]||""),this.g=Pr(y[3]||"",!0),Yi(this,y[4]),this.h=Pr(y[5]||"",!0),Dl(this,y[6]||"",!0),this.m=Pr(y[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}An.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(rs(y,eo,!0),":");var T=this.g;return(T||y=="file")&&(f.push("//"),(y=this.o)&&f.push(rs(y,eo,!0),"@"),f.push(ai(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(rs(T,T.charAt(0)=="/"?Ol:Oc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",rs(T,Mc)),f.join("")},An.prototype.resolve=function(f){const y=xt(this);let T=!!f.j;T?$t(y,f.j):T=!!f.o,T?y.o=f.o:T=!!f.g,T?y.g=f.g:T=f.u!=null;var C=f.h;if(T)Yi(y,f.u);else if(T=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var H=y.h.lastIndexOf("/");H!=-1&&(C=y.h.slice(0,H+1)+C)}if(H=C,H==".."||H==".")C="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){C=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let ce=0;ce<H.length;){const Ie=H[ce++];Ie=="."?C&&ce==H.length&&Q.push(""):Ie==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),C&&ce==H.length&&Q.push("")):(Q.push(Ie),C=!0)}C=Q.join("/")}else C=H}return T?y.h=C:T=f.i.toString()!=="",T?Dl(y,Lc(f.i)):T=!!f.m,T&&(y.m=f.m),y};function xt(f){return new An(f)}function $t(f,y,T){f.j=T?Pr(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Yi(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function Dl(f,y,T){y instanceof Xi?(f.i=y,no(f.i,f.l)):(T||(y=rs(y,Qi)),f.i=new Xi(y,f.l))}function Ze(f,y,T){f.i.set(y,T)}function ns(f){return Ze(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Pr(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function rs(f,y,T){return typeof f=="string"?(f=encodeURI(f).replace(y,mn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function mn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var eo=/[#\/\?@]/g,Oc=/[#\?:]/g,Ol=/[#\?]/g,Qi=/[#\?@]/g,Mc=/#/g;function Xi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function pn(f){f.g||(f.g=new Map,f.h=0,f.i&&Zs(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=Xi.prototype,n.add=function(f,y){pn(this),this.i=null,f=Wi(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this};function Vc(f,y){pn(f),y=Wi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Ml(f,y){return pn(f),y=Wi(f,y),f.g.has(y)}n.forEach=function(f,y){pn(this),this.g.forEach(function(T,C){T.forEach(function(H){f.call(y,H,C,this)},this)},this)};function Vl(f,y){pn(f);let T=[];if(typeof y=="string")Ml(f,y)&&(T=T.concat(f.g.get(Wi(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)T=T.concat(f[y]);return T}n.set=function(f,y){return pn(this),this.i=null,f=Wi(this,f),Ml(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=Vl(this,f),f.length>0?String(f[0]):y):y};function to(f,y,T){Vc(f,y),T.length>0&&(f.i=null,f.g.set(Wi(f,y),N(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let C=0;C<y.length;C++){var T=y[C];const H=ai(T);T=Vl(this,T);for(let Q=0;Q<T.length;Q++){let ce=H;T[Q]!==""&&(ce+="="+ai(T[Q])),f.push(ce)}}return this.i=f.join("&")};function Lc(f){const y=new Xi;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Wi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function no(f,y){y&&!f.j&&(pn(f),f.i=null,f.g.forEach(function(T,C){const H=C.toLowerCase();C!=H&&(Vc(this,C),to(this,H,T))},f)),f.j=y}function cr(f,y){const T=new or;if(c.Image){const C=new Image;C.onload=v(Bn,T,"TestLoadImage: loaded",!0,y,C),C.onerror=v(Bn,T,"TestLoadImage: error",!1,y,C),C.onabort=v(Bn,T,"TestLoadImage: abort",!1,y,C),C.ontimeout=v(Bn,T,"TestLoadImage: timeout",!1,y,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else y(!1)}function Ll(f,y){const T=new or,C=new AbortController,H=setTimeout(()=>{C.abort(),Bn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:C.signal}).then(Q=>{clearTimeout(H),Q.ok?Bn(T,"TestPingServer: ok",!0,y):Bn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Bn(T,"TestPingServer: error",!1,y)})}function Bn(f,y,T,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(T)}catch{}}function Ji(){this.g=new wc}function Ur(f){this.i=f.Sb||null,this.h=f.ab||!1}_(Ur,Sc),Ur.prototype.g=function(){return new is(this.i,this.h)};function is(f,y){vt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(is,vt),n=is.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,fr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ro(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ro(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Zi(this):fr(this),this.readyState==3&&ro(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Zi(this))},n.Na=function(f){this.g&&(this.response=f,Zi(this))},n.ga=function(){this.g&&Zi(this)};function Zi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,fr(f)}n.setRequestHeader=function(f,y){this.A.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=y.next();return f.join(`\r
`)};function fr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Fn(f){let y="";return De(f,function(T,C){y+=C,y+=":",y+=T,y+=`\r
`}),y}function as(f,y,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=Fn(T),typeof f=="string"?T!=null&&ai(T):Ze(f,y,T))}function nt(f){vt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(nt,vt);var jr=/^https?$/i,kl=["POST","PUT"];n=nt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,y,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Al.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Q){ss(this,Q);return}if(f=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)T.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Q of C.keys())T.set(Q,C.get(Q));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(kl,y,void 0)>=0)||C||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ce]of T)this.g.setRequestHeader(Q,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Q){ss(this,Q)}};function ss(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Pl(f),si(f)}function Pl(f){f.A||(f.A=!0,Tt(f,"complete"),Tt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Tt(this,"complete"),Tt(this,"abort"),si(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),nt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?os(this):this.Xa())},n.Xa=function(){os(this)};function os(f){if(f.h&&typeof l<"u"){if(f.v&&hr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Tt(f,"readystatechange"),hr(f)==4){f.h=!1;try{const Q=f.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var C;if(C=Q===0){let ce=String(f.D).match(Dc)[1]||null;!ce&&c.self&&c.self.location&&(ce=c.self.location.protocol.slice(0,-1)),C=!jr.test(ce?ce.toLowerCase():"")}T=C}if(T)Tt(f,"complete"),Tt(f,"success");else{f.o=6;try{var H=hr(f)>2?f.g.statusText:""}catch{H=""}f.l=H+" ["+f.ca()+"]",Pl(f)}}finally{si(f)}}}}function si(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,y||Tt(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function hr(f){return f.g?f.g.readyState:0}n.ca=function(){try{return hr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),zd(y)}};function Qt(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function oi(f){const y={};f=(f.g&&hr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(V(f[C]))continue;var T=Ic(f[C]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=y[H]||[];y[H]=Q,Q.push(T)}ke(y,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function ea(f){this.za=0,this.i=[],this.j=new or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zr("baseRetryDelayMs",5e3,f),this.Za=zr("retryDelaySeedMs",1e4,f),this.Ta=zr("forwardChannelMaxRetries",2,f),this.va=zr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Rl(f&&f.concurrentRequestLimit),this.Ba=new Ji,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ea.prototype,n.ka=8,n.I=1,n.connect=function(f,y,T,C){Ct(0),this.W=f,this.H=y||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=Fc(this,null,this.W),Br(this)};function Ul(f){if(io(f),f.I==3){var y=f.V++,T=xt(f.J);if(Ze(T,"SID",f.M),Ze(T,"RID",y),Ze(T,"TYPE","terminate"),ls(f,T),y=new lr(f,f.j,y),y.M=2,y.A=ns(xt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Hc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Or(y)}Bc(f)}function ta(f){f.g&&(zl(f),f.g.cancel(),f.g=null)}function io(f){ta(f),f.v&&(c.clearTimeout(f.v),f.v=null),so(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Br(f){if(!Cl(f.h)&&!f.m){f.m=!0;var y=f.Ea;ie||R(),ae||(ie(),ae=!0),x.add(y,f),f.D=0}}function ao(f,y){return Lr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Nr(g(f.Ea,f,y),zc(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const H=new lr(this,this.j,f);let Q=this.o;if(this.U&&(Q?(Q=P(Q),se(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=kc(this,H,y),T=xt(this.J),Ze(T,"RID",f),Ze(T,"CVER",22),this.G&&Ze(T,"X-HTTP-Session-Id",this.G),ls(this,T),Q&&(this.R?y="headers="+ai(Fn(Q))+"&"+y:this.u&&as(T,this.u,Q)),Il(this.h,H),this.Ra&&Ze(T,"TYPE","init"),this.S?(Ze(T,"$req",y),Ze(T,"SID","null"),H.U=!0,Dr(H,T,null)):Dr(H,T,y),this.I=2}}else this.I==3&&(f?jl(this,f):this.i.length==0||Cl(this.h)||jl(this))};function jl(f,y){var T;y?T=y.l:T=f.V++;const C=xt(f.J);Ze(C,"SID",f.M),Ze(C,"RID",T),Ze(C,"AID",f.K),ls(f,C),f.u&&f.o&&as(C,f.u,f.o),T=new lr(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),y&&(f.i=y.G.concat(f.i)),y=kc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Il(f.h,T),Dr(T,C,y)}function ls(f,y){f.H&&De(f.H,function(T,C){Ze(y,C,T)}),f.l&&De({},function(T,C){Ze(y,C,T)})}function kc(f,y,T){T=Math.min(f.i.length,T);const C=f.l?g(f.l.Ka,f.l,f):null;e:{var H=f.i;let Ie=-1;for(;;){const St=["count="+T];Ie==-1?T>0?(Ie=H[0].g,St.push("ofs="+Ie)):Ie=0:St.push("ofs="+Ie);let Ye=!0;for(let dt=0;dt<T;dt++){var Q=H[dt].g;const Hn=H[dt].map;if(Q-=Ie,Q<0)Ie=Math.max(0,H[dt].g-100),Ye=!1;else try{Q="req"+Q+"_"||"";try{var ce=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Hr,dr]of ce){let mr=dr;d(dr)&&(mr=ar(dr)),St.push(Q+Hr+"="+encodeURIComponent(mr))}}catch(Hr){throw St.push(Q+"type="+encodeURIComponent("_badmap")),Hr}}catch{C&&C(Hn)}}if(Ye){ce=St.join("&");break e}}ce=void 0}return f=f.i.splice(0,T),y.G=f,ce}function Pc(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;ie||R(),ae||(ie(),ae=!0),x.add(y,f),f.A=0}}function us(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Nr(g(f.Da,f),zc(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Uc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Nr(g(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),ta(this),Uc(this))};function zl(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Uc(f){f.g=new lr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=xt(f.na);Ze(y,"RID","rpc"),Ze(y,"SID",f.M),Ze(y,"AID",f.K),Ze(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ze(y,"TO",f.ia),Ze(y,"TYPE","xmlhttp"),ls(f,y),f.u&&f.o&&as(y,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=ns(xt(y)),T.u=null,T.R=!0,Ws(T,f)}n.Va=function(){this.C!=null&&(this.C=null,ta(this),us(this),Ct(19))};function so(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function jc(f,y){var T=null;if(f.g==y){so(f),zl(f),f.g=null;var C=2}else if(kr(f.h,y))T=y.G,Nl(f.h,y),C=1;else return;if(f.I!=0){if(y.o)if(C==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var H=f.D;C=Xs(),Tt(C,new Ir(C,T)),Br(f)}else Pc(f);else if(H=y.m,H==3||H==0&&y.X>0||!(C==1&&ao(f,y)||C==2&&us(f)))switch(T&&T.length>0&&(y=f.h,y.i=y.i.concat(T)),H){case 1:Fr(f,5);break;case 4:Fr(f,10);break;case 3:Fr(f,6);break;default:Fr(f,2)}}}function zc(f,y){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*y}function Fr(f,y){if(f.j.info("Error code "+y),y==2){var T=g(f.bb,f),C=f.Ua;const H=!C;C=new An(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$t(C,"https"),ns(C),H?cr(C.toString(),T):Ll(C.toString(),T)}else Ct(2);f.I=0,f.l&&f.l.pa(y),Bc(f),io(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Bc(f){if(f.I=0,f.ja=[],f.l){const y=xl(f.h);(y.length!=0||f.i.length!=0)&&(M(f.ja,y),M(f.ja,f.i),f.h.i.length=0,N(f.i),f.i.length=0),f.l.oa()}}function Fc(f,y,T){var C=T instanceof An?xt(T):new An(T);if(C.g!="")y&&(C.g=y+"."+C.g),Yi(C,C.u);else{var H=c.location;C=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const Q=new An(null);C&&$t(Q,C),y&&(Q.g=y),H&&Yi(Q,H),T&&(Q.h=T),C=Q}return T=f.G,y=f.wa,T&&y&&Ze(C,T,y),Ze(C,"VER",f.ka),ls(f,C),C}function Hc(f,y,T){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new nt(new Ur({ab:T})):new nt(f.ma),y.Fa(f.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $c(){}n=$c.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function na(){}na.prototype.g=function(f,y){return new cn(f,y)};function cn(f,y){vt.call(this),this.g=new ea(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!V(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new li(this)}_(cn,vt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ul(this.g)},cn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=ar(f),f=T);y.i.push(new Nt(y.Ya++,f)),y.I==3&&Br(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,cn.Z.N.call(this)};function qc(f){Yt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}_(qc,Yt);function Gc(){jn.call(this),this.status=1}_(Gc,jn);function li(f){this.g=f}_(li,$c),li.prototype.ra=function(){Tt(this.g,"a")},li.prototype.qa=function(f){Tt(this.g,new qc(f))},li.prototype.pa=function(f){Tt(this.g,new Gc)},li.prototype.oa=function(){Tt(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,hA=function(){return new na},fA=function(){return Xs()},cA=wt,Dg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,fh=es,bl.COMPLETE="complete",uA=bl,bc.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Ou=bc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,lA=nt}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const $w="@firebase/firestore",qw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new cd("@firebase/firestore");function Bo(){return Ls.logLevel}function de(n,...e){if(Ls.logLevel<=ze.DEBUG){const t=e.map(Ay);Ls.debug(`Firestore (${ml}): ${n}`,...t)}}function ji(n,...e){if(Ls.logLevel<=ze.ERROR){const t=e.map(Ay);Ls.error(`Firestore (${ml}): ${n}`,...t)}}function nl(n,...e){if(Ls.logLevel<=ze.WARN){const t=e.map(Ay);Ls.warn(`Firestore (${ml}): ${n}`,...t)}}function Ay(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,dA(n,i,t)}function dA(n,e,t){let i=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ji(i),new Error(i)}function Je(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||dA(e,s,i)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ar{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(on.UNAUTHENTICATED)))}shutdown(){}}class XO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class WO{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new La;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new La,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new La)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string",31837,{l:i}),new mA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class JO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new JO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const s=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Gw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=tM(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function Og(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const s=n.charAt(i),l=e.charAt(i);if(s!==l)return ag(s)===ag(l)?Be(s,l):ag(s)?1:-1}return Be(n.length,e.length)}const nM=55296,rM=57343;function ag(n){const e=n.charCodeAt(0);return e>=nM&&e<=rM}function rl(n,e,t){return n.length===e.length&&n.every(((i,s)=>t(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="__name__";class Yr{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=Yr.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Be(e.length,t.length)}static compareSegments(e,t){const i=Yr.isNumericId(e),s=Yr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Yr.extractNumericId(e).compare(Yr.extractNumericId(t)):Og(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class lt extends Yr{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((s=>s.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const iM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Yr{construct(e,t,i){return new tn(e,t,i)}static isValidIdentifier(e){return iM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kw}static keyField(){return new tn([Kw])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(lt.fromString(e))}static fromName(e){return new _e(lt.fromString(e).popFirst(5))}static empty(){return new _e(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n,e,t){if(!t)throw new he(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aM(n,e,t,i){if(e===!0&&i===!0)throw new he(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Yw(n){if(!_e.isDocumentKey(n))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Qw(n){if(_e.isDocumentKey(n))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function fd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function zi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fd(n);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function sM(n,e){if(e<=0)throw new he(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function uc(n,e){if(!gA(n))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(s&&typeof c!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new he(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=-62135596800,Ww=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Ww);return new ht(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xw)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ww}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uc(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Pt("string",ht._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ht(0,0))}static max(){return new Ae(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function oM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(i===1e9?new ht(t+1,0):new ht(t,i));return new Ua(s,_e.empty(),e)}function lM(n){return new Ua(n.readTime,n.key,qu)}class Ua{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ua(Ae.min(),_e.empty(),qu)}static max(){return new Ua(Ae.max(),_e.empty(),qu)}}function uM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==cM)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,i)=>{t(e)}))}static reject(e){return new re(((t,i)=>{i(e)}))}static waitFor(e){return new re(((t,i)=>{let s=0,l=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++l,c&&l===s&&t()}),(p=>i(p)))})),c=!0,l===s&&t()}))}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next((s=>s?re.resolve(s):i()));return t}static forEach(e,t){const i=[];return e.forEach(((s,l)=>{i.push(t.call(this,s,l))})),this.waitFor(i)}static mapArray(e,t){return new re(((i,s)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>s(v)))}}))}static doWhile(e,t){return new re(((i,s)=>{const l=()=>{e()===!0?t().next((()=>{l()}),s):i()};l()}))}}function hM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=-1;function dd(n){return n==null}function Oh(n){return n===0&&1/n==-1/0}function dM(n){return typeof n=="number"&&Number.isInteger(n)&&!Oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="";function mM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Jw(e)),e=pM(n.get(t),e);return Jw(e)}function pM(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case yA:t+="";break;default:t+=l}}return t}function Jw(n){return n+yA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??en.RED,this.left=s??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new en(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new e0(this.data.getIterator())}getIteratorFrom(e){return new e0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class e0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new Bt(tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _A("Invalid base64 string: "+l):l}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const gM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(n){if(Je(!!n,39018),typeof n=="string"){let e=0;const t=gM.exec(n);if(Je(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function za(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="server_timestamp",TA="__type__",wA="__previous_value__",SA="__local_write_time__";function Iy(n){return(n?.mapValue?.fields||{})[TA]?.stringValue===EA}function md(n){const e=n.mapValue.fields[wA];return Iy(e)?md(e):e}function Gu(n){const e=ja(n.mapValue.fields[SA].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t,i,s,l,c,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Mh="(default)";class Ku{constructor(e,t){this.projectId=e,this.database=t||Mh}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="__type__",vM="__max__",rh={mapValue:{}},AA="__vector__",Vh="value";function Ba(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Iy(n)?4:EM(n)?9007199254740991:_M(n)?10:11:we(28295,{value:n})}function ni(n,e){if(n===e)return!0;const t=Ba(n);if(t!==Ba(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gu(n).isEqual(Gu(e));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=ja(s.timestampValue),d=ja(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,l){return za(s.bytesValue).isEqual(za(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,l){return Rt(s.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(s.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(n,e);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return Rt(s.integerValue)===Rt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Rt(s.doubleValue),d=Rt(l.doubleValue);return c===d?Oh(c)===Oh(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return rl(n.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(Zw(c)!==Zw(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ni(c[p],d[p])))return!1;return!0})(n,e);default:return we(52216,{left:n})}}function Yu(n,e){return(n.values||[]).find((t=>ni(t,e)))!==void 0}function il(n,e){if(n===e)return 0;const t=Ba(n),i=Ba(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Rt(l.integerValue||l.doubleValue),p=Rt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return t0(n.timestampValue,e.timestampValue);case 4:return t0(Gu(n),Gu(e));case 5:return Og(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=za(l),p=za(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Be(d[g],p[g]);if(v!==0)return v}return Be(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Be(Rt(l.latitude),Rt(c.latitude));return d!==0?d:Be(Rt(l.longitude),Rt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return n0(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[Vh]?.arrayValue,v=p[Vh]?.arrayValue,_=Be(g?.values?.length||0,v?.values?.length||0);return _!==0?_:n0(g,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===rh.mapValue&&c===rh.mapValue)return 0;if(l===rh.mapValue)return 1;if(c===rh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let _=0;_<p.length&&_<v.length;++_){const S=Og(p[_],v[_]);if(S!==0)return S;const N=il(d[p[_]],g[v[_]]);if(N!==0)return N}return Be(p.length,v.length)})(n.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function t0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=ja(n),i=ja(e),s=Be(t.seconds,i.seconds);return s!==0?s:Be(t.nanos,i.nanos)}function n0(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=il(t[s],i[s]);if(l)return l}return Be(t.length,i.length)}function al(n){return Mg(n)}function Mg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=ja(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return za(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return _e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=Mg(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${Mg(t.fields[c])}`;return s+"}"})(n.mapValue):we(61005,{value:n})}function hh(n){switch(Ba(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(n);return e?16+hh(e):16;case 5:return 2*n.stringValue.length;case 6:return za(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,l)=>s+hh(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let s=0;return qa(i.fields,((l,c)=>{s+=l.length+hh(c)})),s})(n.mapValue);default:throw we(13486,{value:n})}}function r0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vg(n){return!!n&&"integerValue"in n}function Ny(n){return!!n&&"arrayValue"in n}function i0(n){return!!n&&"nullValue"in n}function a0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dh(n){return!!n&&"mapValue"in n}function _M(n){return(n?.mapValue?.fields||{})[bA]?.stringValue===AA}function ku(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return qa(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=ku(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ku(n.arrayValue.values[t]);return e}return{...n}}function EM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(t)}setAll(e){let t=tn.emptyPath(),i={},s=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=d.popLast()}c?i[d.lastSegment()]=ku(c):s.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];dh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){qa(t,((s,l)=>e[s]=l));for(const s of i)delete e[s]}clone(){return new wn(ku(this.value))}}function RA(n){const e=[];return qa(n.fields,((t,i)=>{const s=new tn([t]);if(dh(i)){const l=RA(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,i,s,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new ln(e,0,Ae.min(),Ae.min(),Ae.min(),wn.empty(),0)}static newFoundDocument(e,t,i,s){return new ln(e,1,t,Ae.min(),i,s,0)}static newNoDocument(e,t){return new ln(e,2,t,Ae.min(),Ae.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Ae.min(),Ae.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.position=e,this.inclusive=t}}function s0(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),t.key):i=il(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function o0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ni(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function TM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{}class kt extends CA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new SM(e,t,i):t==="array-contains"?new RM(e,i):t==="in"?new CM(e,i):t==="not-in"?new IM(e,i):t==="array-contains-any"?new NM(e,i):new kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new bM(e,i):new AM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(il(t,this.value)):t!==null&&Ba(this.value)===Ba(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends CA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Sr(e,t)}matches(e){return IA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IA(n){return n.op==="and"}function NA(n){return wM(n)&&IA(n)}function wM(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function Lg(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+al(n.value);if(NA(n))return n.filters.map((e=>Lg(e))).join(",");{const e=n.filters.map((t=>Lg(t))).join(",");return`${n.op}(${e})`}}function xA(n,e){return n instanceof kt?(function(i,s){return s instanceof kt&&i.op===s.op&&i.field.isEqual(s.field)&&ni(i.value,s.value)})(n,e):n instanceof Sr?(function(i,s){return s instanceof Sr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((l,c,d)=>l&&xA(c,s.filters[d])),!0):!1})(n,e):void we(19439)}function DA(n){return n instanceof kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${al(t.value)}`})(n):n instanceof Sr?(function(t){return t.op.toString()+" {"+t.getFilters().map(DA).join(" ,")+"}"})(n):"Filter"}class SM extends kt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class bM extends kt{constructor(e,t){super(e,"in",t),this.keys=OA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class AM extends kt{constructor(e,t){super(e,"not-in",t),this.keys=OA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function OA(n,e){return(e.arrayValue?.values||[]).map((t=>_e.fromName(t.referenceValue)))}class RM extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ny(t)&&Yu(t.arrayValue,this.value)}}class CM extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yu(this.value.arrayValue,t)}}class IM extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yu(this.value.arrayValue,t)}}class NM extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ny(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Yu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,t=null,i=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function l0(n,e=null,t=[],i=[],s=null,l=null,c=null){return new xM(n,e,t,i,s,l,c)}function xy(n){const e=Ce(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Lg(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>al(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>al(i))).join(",")),e.Te=t}return e.Te}function Dy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!o0(n.startAt,e.startAt)&&o0(n.endAt,e.endAt)}function kg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t=null,i=[],s=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DM(n,e,t,i,s,l,c,d){return new yl(n,e,t,i,s,l,c,d)}function MA(n){return new yl(n)}function u0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function VA(n){return n.collectionGroup!==null}function Pu(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Bt(tn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qu(l,i))})),t.has(tn.keyField().canonicalString())||e.Ie.push(new Qu(tn.keyField(),i))}return e.Ie}function Xr(n){const e=Ce(n);return e.Ee||(e.Ee=OM(e,Pu(n))),e.Ee}function OM(n,e){if(n.limitType==="F")return l0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new Qu(s.field,l)}));const t=n.endAt?new Lh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Lh(n.startAt.position,n.startAt.inclusive):null;return l0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Pg(n,e){const t=n.filters.concat([e]);return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function kh(n,e,t){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pd(n,e){return Dy(Xr(n),Xr(e))&&n.limitType===e.limitType}function LA(n){return`${xy(Xr(n))}|lt:${n.limitType}`}function Fo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((s=>DA(s))).join(", ")}]`),dd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>al(s))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>al(s))).join(",")),`Target(${i})`})(Xr(n))}; limitType=${n.limitType})`}function gd(n,e){return e.isFoundDocument()&&(function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,s){for(const l of Pu(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0})(n,e)&&(function(i,s){return!(i.startAt&&!(function(c,d,p){const g=s0(c,d,p);return c.inclusive?g<=0:g<0})(i.startAt,Pu(i),s)||i.endAt&&!(function(c,d,p){const g=s0(c,d,p);return c.inclusive?g>=0:g>0})(i.endAt,Pu(i),s))})(n,e)}function MM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kA(n){return(e,t)=>{let i=!1;for(const s of Pu(n)){const l=VM(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function VM(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?il(p,g):we(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,((t,i)=>{for(const[s,l]of i)e(s,l)}))}isEmpty(){return vA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new yt(_e.comparator);function Bi(){return LM}const PA=new yt(_e.comparator);function Mu(...n){let e=PA;for(const t of n)e=e.insert(t.key,t);return e}function UA(n){let e=PA;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function xs(){return Uu()}function jA(){return Uu()}function Uu(){return new Gs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const kM=new yt(_e.comparator),PM=new Bt(_e.comparator);function Fe(...n){let e=PM;for(const t of n)e=e.add(t);return e}const UM=new Bt(Be);function jM(){return UM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function zA(n){return{integerValue:""+n}}function zM(n,e){return dM(e)?zA(e):Oy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this._=void 0}}function BM(n,e,t){return n instanceof Xu?(function(s,l){const c={fields:{[TA]:{stringValue:EA},[SA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Iy(l)&&(l=md(l)),l&&(c.fields[wA]=l),{mapValue:c}})(t,e):n instanceof Wu?FA(n,e):n instanceof Ju?HA(n,e):(function(s,l){const c=BA(s,l),d=c0(c)+c0(s.Ae);return Vg(c)&&Vg(s.Ae)?zA(d):Oy(s.serializer,d)})(n,e)}function FM(n,e,t){return n instanceof Wu?FA(n,e):n instanceof Ju?HA(n,e):t}function BA(n,e){return n instanceof Ph?(function(i){return Vg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Xu extends yd{}class Wu extends yd{constructor(e){super(),this.elements=e}}function FA(n,e){const t=$A(e);for(const i of n.elements)t.some((s=>ni(s,i)))||t.push(i);return{arrayValue:{values:t}}}class Ju extends yd{constructor(e){super(),this.elements=e}}function HA(n,e){let t=$A(e);for(const i of n.elements)t=t.filter((s=>!ni(s,i)));return{arrayValue:{values:t}}}class Ph extends yd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function c0(n){return Rt(n.integerValue||n.doubleValue)}function $A(n){return Ny(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,t){this.field=e,this.transform=t}}function $M(n,e){return n.field.isEqual(e.field)&&(function(i,s){return i instanceof Wu&&s instanceof Wu||i instanceof Ju&&s instanceof Ju?rl(i.elements,s.elements,ni):i instanceof Ph&&s instanceof Ph?ni(i.Ae,s.Ae):i instanceof Xu&&s instanceof Xu})(n.transform,e.transform)}class qM{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vd{}function qA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new My(n.key,er.none()):new cc(n.key,n.data,er.none());{const t=n.data,i=wn.empty();let s=new Bt(tn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new Ga(n.key,i,new Vn(s.toArray()),er.none())}}function GM(n,e,t){n instanceof cc?(function(s,l,c){const d=s.value.clone(),p=h0(s.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Ga?(function(s,l,c){if(!mh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=h0(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(GA(s)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ju(n,e,t,i){return n instanceof cc?(function(l,c,d,p){if(!mh(l.precondition,c))return d;const g=l.value.clone(),v=d0(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,i):n instanceof Ga?(function(l,c,d,p){if(!mh(l.precondition,c))return d;const g=d0(l.fieldTransforms,p,c),v=c.data;return v.setAll(GA(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,i):(function(l,c,d){return mh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function KM(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=BA(i.transform,s||null);l!=null&&(t===null&&(t=wn.empty()),t.set(i.field,l))}return t||null}function f0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&rl(i,s,((l,c)=>$M(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cc extends vd{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ga extends vd{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function GA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function h0(n,e,t){const i=new Map;Je(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);i.set(l.field,FM(c,d,t[s]))}return i}function d0(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,BM(l,c,e))}return i}class My extends vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YM extends vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&GM(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ju(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ju(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=jA();return this.mutations.forEach((s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const p=qA(c,d);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,((t,i)=>f0(t,i)))&&rl(this.baseMutations,e.baseMutations,((t,i)=>f0(t,i)))}}class Vy{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Je(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return kM})();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new Vy(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,$e;function JM(n){switch(n){case te.OK:return we(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function KA(n){if(n===void 0)return ji("GRPC error has no .code"),te.UNKNOWN;switch(n){case Lt.OK:return te.OK;case Lt.CANCELLED:return te.CANCELLED;case Lt.UNKNOWN:return te.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return te.INTERNAL;case Lt.UNAVAILABLE:return te.UNAVAILABLE;case Lt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Lt.NOT_FOUND:return te.NOT_FOUND;case Lt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Lt.ABORTED:return te.ABORTED;case Lt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Lt.DATA_LOSS:return te.DATA_LOSS;default:return we(39323,{code:n})}}($e=Lt||(Lt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new Va([4294967295,4294967295],0);function m0(n){const e=ZM().encode(n),t=new oA;return t.update(e),new Uint8Array(t.digest())}function p0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Va([t,i],0),new Va([s,l],0)]}class Ly{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Vu(`Invalid padding: ${t}`);if(i<0)throw new Vu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Va.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(Va.fromNumber(i)));return s.compare(eV)===1&&(s=new Va([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=m0(e),[i,s]=p0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ly(l,s,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=m0(e),[i,s]=p0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new _d(Ae.min(),s,new yt(Be),Bi(),Fe())}}class fc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new fc(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,i,s){this.be=e,this.removedTargetIds=t,this.key=i,this.De=s}}class YA{constructor(e,t){this.targetId=e,this.Ce=t}}class QA{constructor(e,t,i=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class g0{constructor(){this.ve=0,this.Fe=y0(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),i=Fe();return this.Fe.forEach(((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:we(38017,{changeType:l})}})),new fc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=y0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bi(),this.Je=ih(),this.He=ih(),this.Ye=new yt(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const l=s.target;if(kg(l))if(i===0){const c=new _e(l.path);this.et(t,c,ln.newNoDocument(c,Ae.min()))}else Je(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=za(i).toUint8Array()}catch(p){if(p instanceof _A)return nl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ly(c,s,l)}catch(p){return nl(p instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&kg(d.target)){const p=new _e(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,ln.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Fe();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const s=new _d(e,t,this.Ye,this.je,i);return this.je=Bi(),this.Je=ih(),this.He=ih(),this.Ye=new yt(Be),s}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new g0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Bt(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Bt(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ih(){return new yt(_e.comparator)}function y0(){return new yt(_e.comparator)}const nV={asc:"ASCENDING",desc:"DESCENDING"},rV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iV={and:"AND",or:"OR"};class aV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ug(n,e){return n.useProto3Json||dd(e)?e:{value:e}}function Uh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sV(n,e){return Uh(n,e.toTimestamp())}function Wr(n){return Je(!!n,49232),Ae.fromTimestamp((function(t){const i=ja(t);return new ht(i.seconds,i.nanos)})(n))}function ky(n,e){return jg(n,e).canonicalString()}function jg(n,e){const t=(function(s){return new lt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function WA(n){const e=lt.fromString(n);return Je(nR(e),10190,{key:e.toString()}),e}function zg(n,e){return ky(n.databaseId,e.path)}function sg(n,e){const t=WA(e);if(t.get(1)!==n.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(ZA(t))}function JA(n,e){return ky(n.databaseId,e)}function oV(n){const e=WA(n);return e.length===4?lt.emptyPath():ZA(e)}function Bg(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZA(n){return Je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function v0(n,e,t){return{name:zg(n,e),fields:t.value.mapValue.fields}}function lV(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Je(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?te.UNKNOWN:KA(g.code);return new he(v,g.message||"")})(c);t=new QA(i,s,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=sg(n,i.document.name),l=Wr(i.document.updateTime),c=i.document.createTime?Wr(i.document.createTime):Ae.min(),d=new wn({mapValue:{fields:i.document.fields}}),p=ln.newFoundDocument(s,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new ph(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=sg(n,i.document),l=i.readTime?Wr(i.readTime):Ae.min(),c=ln.newNoDocument(s,l),d=i.removedTargetIds||[];t=new ph([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=sg(n,i.document),l=i.removedTargetIds||[];t=new ph([],l,s,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new WM(s,l),d=i.targetId;t=new YA(d,c)}}return t}function uV(n,e){let t;if(e instanceof cc)t={update:v0(n,e.key,e.value)};else if(e instanceof My)t={delete:zg(n,e.key)};else if(e instanceof Ga)t={update:v0(n,e.key,e.data),updateMask:vV(e.fieldMask)};else{if(!(e instanceof YM))return we(16599,{Vt:e.type});t={verify:zg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ph)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw we(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:sV(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(n,e.precondition)),t}function cV(n,e){return n&&n.length>0?(Je(e!==void 0,14353),n.map((t=>(function(s,l){let c=s.updateTime?Wr(s.updateTime):Wr(l);return c.isEqual(Ae.min())&&(c=Wr(l)),new qM(c,s.transformResults||[])})(t,e)))):[]}function fV(n,e){return{documents:[JA(n,e.path)]}}function hV(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=JA(n,s);const l=(function(g){if(g.length!==0)return tR(Sr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:Ho(S.field),direction:pV(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Ug(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:s}}function dV(n){let e=oV(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Je(i===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(_){const S=eR(_);return S instanceof Sr&&NA(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((S=>(function(M){return new Qu($o(M.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(_){let S;return S=typeof _=="object"?_.value:_,dd(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(_){const S=!!_.before,N=_.values||[];return new Lh(N,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(_){const S=!_.before,N=_.values||[];return new Lh(N,S)})(t.endAt)),DM(e,s,c,l,d,"F",p,g)}function mV(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=$o(t.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=$o(t.unaryFilter.field);return kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=$o(t.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(t.unaryFilter.field);return kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(n):n.fieldFilter!==void 0?(function(t){return kt.create($o(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Sr.create(t.compositeFilter.filters.map((i=>eR(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(t.compositeFilter.op))})(n):we(30097,{filter:n})}function pV(n){return nV[n]}function gV(n){return rV[n]}function yV(n){return iV[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function $o(n){return tn.fromServerFormat(n.fieldPath)}function tR(n){return n instanceof kt?(function(t){if(t.op==="=="){if(a0(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(i0(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(a0(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(i0(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:gV(t.op),value:t.value}}})(n):n instanceof Sr?(function(t){const i=t.getFilters().map((s=>tR(s)));return i.length===1?i[0]:{compositeFilter:{op:yV(t.op),filters:i}}})(n):we(54877,{filter:n})}function vV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function nR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t,i,s,l=Ae.min(),c=Ae.min(),d=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.yt=e}}function EV(n){const e=dV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?kh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.Cn=new wV}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Ua.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class wV{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Bt(lt.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Bt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rR=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(rR,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="LruGarbageCollector",SV=1048576;function T0([n,e],[t,i]){const s=Be(n,t);return s===0?Be(e,i):s}class bV{constructor(e){this.Ir=e,this.buffer=new Bt(T0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();T0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class AV{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(E0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gl(t)?de(E0,"Ignoring IndexedDB error during garbage collection: ",t):await pl(t)}await this.Vr(3e5)}))}}class RV{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(hd.ce);const i=new bV(t);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(_0)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,s,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,c=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(i=_,d=Date.now(),this.removeTargets(e,i,t)))).next((_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(g=Date.now(),Bo()<=ze.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:_}))))}}function CV(n,e){return new RV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.changes=new Gs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(i!==null&&ju(i.mutation,s,Vn.empty(),ht.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Fe()){const s=xs();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,i).next((l=>{let c=Mu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=xs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Fe())))}populateOverlays(e,t,i){const s=[];return i.forEach((l=>{t.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(e,s).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,s){let l=Bi();const c=Uu(),d=(function(){return Uu()})();return t.forEach(((p,g)=>{const v=i.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof Ga)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),ju(v.mutation,g,v.mutation.getFieldMask(),ht.now())):c.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new NV(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Uu();let s=new yt(((c,d)=>c-d)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||Vn.empty();v=d.applyToLocalView(g,v),i.set(p,v);const _=(s.get(d.batchId)||Fe()).add(p);s=s.insert(d.batchId,_)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,_=jA();v.forEach((S=>{if(!l.has(S)){const N=qA(t.get(S),i.get(S));N!==null&&_.set(S,N),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return re.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,s){return(function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):VA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):re.resolve(xs());let d=qu,p=l;return c.next((g=>re.forEach(g,((v,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Fe()))).next((v=>({batchId:d,changes:UA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((i=>{let s=Mu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Mu();return this.indexManager.getCollectionParents(e,l).next((d=>re.forEach(d,(p=>{const g=(function(_,S){return new yl(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next((v=>{v.forEach(((_,S)=>{c=c.insert(_,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,ln.newInvalidDocument(v)))}));let d=Mu();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&ju(v.mutation,g,Vn.empty(),ht.now()),gd(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Wr(s.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:EV(s.bundledQuery),readTime:Wr(s.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.overlays=new yt(_e.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=xs();return re.forEach(t,(s=>this.getOverlay(e,s).next((l=>{l!==null&&i.set(s,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((s,l)=>{this.St(e,t,l)})),re.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const s=xs(),l=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&s.set(p.getKey(),p)}return re.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new yt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=xs(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=xs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=s)););return re.resolve(d)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new XM(t,i));let l=this.qr.get(t);l===void 0&&(l=Fe(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.Qr=new Bt(Gt.$r),this.Ur=new Bt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Gt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Gt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new _e(new lt([])),i=new Gt(t,e),s=new Gt(t,e+1),l=[];return this.Ur.forEachInRange([i,s],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new lt([])),i=new Gt(t,e),s=new Gt(t,e+1);let l=Fe();return this.Ur.forEachInRange([i,s],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Gt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Gt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Gt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new QM(l,t,i,s);this.mutationQueue.push(c);for(const d of s)this.Zr=this.Zr.add(new Gt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ei(i),l=s<0?0:s;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Cy:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Gt(t,0),s=new Gt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,s],(c=>{const d=this.Xr(c.Yr);l.push(d)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bt(Be);return t.forEach((s=>{const l=new Gt(s,0),c=new Gt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new Gt(new _e(l),0);let d=new Bt(Be);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(d=d.add(p.Yr)),!0)}),c),re.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(t.mutations,(s=>{const l=new Gt(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Gt(t,0),s=this.Zr.firstAfterOrEqual(i);return re.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.ri=e,this.docs=(function(){return new yt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let i=Bi();return t.forEach((s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():ln.newInvalidDocument(s))})),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Bi();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||uM(lM(v),i)<=0||(s.has(v.key)||gd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,t,i,s){we(9500)}ii(e,t){return re.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new kV(this)}getSize(e){return re.resolve(this.size)}}class kV extends IV{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.persistence=e,this.si=new Gs((t=>xy(t)),Dy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Py,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,t){return this.si.forEach(((i,s)=>t(s))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),re.waitFor(l).next((()=>s))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach((c=>{l.push(s.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t){this.ui={},this.overlays={},this.ci=new hd(0),this.li=!1,this.li=!0,this.hi=new MV,this.referenceDelegate=e(this),this.Pi=new PV(this),this.indexManager=new TV,this.remoteDocumentCache=(function(s){return new LV(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new _V(t),this.Ii=new DV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new VV(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const s=new UV(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((l=>this.referenceDelegate.di(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ai(e,t){return re.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class UV extends fM{constructor(e){super(),this.currentSequenceNumber=e}}class Uy{constructor(e){this.persistence=e,this.Ri=new Py,this.Vi=null}static mi(e){return new Uy(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(i=>{const s=_e.fromPath(i);return this.gi(e,s).next((l=>{l||t.removeEntry(s,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.pi=new Gs((i=>mM(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=CV(this,t)}static mi(e,t){return new jh(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((i,s)=>this.br(e,i,s).next((l=>l?re.resolve():t(s)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hh(e.data.value)),t}br(e,t,i){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return re.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=s}static As(e,t){let i=Fe(),s=Fe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new jy(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return N2()?8:hM(un())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,s,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new jV;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,i,s){return i.documentReadCount<this.fs?(Bo()<=ze.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Bo()<=ze.DEBUG&&de("QueryEngine","Query:",Fo(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Bo()<=ze.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(t))):re.resolve())}ys(e,t){if(u0(t))return re.resolve(null);let i=Xr(t);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=kh(t,null,"F"),i=Xr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Fe(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,c,p.readTime)?this.ys(e,kh(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,i,s){return u0(t)||s.isEqual(Ae.min())?re.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,s)?re.resolve(null):(Bo()<=ze.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fo(t)),this.vs(e,c,t,oM(s,qu)).next((d=>d)))}))}Ds(e,t){let i=new Bt(kA(e));return t.forEach(((s,l)=>{gd(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(e,t,i){return Bo()<=ze.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Fo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ua.min(),i)}vs(e,t,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="LocalStore",BV=3e8;class FV{constructor(e,t,i,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new yt(Be),this.xs=new Gs((l=>xy(l)),Dy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function HV(n,e,t,i){return new FV(n,e,t,i)}async function aR(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next((l=>(s=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=Fe();for(const g of s){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function $V(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const _=g.batch,S=_.keys();let N=re.resolve();return S.forEach((M=>{N=N.next((()=>v.getEntry(p,M))).next((U=>{const L=g.docVersions.get(M);Je(L!==null,48541),U.version.compareTo(L)<0&&(_.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(p,_)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=Fe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,s)))}))}function sR(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function qV(n,e){const t=Ce(n),i=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((v,_)=>{const S=s.get(_);if(!S)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,_))));let N=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?N=N.withResumeToken(rn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,i)),s=s.insert(_,N),(function(U,L,F){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=BV?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(S,N,v)&&d.push(t.Pi.updateTargetData(l,N))}));let p=Bi(),g=Fe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(GV(l,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!i.isEqual(Ae.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((_=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return re.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=s,l)))}function GV(n,e,t){let i=Fe(),s=Fe();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=Bi();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):de(zy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:s}}))}function KV(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Cy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function YV(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return t.Pi.getTargetData(i,e).next((l=>l?(s=l,re.resolve(s)):t.Pi.allocateTargetId(i).next((c=>(s=new Da(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=t.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Fg(n,e,t){const i=Ce(n),s=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!gl(c))throw c;de(zy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function w0(n,e,t){const i=Ce(n);let s=Ae.min(),l=Fe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const _=Ce(p),S=_.xs.get(v);return S!==void 0?re.resolve(_.Ms.get(S)):_.Pi.getTargetData(g,v)})(i,c,Xr(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?s:Ae.min(),t?l:Fe()))).next((d=>(QV(i,MM(e),d),{documents:d,Qs:l})))))}function QV(n,e,t){let i=n.Os.get(e)||Ae.min();t.forEach(((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class S0{constructor(){this.activeTargetIds=jM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XV{constructor(){this.Mo=new S0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="ConnectivityMonitor";class A0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(b0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(b0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function Hg(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",JV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Mh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,t,i,s,l){const c=Hg(),d=this.zo(e,t.toUriEncodedString());de(og,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,s,l);const{host:g}=new URL(d),v=hl(g);return this.Jo(e,d,p,i,v).then((_=>(de(og,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw nl(og,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",i),_}))}Ho(e,t,i,s,l,c){return this.Go(e,t,i,s,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,l)=>e[l]=s)),i&&i.headers.forEach(((s,l)=>e[l]=s))}zo(e,t){const i=JV[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class tL extends ZV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,l){const c=Hg();return new Promise(((d,p)=>{const g=new lA;g.setWithCredentials(!0),g.listenOnce(uA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case fh.NO_ERROR:const _=g.getResponseJson();de(sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case fh.TIMEOUT:de(sn,`RPC '${e}' ${c} timed out`),p(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const S=g.getStatus();if(de(sn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const M=N?.error;if(M&&M.status&&M.message){const U=(function(F){const G=F.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(G)>=0?G:te.UNKNOWN})(M.status);p(new he(U,M.message))}else p(new he(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(te.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(sn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(s);de(sn,`RPC '${e}' ${c} sending request:`,s),g.send(t,"POST",v,i,15)}))}T_(e,t,i){const s=Hg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=hA(),d=fA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");de(sn,`Creating RPC '${e}' stream ${s}: ${v}`,p);const _=c.createWebChannel(v,p);this.I_(_);let S=!1,N=!1;const M=new eL({Yo:L=>{N?de(sn,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(S||(de(sn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),S=!0),de(sn,`RPC '${e}' stream ${s} sending:`,L),_.send(L))},Zo:()=>_.close()}),U=(L,F,G)=>{L.listen(F,(Y=>{try{G(Y)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return U(_,Ou.EventType.OPEN,(()=>{N||(de(sn,`RPC '${e}' stream ${s} transport opened.`),M.o_())})),U(_,Ou.EventType.CLOSE,(()=>{N||(N=!0,de(sn,`RPC '${e}' stream ${s} transport closed`),M.a_(),this.E_(_))})),U(_,Ou.EventType.ERROR,(L=>{N||(N=!0,nl(sn,`RPC '${e}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),M.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),U(_,Ou.EventType.MESSAGE,(L=>{if(!N){const F=L.data[0];Je(!!F,16349);const G=F,Y=G?.error||G[0]?.error;if(Y){de(sn,`RPC '${e}' stream ${s} received error:`,Y);const oe=Y.status;let ie=(function(R){const I=Lt[R];if(I!==void 0)return KA(I)})(oe),ae=Y.message;ie===void 0&&(ie=te.INTERNAL,ae="Unknown error status: "+oe+" with message "+Y.message),N=!0,M.a_(new he(ie,ae)),_.close()}else de(sn,`RPC '${e}' stream ${s} received:`,F),M.u_(F)}})),U(d,cA.STAT_EVENT,(L=>{L.stat===Dg.PROXY?de(sn,`RPC '${e}' stream ${s} detected buffering proxy`):L.stat===Dg.NOPROXY&&de(sn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(n){return new aV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=s,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="PersistentStream";class lR{constructor(e,t,i,s,l,c,d,p){this.Mi=e,this.S_=i,this.b_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oR(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===t&&this.G_(i,s)}),(i=>{e((()=>{const s=new he(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(R0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(R0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nL extends lR{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=lV(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Wr(c.readTime):Ae.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Bg(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=kg(p)?{documents:fV(l,p)}:{query:hV(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=XA(l,c.resumeToken);const g=Ug(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Uh(l,c.snapshotVersion.toTimestamp());const g=Ug(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=mV(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Bg(this.serializer),t.removeTarget=e,this.q_(t)}}class rL extends lR{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=cV(e.writeResults,e.commitTime),i=Wr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Bg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>uV(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{}class aL extends iL{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,jg(t,i),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(te.UNKNOWN,l.toString())}))}Ho(e,t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,jg(t,i),s,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ji(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class oL{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ks(this)&&(de(ks,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await hc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Td(g)})(this))}))})),this.Ra=new sL(i,s)}}async function Td(n){if(Ks(n))for(const e of n.da)await e(!0)}async function hc(n){for(const e of n.da)await e(!1)}function uR(n,e){const t=Ce(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),$y(t)?Hy(t):vl(t).O_()&&Fy(t,e))}function By(n,e){const t=Ce(n),i=vl(t);t.Ia.delete(e),i.O_()&&cR(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ks(t)&&t.Ra.set("Unknown"))}function Fy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vl(n).Y_(e)}function cR(n,e){n.Va.Ue(e),vl(n).Z_(e)}function Hy(n){n.Va=new tV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),vl(n).start(),n.Ra.ua()}function $y(n){return Ks(n)&&!vl(n).x_()&&n.Ia.size>0}function Ks(n){return Ce(n).Ea.size===0}function fR(n){n.Va=void 0}async function lL(n){n.Ra.set("Online")}async function uL(n){n.Ia.forEach(((e,t)=>{Fy(n,e)}))}async function cL(n,e){fR(n),$y(n)?(n.Ra.ha(e),Hy(n)):n.Ra.set("Unknown")}async function fL(n,e,t){if(n.Ra.set("Online"),e instanceof QA&&e.state===2&&e.cause)try{await(async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.Va.removeTarget(d))})(n,e)}catch(i){de(ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zh(n,i)}else if(e instanceof ph?n.Va.Ze(e):e instanceof YA?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ae.min()))try{const i=await sR(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),cR(l,p);const _=new Da(v.target,p,g,v.sequenceNumber);Fy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){de(ks,"Failed to raise snapshot:",i),await zh(n,i)}}async function zh(n,e,t){if(!gl(e))throw e;n.Ea.add(1),await hc(n),n.Ra.set("Offline"),t||(t=()=>sR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(ks,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Td(n)}))}function hR(n,e){return e().catch((t=>zh(n,t,e)))}async function wd(n){const e=Ce(n),t=Fa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cy;for(;hL(e);)try{const s=await KV(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,dL(e,s)}catch(s){await zh(e,s)}dR(e)&&mR(e)}function hL(n){return Ks(n)&&n.Ta.length<10}function dL(n,e){n.Ta.push(e);const t=Fa(n);t.O_()&&t.X_&&t.ea(e.mutations)}function dR(n){return Ks(n)&&!Fa(n).x_()&&n.Ta.length>0}function mR(n){Fa(n).start()}async function mL(n){Fa(n).ra()}async function pL(n){const e=Fa(n);for(const t of n.Ta)e.ea(t.mutations)}async function gL(n,e,t){const i=n.Ta.shift(),s=Vy.from(i,e,t);await hR(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await wd(n)}async function yL(n,e){e&&Fa(n).X_&&await(async function(i,s){if((function(c){return JM(c)&&c!==te.ABORTED})(s.code)){const l=i.Ta.shift();Fa(i).B_(),await hR(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s))),await wd(i)}})(n,e),dR(n)&&mR(n)}async function C0(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),de(ks,"RemoteStore received new credentials");const i=Ks(t);t.Ea.add(3),await hc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Td(t)}async function vL(n,e){const t=Ce(n);e?(t.Ea.delete(2),await Td(t)):e||(t.Ea.add(2),await hc(t),t.Ra.set("Unknown"))}function vl(n){return n.ma||(n.ma=(function(t,i,s){const l=Ce(t);return l.sa(),new nL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Xo:lL.bind(null,n),t_:uL.bind(null,n),r_:cL.bind(null,n),H_:fL.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),$y(n)?Hy(n):n.Ra.set("Unknown")):(await n.ma.stop(),fR(n))}))),n.ma}function Fa(n){return n.fa||(n.fa=(function(t,i,s){const l=Ce(t);return l.sa(),new rL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:mL.bind(null,n),r_:yL.bind(null,n),ta:pL.bind(null,n),na:gL.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await wd(n)):(await n.fa.stop(),n.Ta.length>0&&(de(ks,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new La,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,d=new qy(e,t,c,s,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(n,e){if(ji("AsyncQueue",`${e}: ${n}`),gl(n))return new he(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Mu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Go;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.ga=new yt(_e.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class ol{constructor(e,t,i,s,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new ol(e,t,Go.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class EL{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=Ce(t),l=s.queries;s.queries=N0(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(i)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function N0(){return new Gs((n=>LA(n)),pd)}async function TL(n,e){const t=Ce(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.ba()&&e.Da()&&(i=2):(l=new _L,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(s,!0);break;case 1:l.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=Gy(c,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ky(t)}async function wL(n,e){const t=Ce(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?s=e.Da()?0:1:!l.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function SL(n,e){const t=Ce(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(s)&&(i=!0);c.wa=s}}i&&Ky(t)}function bL(n,e,t){const i=Ce(n),s=i.queries.get(e);if(s)for(const l of s.Sa)l.onError(t);i.queries.delete(e)}function Ky(n){n.Ca.forEach((e=>{e.next()}))}var $g,x0;(x0=$g||($g={})).Ma="default",x0.Cache="cache";class AL{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new ol(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.key=e}}class gR{constructor(e){this.key=e}}class RL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=kA(e),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new I0,s=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,_)=>{const S=s.get(v),N=gd(this.query,_)?_:null,M=!!S&&this.mutatedKeys.has(S.key),U=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;S&&N?S.data.isEqual(N.data)?M!==U&&(i.track({type:3,doc:N}),L=!0):this.su(S,N)||(i.track({type:2,doc:N}),L=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(d=!0)):!S&&N?(i.track({type:0,doc:N}),L=!0):S&&!N&&(i.track({type:1,doc:S}),L=!0,(p||g)&&(d=!0)),L&&(N?(c=c.add(N),l=U?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(N,M){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:L})}};return U(N)-U(M)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(i),s=s??!1;const d=t&&!s?this._u():[],p=this.Xa.size===0&&this.current&&!s?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new ol(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new gR(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new pR(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yy="SyncEngine";class CL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class IL{constructor(e){this.key=e,this.hu=!1}}class NL{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Gs((d=>LA(d)),pd),this.Iu=new Map,this.Eu=new Set,this.du=new yt(_e.comparator),this.Au=new Map,this.Ru=new Py,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xL(n,e,t=!0){const i=wR(n);let s;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await yR(i,e,t,!0),s}async function DL(n,e){const t=wR(n);await yR(t,e,!0,!1)}async function yR(n,e,t,i){const s=await YV(n.localStore,Xr(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await OL(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&uR(n.remoteStore,s),d}async function OL(n,e,t,i,s){n.pu=(_,S,N)=>(async function(U,L,F,G){let Y=L.view.ru(F);Y.Cs&&(Y=await w0(U.localStore,L.query,!1).then((({documents:x})=>L.view.ru(x,Y))));const oe=G&&G.targetChanges.get(L.targetId),ie=G&&G.targetMismatches.get(L.targetId)!=null,ae=L.view.applyChanges(Y,U.isPrimaryClient,oe,ie);return O0(U,L.targetId,ae.au),ae.snapshot})(n,_,S,N);const l=await w0(n.localStore,e,!0),c=new RL(e,l.Qs),d=c.ru(l.documents),p=fc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),g=c.applyChanges(d,n.isPrimaryClient,p);O0(n,t,g.au);const v=new CL(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function ML(n,e,t){const i=Ce(n),s=i.Tu.get(e),l=i.Iu.get(s.targetId);if(l.length>1)return i.Iu.set(s.targetId,l.filter((c=>!pd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Fg(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),t&&By(i.remoteStore,s.targetId),qg(i,s.targetId)})).catch(pl)):(qg(i,s.targetId),await Fg(i.localStore,s.targetId,!0))}async function VL(n,e){const t=Ce(n),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),By(t.remoteStore,i.targetId))}async function LL(n,e,t){const i=FL(n);try{const s=await(function(c,d){const p=Ce(c),g=ht.now(),v=d.reduce(((N,M)=>N.add(M.key)),Fe());let _,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let M=Bi(),U=Fe();return p.Ns.getEntries(N,v).next((L=>{M=L,M.forEach(((F,G)=>{G.isValidDocument()||(U=U.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,M))).next((L=>{_=L;const F=[];for(const G of d){const Y=KM(G,_.get(G.key).overlayedDocument);Y!=null&&F.push(new Ga(G.key,Y,RA(Y.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,F,d)})).next((L=>{S=L;const F=L.applyToLocalDocumentSet(_,U);return p.documentOverlayCache.saveOverlays(N,L.batchId,F)}))})).then((()=>({batchId:S.batchId,changes:UA(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new yt(Be)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(i,s.batchId,t),await dc(i,s.changes),await wd(i.remoteStore)}catch(s){const l=Gy(s,"Failed to persist write");t.reject(l)}}async function vR(n,e){const t=Ce(n);try{const i=await qV(t.localStore,e);e.targetChanges.forEach(((s,l)=>{const c=t.Au.get(l);c&&(Je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Je(c.hu,14607):s.removedDocuments.size>0&&(Je(c.hu,42227),c.hu=!1))})),await dc(t,i,e)}catch(i){await pl(i)}}function D0(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const p=Ce(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,_)=>{for(const S of _.Sa)S.va(d)&&(g=!0)})),g&&Ky(p)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function kL(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),l=s&&s.key;if(l){let c=new yt(_e.comparator);c=c.insert(l,ln.newNoDocument(l,Ae.min()));const d=Fe().add(l),p=new _d(Ae.min(),new Map,new yt(Be),c,d);await vR(i,p),i.du=i.du.remove(l),i.Au.delete(e),Qy(i)}else await Fg(i.localStore,e,!1).then((()=>qg(i,e,t))).catch(pl)}async function PL(n,e){const t=Ce(n),i=e.batch.batchId;try{const s=await $V(t.localStore,e);ER(t,i,null),_R(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await dc(t,s)}catch(s){await pl(s)}}async function UL(n,e,t){const i=Ce(n);try{const s=await(function(c,d){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((_=>(Je(_!==null,37113),v=_.keys(),p.mutationQueue.removeMutationBatch(g,_)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);ER(i,e,t),_R(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await dc(i,s)}catch(s){await pl(s)}}function _R(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function ER(n,e,t){const i=Ce(n);let s=i.Vu[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||TR(n,i)}))}function TR(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(By(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Qy(n))}function O0(n,e,t){for(const i of t)i instanceof pR?(n.Ru.addReference(i.key,e),jL(n,i)):i instanceof gR?(de(Yy,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||TR(n,i.key)):we(19791,{wu:i})}function jL(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(de(Yy,"New document in limbo: "+t),n.Eu.add(i),Qy(n))}function Qy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(lt.fromString(e)),i=n.fu.next();n.Au.set(i,new IL(t)),n.du=n.du.insert(t,i),uR(n.remoteStore,new Da(Xr(MA(t.path)),i,"TargetPurposeLimboResolution",hd.ce))}}async function dc(n,e,t){const i=Ce(n),s=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){s.push(g);const v=jy.As(p.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.H_(s),await(async function(p,g){const v=Ce(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>re.forEach(g,(S=>re.forEach(S.Es,(N=>v.persistence.referenceDelegate.addReference(_,S.targetId,N))).next((()=>re.forEach(S.ds,(N=>v.persistence.referenceDelegate.removeReference(_,S.targetId,N)))))))))}catch(_){if(!gl(_))throw _;de(zy,"Failed to update sequence numbers: "+_)}for(const _ of g){const S=_.targetId;if(!_.fromCache){const N=v.Ms.get(S),M=N.snapshotVersion,U=N.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(S,U)}}})(i.localStore,l))}async function zL(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){de(Yy,"User change. New user:",e.toKey());const i=await aR(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new he(te.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await dc(t,i.Ls)}}function BL(n,e){const t=Ce(n),i=t.Au.get(e);if(i&&i.hu)return Fe().add(i.key);{let s=Fe();const l=t.Iu.get(e);if(!l)return s;for(const c of l){const d=t.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function wR(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kL.bind(null,e),e.Pu.H_=SL.bind(null,e.eventManager),e.Pu.yu=bL.bind(null,e.eventManager),e}function FL(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UL.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return HV(this.persistence,new zV,e.initialUser,this.serializer)}Cu(e){return new iR(Uy.mi,this.serializer)}Du(e){return new XV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class HL extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Je(this.persistence.referenceDelegate instanceof jh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new AV(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new iR((i=>jh.mi(i,t)),this.serializer)}}class Gg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>D0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zL.bind(null,this.syncEngine),await vL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new EL})()}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),i=(function(l){return new tL(l)})(e.databaseInfo);return(function(l,c,d,p){return new aL(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,s,l,c,d){return new oL(i,s,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>D0(this.syncEngine,t,0)),(function(){return A0.v()?new A0:new WV})())}createSyncEngine(e,t){return(function(s,l,c,d,p,g,v){const _=new NL(s,l,c,d,p,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ce(t);de(ks,"RemoteStore shutting down."),i.Ea.add(5),await hc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gg.provider={build:()=>new Gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="FirestoreClient";class qL{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=Ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{de(Ha,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(de(Ha,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new La;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Gy(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ug(n,e){n.asyncQueue.verifyOperationInProgress(),de(Ha,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async s=>{i.isEqual(s)||(await aR(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function M0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GL(n);de(Ha,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>C0(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,s)=>C0(e.remoteStore,s))),n._onlineComponents=e}async function GL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Ha,"Using user provided OfflineComponentProvider");try{await ug(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;nl("Error using user provided cache. Falling back to memory cache: "+t),await ug(n,new Bh)}}else de(Ha,"Using default OfflineComponentProvider"),await ug(n,new HL(void 0));return n._offlineComponents}async function SR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Ha,"Using user provided OnlineComponentProvider"),await M0(n,n._uninitializedComponentsProvider._online)):(de(Ha,"Using default OnlineComponentProvider"),await M0(n,new Gg))),n._onlineComponents}function KL(n){return SR(n).then((e=>e.syncEngine))}async function YL(n){const e=await SR(n),t=e.eventManager;return t.onListen=xL.bind(null,e.syncEngine),t.onUnlisten=ML.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VL.bind(null,e.syncEngine),t}function QL(n,e,t={}){const i=new La;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new $L({next:S=>{v.Nu(),c.enqueueAndForget((()=>wL(l,_))),S.fromCache&&p.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),_=new AL(d,v,{includeMetadataChanges:!0,qa:!0});return TL(l,_)})(await YL(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firestore.googleapis.com",L0=!0;class k0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AR,this.ssl=L0}else this.host=e.host,this.ssl=e.ssl??L0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SV)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bR(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new QO;switch(i.type){case"firstParty":return new ZO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=V0.get(t);i&&(de("ComponentProvider","Removing Datastore"),V0.delete(t),i.terminate())})(this),Promise.resolve()}}function XL(n,e,t,i={}){n=zi(n,Sd);const s=hl(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(Xb(`https://${d}`),Wb("Firestore",!0)),l.host!==AR&&l.host!==d&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:s,emulatorOptions:i};if(!Pa(p,c)&&(n._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=on.MOCK_USER;else{g=T2(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new on(_)}n._authCredentials=new XO(new mA(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ka(this.firestore,e,this._query)}}class Ut{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(uc(t,Ut._jsonSchema))return new Ut(e,i||null,new _e(lt.fromString(t.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Pt("string",Ut._jsonSchemaVersion),referencePath:Pt("string")};class ka extends Ka{constructor(e,t,i){super(e,t,MA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new _e(e))}withConverter(e){return new ka(this.firestore,e,this._path)}}function Ms(n,e,...t){if(n=jt(n),pA("collection","path",e),n instanceof Sd){const i=lt.fromString(e,...t);return Qw(i),new ka(n,null,i)}{if(!(n instanceof Ut||n instanceof ka))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return Qw(i),new ka(n.firestore,null,i)}}function mc(n,e,...t){if(n=jt(n),arguments.length===1&&(e=Ry.newId()),pA("doc","path",e),n instanceof Sd){const i=lt.fromString(e,...t);return Yw(i),new Ut(n,null,new _e(i))}{if(!(n instanceof Ut||n instanceof ka))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return Yw(i),new Ut(n.firestore,n instanceof ka?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="AsyncQueue";class U0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oR(this,"async_queue_retry"),this._c=()=>{const i=lg();i&&de(P0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=lg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=lg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new La;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;de(P0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ji("INTERNAL UNHANDLED ERROR: ",j0(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=qy.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&we(47125,{Pc:j0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function j0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class _l extends Sd{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new U0,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U0(e),this._firestoreClient=void 0,await e}}}function WL(n,e){const t=typeof n=="object"?n:by(),i=typeof n=="string"?n:Mh,s=qs(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=_2("firestore");l&&XL(s,...l)}return s}function RR(n){if(n._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JL(n),n._firestoreClient}function JL(n){const e=n._freezeSettings(),t=(function(s,l,c,d){return new yM(s,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,bR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new qL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(rn.fromBase64String(e))}catch(t){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uc(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Pt("string",Jn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(e){if(uc(e,Jr._jsonSchema))return new Jr(e.latitude,e.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:Pt("string",Jr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uc(e,Zr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Zr(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zr._jsonSchemaVersion="firestore/vectorValue/1.0",Zr._jsonSchema={type:Pt("string",Zr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=/^__.*__$/;class ek{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new cc(e,this.data,t,this.fieldTransforms)}}class CR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function IR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:n})}}class Xy{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IR(this.Ac)&&ZL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ed(e)}Cc(e,t,i,s=!1){return new Xy({Ac:e,methodName:t,Dc:i,path:tn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rd(n){const e=n._freezeSettings(),t=Ed(n._databaseId);return new tk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NR(n,e,t,i,s,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,s);Jy("Data must be an object, but it was:",c,i);const d=xR(i,c);let p,g;if(l.merge)p=new Vn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const S=Kg(e,_,t);if(!c.contains(S))throw new he(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);OR(v,S)||v.push(S)}p=new Vn(v),g=c.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,g=c.fieldTransforms;return new ek(new wn(d),p,g)}class Cd extends Ad{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cd}}class Wy extends Ad{_toFieldTransform(e){return new HM(e.path,new Xu)}isEqual(e){return e instanceof Wy}}function nk(n,e,t,i){const s=n.Cc(1,e,t);Jy("Data must be an object, but it was:",s,i);const l=[],c=wn.empty();qa(i,((p,g)=>{const v=Zy(e,p,t);g=jt(g);const _=s.yc(v);if(g instanceof Cd)l.push(v);else{const S=pc(g,_);S!=null&&(l.push(v),c.set(v,S))}}));const d=new Vn(l);return new CR(c,d,s.fieldTransforms)}function rk(n,e,t,i,s,l){const c=n.Cc(1,e,t),d=[Kg(e,i,t)],p=[s];if(l.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(Kg(e,l[S])),p.push(l[S+1]);const g=[],v=wn.empty();for(let S=d.length-1;S>=0;--S)if(!OR(g,d[S])){const N=d[S];let M=p[S];M=jt(M);const U=c.yc(N);if(M instanceof Cd)g.push(N);else{const L=pc(M,U);L!=null&&(g.push(N),v.set(N,L))}}const _=new Vn(g);return new CR(v,_,c.fieldTransforms)}function ik(n,e,t,i=!1){return pc(t,n.Cc(i?4:3,e))}function pc(n,e){if(DR(n=jt(n)))return Jy("Unsupported field value:",e,n),xR(n,e);if(n instanceof Ad)return(function(i,s){if(!IR(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const l=[];let c=0;for(const d of i){let p=pc(d,s.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,s){if((i=jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zM(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ht.fromDate(i);return{timestampValue:Uh(s.serializer,l)}}if(i instanceof ht){const l=new ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Uh(s.serializer,l)}}if(i instanceof Jr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jn)return{bytesValue:XA(s.serializer,i._byteString)};if(i instanceof Ut){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ky(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Zr)return(function(c,d){return{mapValue:{fields:{[bA]:{stringValue:AA},[Vh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Oy(d.serializer,g)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${fd(i)}`)})(n,e)}function xR(n,e){const t={};return vA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(n,((i,s)=>{const l=pc(s,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function DR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Jr||n instanceof Jn||n instanceof Ut||n instanceof Ad||n instanceof Zr)}function Jy(n,e,t){if(!DR(t)||!gA(t)){const i=fd(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Kg(n,e,t){if((e=jt(e))instanceof bd)return e._internalPath;if(typeof e=="string")return Zy(n,e);throw Fh("Field path arguments must be of type string or ",n,!1,void 0,t)}const ak=new RegExp("[~\\*/\\[\\]]");function Zy(n,e,t){if(e.search(ak)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bd(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fh(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new he(te.INVALID_ARGUMENT,d+n+p)}function OR(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Id("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sk extends MR{data(){return super.data()}}function Id(n,e){return typeof e=="string"?Zy(n,e):e instanceof bd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class tv extends ev{}function Ko(n,e,...t){let i=[];e instanceof ev&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof nv)).length,d=l.filter((p=>p instanceof Nd)).length;if(c>1||c>0&&d>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)n=s._apply(n);return n}class Nd extends tv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Nd(e,t,i)}_apply(e){const t=this._parse(e);return VR(e._query,t),new Ka(e.firestore,e.converter,Pg(e._query,t))}_parse(e){const t=Rd(e.firestore);return(function(l,c,d,p,g,v,_){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){B0(_,v);const M=[];for(const U of _)M.push(z0(p,l,U));S={arrayValue:{values:M}}}else S=z0(p,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||B0(_,v),S=ik(d,c,_,v==="in"||v==="not-in");return kt.create(g,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zu(n,e,t){const i=e,s=Id("where",n);return Nd._create(s,i,t)}class nv extends ev{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nv(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,l){let c=s;const d=l.getFlattenedFilters();for(const p of d)VR(c,p),c=Pg(c,p)})(e._query,t),new Ka(e.firestore,e.converter,Pg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rv extends tv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rv(e,t)}_apply(e){const t=(function(s,l,c){if(s.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(l,c)})(e._query,this._field,this._direction);return new Ka(e.firestore,e.converter,(function(s,l){const c=s.explicitOrderBy.concat([l]);return new yl(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function gh(n,e="asc"){const t=e,i=Id("orderBy",n);return rv._create(i,t)}class iv extends tv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new iv(e,t,i)}_apply(e){return new Ka(e.firestore,e.converter,kh(e._query,this._limit,this._limitType))}}function lk(n){return sM("limit",n),iv._create("limit",n,"F")}function z0(n,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VA(e)&&t.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(lt.fromString(t));if(!_e.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return r0(n,new _e(i))}if(t instanceof Ut)return r0(n,t._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(t)}.`)}function B0(n,e){if(!Array.isArray(n)||n.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VR(n,e){const t=(function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uk{convertValue(e,t="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return qa(e,((s,l)=>{i[s]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Vh].arrayValue?.values?.map((i=>Rt(i.doubleValue)));return new Zr(t)}convertGeoPoint(e){return new Jr(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=md(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const t=ja(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);Je(nR(i),9688,{name:e});const s=new Ku(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return s.isEqual(t)||ji(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yo extends MR{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Id("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Yo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yo._jsonSchema={type:Pt("string",Yo._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class yh extends Yo{data(e={}){return super.data(e)}}class Qo{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new sh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new yh(this._firestore,this._userDataWriter,i.key,i,new sh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const p=new yh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new sh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new yh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new sh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:ck(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ck(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:Pt("string",Qo._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class fk extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}}function Xo(n){n=zi(n,Ka);const e=zi(n.firestore,_l),t=RR(e),i=new fk(e);return ok(n._query),QL(t,n._query).then((s=>new Qo(e,i,n,s)))}function kR(n,e,t){n=zi(n,Ut);const i=zi(n.firestore,_l),s=LR(n.converter,e);return xd(i,[NR(Rd(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,er.none())])}function hk(n,e,t,...i){n=zi(n,Ut);const s=zi(n.firestore,_l),l=Rd(s);let c;return c=typeof(e=jt(e))=="string"||e instanceof bd?rk(l,"updateDoc",n._key,e,t,i):nk(l,"updateDoc",n._key,e),xd(s,[c.toMutation(n._key,er.exists(!0))])}function dk(n){return xd(zi(n.firestore,_l),[new My(n._key,er.none())])}function mk(n,e){const t=zi(n.firestore,_l),i=mc(n),s=LR(n.converter,e);return xd(t,[NR(Rd(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,er.exists(!1))]).then((()=>i))}function xd(n,e){return(function(i,s){const l=new La;return i.asyncQueue.enqueueAndForget((async()=>LL(await KL(i),s,l))),l.promise})(RR(n),e)}function PR(){return new Wy("serverTimestamp")}(function(e,t=!0){(function(s){ml=s})(dl),ti(new wr("firestore",((i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new _l(new WO(i.getProvider("auth-internal")),new eM(c,i.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(g.options.projectId,v)})(c,s),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Zn($w,qw,e),Zn($w,qw,"esm2020")})();var pk="firebase",gk="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(pk,gk,"app");const UR="@firebase/installations",av="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=1e4,zR=`w:${av}`,BR="FIS_v2",yk="https://firebaseinstallations.googleapis.com/v1",vk=3600*1e3,_k="installations",Ek="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ps=new $s(_k,Ek,Tk);function FR(n){return n instanceof Ar&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR({projectId:n}){return`${yk}/projects/${n}/installations`}function $R(n){return{token:n.token,requestStatus:2,expiresIn:Sk(n.expiresIn),creationTime:Date.now()}}async function qR(n,e){const i=(await e.json()).error;return Ps.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function GR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function wk(n,{refreshToken:e}){const t=GR(n);return t.append("Authorization",bk(e)),t}async function KR(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Sk(n){return Number(n.replace("s","000"))}function bk(n){return`${BR} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=HR(n),s=GR(n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&s.append("x-firebase-client",g)}const c={fid:t,authVersion:BR,appId:n.appId,sdkVersion:zR},d={method:"POST",headers:s,body:JSON.stringify(c)},p=await KR(()=>fetch(i,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:$R(g.authToken)}}else throw await qR("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=/^[cdef][\w-]{21}$/,Yg="";function Ik(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Nk(n);return Ck.test(t)?t:Yg}catch{return Yg}}function Nk(n){return Rk(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Map;function XR(n,e){const t=Dd(n);WR(t,e),xk(t,e)}function WR(n,e){const t=QR.get(n);if(t)for(const i of t)i(e)}function xk(n,e){const t=Dk();t&&t.postMessage({key:n,fid:e}),Ok()}let Ds=null;function Dk(){return!Ds&&"BroadcastChannel"in self&&(Ds=new BroadcastChannel("[Firebase] FID Change"),Ds.onmessage=n=>{WR(n.data.key,n.data.fid)}),Ds}function Ok(){QR.size===0&&Ds&&(Ds.close(),Ds=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="firebase-installations-database",Vk=1,Us="firebase-installations-store";let cg=null;function sv(){return cg||(cg=rA(Mk,Vk,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Us)}}})),cg}async function Hh(n,e){const t=Dd(n),s=(await sv()).transaction(Us,"readwrite"),l=s.objectStore(Us),c=await l.get(t);return await l.put(e,t),await s.done,(!c||c.fid!==e.fid)&&XR(n,e.fid),e}async function JR(n){const e=Dd(n),i=(await sv()).transaction(Us,"readwrite");await i.objectStore(Us).delete(e),await i.done}async function Od(n,e){const t=Dd(n),s=(await sv()).transaction(Us,"readwrite"),l=s.objectStore(Us),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await s.done,d&&(!c||c.fid!==d.fid)&&XR(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ov(n){let e;const t=await Od(n.appConfig,i=>{const s=Lk(i),l=kk(n,s);return e=l.registrationPromise,l.installationEntry});return t.fid===Yg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Lk(n){const e=n||{fid:Ik(),registrationStatus:0};return ZR(e)}function kk(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ps.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Pk(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Uk(n)}:{installationEntry:e}}async function Pk(n,e){try{const t=await Ak(n,e);return Hh(n.appConfig,t)}catch(t){throw FR(t)&&t.customData.serverCode===409?await JR(n.appConfig):await Hh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Uk(n){let e=await F0(n.appConfig);for(;e.registrationStatus===1;)await YR(100),e=await F0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await ov(n);return i||t}return e}function F0(n){return Od(n,e=>{if(!e)throw Ps.create("installation-not-found");return ZR(e)})}function ZR(n){return jk(n)?{fid:n.fid,registrationStatus:0}:n}function jk(n){return n.registrationStatus===1&&n.registrationTime+jR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk({appConfig:n,heartbeatServiceProvider:e},t){const i=Bk(n,t),s=wk(n,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&s.append("x-firebase-client",g)}const c={installation:{sdkVersion:zR,appId:n.appId}},d={method:"POST",headers:s,body:JSON.stringify(c)},p=await KR(()=>fetch(i,d));if(p.ok){const g=await p.json();return $R(g)}else throw await qR("Generate Auth Token",p)}function Bk(n,{fid:e}){return`${HR(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lv(n,e=!1){let t;const i=await Od(n.appConfig,l=>{if(!e1(l))throw Ps.create("not-registered");const c=l.authToken;if(!e&&$k(c))return l;if(c.requestStatus===1)return t=Fk(n,e),l;{if(!navigator.onLine)throw Ps.create("app-offline");const d=Gk(l);return t=Hk(n,d),d}});return t?await t:i.authToken}async function Fk(n,e){let t=await H0(n.appConfig);for(;t.authToken.requestStatus===1;)await YR(100),t=await H0(n.appConfig);const i=t.authToken;return i.requestStatus===0?lv(n,e):i}function H0(n){return Od(n,e=>{if(!e1(e))throw Ps.create("not-registered");const t=e.authToken;return Kk(t)?{...e,authToken:{requestStatus:0}}:e})}async function Hk(n,e){try{const t=await zk(n,e),i={...e,authToken:t};return await Hh(n.appConfig,i),t}catch(t){if(FR(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await JR(n.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Hh(n.appConfig,i)}throw t}}function e1(n){return n!==void 0&&n.registrationStatus===2}function $k(n){return n.requestStatus===2&&!qk(n)}function qk(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+vk}function Gk(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function Kk(n){return n.requestStatus===1&&n.requestTime+jR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n){const e=n,{installationEntry:t,registrationPromise:i}=await ov(e);return i?i.catch(console.error):lv(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(n,e=!1){const t=n;return await Xk(t),(await lv(t,e)).token}async function Xk(n){const{registrationPromise:e}=await ov(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n){if(!n||!n.options)throw fg("App Configuration");if(!n.name)throw fg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw fg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function fg(n){return Ps.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="installations",Jk="installations-internal",Zk=n=>{const e=n.getProvider("app").getImmediate(),t=Wk(e),i=qs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},eP=n=>{const e=n.getProvider("app").getImmediate(),t=qs(e,t1).getImmediate();return{getId:()=>Yk(t),getToken:s=>Qk(t,s)}};function tP(){ti(new wr(t1,Zk,"PUBLIC")),ti(new wr(Jk,eP,"PRIVATE"))}tP();Zn(UR,av);Zn(UR,av,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="analytics",nP="firebase_id",rP="origin",iP=60*1e3,aP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new cd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ln=new $s("analytics","Analytics",sP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(n){if(!n.startsWith(uv)){const e=Ln.create("invalid-gtag-resource",{gtagURL:n});return hn.warn(e.message),""}return n}function n1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function lP(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function uP(n,e){const t=lP("firebase-js-sdk-policy",{createScriptURL:oP}),i=document.createElement("script"),s=`${uv}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function cP(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function fP(n,e,t,i,s,l){const c=i[s];try{if(c)await e[c];else{const p=(await n1(t)).find(g=>g.measurementId===s);p&&await e[p.appId]}}catch(d){hn.error(d)}n("config",s,l)}async function hP(n,e,t,i,s){try{let l=[];if(s&&s.send_to){let c=s.send_to;Array.isArray(c)||(c=[c]);const d=await n1(t);for(const p of c){const g=d.find(_=>_.measurementId===p),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,s||{})}catch(l){hn.error(l)}}function dP(n,e,t,i){async function s(l,...c){try{if(l==="event"){const[d,p]=c;await hP(n,e,t,d,p)}else if(l==="config"){const[d,p]=c;await fP(n,e,t,i,d,p)}else if(l==="consent"){const[d,p]=c;n("consent",d,p)}else if(l==="get"){const[d,p,g]=c;n("get",d,p,g)}else if(l==="set"){const[d]=c;n("set",d)}else n(l,...c)}catch(d){hn.error(d)}}return s}function mP(n,e,t,i,s){let l=function(...c){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(l=window[s]),window[s]=dP(l,n,e,t),{gtagCore:l,wrappedGtag:window[s]}}function pP(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(uv)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=30,yP=1e3;class vP{constructor(e={},t=yP){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const r1=new vP;function _P(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function EP(n){const{appId:e,apiKey:t}=n,i={method:"GET",headers:_P(t)},s=aP.replace("{app-id}",e),l=await fetch(s,i);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();d.error?.message&&(c=d.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function TP(n,e=r1,t){const{appId:i,apiKey:s,measurementId:l}=n.options;if(!i)throw Ln.create("no-app-id");if(!s){if(l)return{measurementId:l,appId:i};throw Ln.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new bP;return setTimeout(async()=>{d.abort()},iP),i1({appId:i,apiKey:s,measurementId:l},c,d,e)}async function i1(n,{throttleEndTimeMillis:e,backoffCount:t},i,s=r1){const{appId:l,measurementId:c}=n;try{await wP(i,e)}catch(d){if(c)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=await EP(n);return s.deleteThrottleMetadata(l),d}catch(d){const p=d;if(!SP(p)){if(s.deleteThrottleMetadata(l),c)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:c};throw d}const g=Number(p?.customData?.httpStatus)===503?Vw(t,s.intervalMillis,gP):Vw(t,s.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return s.setThrottleMetadata(l,v),hn.debug(`Calling attemptFetch again in ${g} millis`),i1(n,v,i,s)}}function wP(n,e){return new Promise((t,i)=>{const s=Math.max(e-Date.now(),0),l=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(l),i(Ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function SP(n){if(!(n instanceof Ar)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class bP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function AP(n,e,t,i,s){if(s&&s.global){n("event",t,i);return}else{const l=await e,c={...i,send_to:l};n("event",t,c)}}async function RP(n,e,t,i){if(i&&i.global){const s={};for(const l of Object.keys(t))s[`user_properties.${l}`]=t[l];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(){if(Zb())try{await eA()}catch(n){return hn.warn(Ln.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return hn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function IP(n,e,t,i,s,l,c){const d=TP(n);d.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>hn.error(S)),e.push(d);const p=CP().then(S=>{if(S)return i.getId()}),[g,v]=await Promise.all([d,p]);pP(l)||uP(l,g.measurementId),s("js",new Date);const _=c?.config??{};return _[rP]="firebase",_.update=!0,v!=null&&(_[nP]=v),s("config",g.measurementId,_),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.app=e}_delete(){return delete Wo[this.app.options.appId],Promise.resolve()}}let Wo={},$0=[];const q0={};let hg="dataLayer",xP="gtag",G0,cv,K0=!1;function DP(){const n=[];if(Jb()&&n.push("This is a browser extension environment."),x2()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),t=Ln.create("invalid-analytics-context",{errorInfo:e});hn.warn(t.message)}}function OP(n,e,t){DP();const i=n.options.appId;if(!i)throw Ln.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ln.create("no-api-key");if(Wo[i]!=null)throw Ln.create("already-exists",{id:i});if(!K0){cP(hg);const{wrappedGtag:l,gtagCore:c}=mP(Wo,$0,q0,hg,xP);cv=l,G0=c,K0=!0}return Wo[i]=IP(n,$0,q0,e,G0,hg,t),new NP(n)}function MP(n=by()){n=jt(n);const e=qs(n,$h);return e.isInitialized()?e.getImmediate():VP(n)}function VP(n,e={}){const t=qs(n,$h);if(t.isInitialized()){const s=t.getImmediate();if(Pa(e,t.getOptions()))return s;throw Ln.create("already-initialized")}return t.initialize({options:e})}function LP(n,e,t){n=jt(n),RP(cv,Wo[n.app.options.appId],e,t).catch(i=>hn.error(i))}function kP(n,e,t,i){n=jt(n),AP(cv,Wo[n.app.options.appId],e,t,i).catch(s=>hn.error(s))}const Y0="@firebase/analytics",Q0="0.10.19";function PP(){ti(new wr($h,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return OP(i,s,t)},"PUBLIC")),ti(new wr("analytics-internal",n,"PRIVATE")),Zn(Y0,Q0),Zn(Y0,Q0,"esm2020");function n(e){try{const t=e.getProvider($h).getImmediate();return{logEvent:(i,s,l)=>kP(t,i,s,l),setUserProperties:(i,s)=>LP(t,i,s)}}catch(t){throw Ln.create("interop-component-reg-failed",{reason:t})}}}PP();function a1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UP=a1,s1=new $s("auth","Firebase",a1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new cd("@firebase/auth");function jP(n,...e){qh.logLevel<=ze.WARN&&qh.warn(`Auth (${dl}): ${n}`,...e)}function vh(n,...e){qh.logLevel<=ze.ERROR&&qh.error(`Auth (${dl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,...e){throw hv(n,...e)}function Er(n,...e){return hv(n,...e)}function fv(n,e,t){const i={...UP(),[e]:t};return new $s("auth","Firebase",i).create(e,{appName:n.name})}function Vi(n){return fv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&nr(n,"argument-error"),fv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return s1.create(n,...e)}function Te(n,e,...t){if(!n)throw hv(e,...t)}function Ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vh(e),new Error(e)}function Fi(n,e){n||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(){return typeof self<"u"&&self.location?.href||""}function BP(){return X0()==="http:"||X0()==="https:"}function X0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BP()||Jb()||"connection"in navigator)?navigator.onLine:!0}function HP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fi(t>e,"Short delay should be less than long delay!"),this.isMobile=b2()||C2()}get(){return FP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n,e){Fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GP=new gc(3e4,6e4);function Ya(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Qa(n,e,t,i,s={}){return l1(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=lc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...l};return R2()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&hl(n.emulatorConfig.host)&&(g.credentials="include"),o1.fetch()(await u1(n,n.config.apiHost,t,d),g)})}async function l1(n,e,t){n._canInitEmulator=!1;const i={...$P,...e};try{const s=new YP(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw oh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw oh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw oh(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fv(n,v,g);nr(n,v)}}catch(s){if(s instanceof Ar)throw s;nr(n,"network-request-failed",{message:String(s)})}}async function yc(n,e,t,i,s={}){const l=await Qa(n,e,t,i,s);return"mfaPendingCredential"in l&&nr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function u1(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?dv(n.config,s):`${n.config.apiScheme}://${s}`;return qP.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function KP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Er(this.auth,"network-request-failed")),GP.get())})}}function oh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Er(n,e,i);return s.customData._tokenResponse=t,s}function W0(n){return n!==void 0&&n.enterprise!==void 0}class QP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XP(n,e){return Qa(n,"GET","/v2/recaptchaConfig",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(n,e){return Qa(n,"POST","/v1/accounts:delete",e)}async function Gh(n,e){return Qa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JP(n,e=!1){const t=jt(n),i=await t.getIdToken(e),s=mv(i);Te(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l?.sign_in_provider;return{claims:s,token:i,authTime:Bu(dg(s.auth_time)),issuedAtTime:Bu(dg(s.iat)),expirationTime:Bu(dg(s.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function dg(n){return Number(n)*1e3}function mv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Gb(t);return s?JSON.parse(s):(vh("Failed to decode base64 JWT payload"),null)}catch(s){return vh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function J0(n){const e=mv(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ar&&ZP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ZP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n){const e=n.auth,t=await n.getIdToken(),i=await Zu(n,Gh(e,{idToken:t}));Te(i?.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=s.providerUserInfo?.length?c1(s.providerUserInfo):[],c=n4(n.providerData,l),d=n.isAnonymous,p=!(n.email&&s.passwordHash)&&!c?.length,g=d?p:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Xg(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function t4(n){const e=jt(n);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n4(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function c1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(n,e){const t=await l1(n,{},async()=>{const i=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await u1(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&hl(n.emulatorConfig.host)&&(p.credentials="include"),o1.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function i4(n,e){return Qa(n,"POST","/v2/accounts:revokeToken",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=J0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await r4(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new Jo;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Te(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class _r{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new e4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Xg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JP(this,e)}reload(){return t4(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _r({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Kh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await Zu(this,WP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:_,emailVerified:S,isAnonymous:N,providerData:M,stsTokenManager:U}=t;Te(_&&U,e,"internal-error");const L=Jo.fromJSON(this.name,U);Te(typeof _=="string",e,"internal-error"),Aa(i,e.name),Aa(s,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof N=="boolean",e,"internal-error"),Aa(l,e.name),Aa(c,e.name),Aa(d,e.name),Aa(p,e.name),Aa(g,e.name),Aa(v,e.name);const F=new _r({uid:_,auth:e,email:s,emailVerified:S,displayName:i,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:g,lastLoginAt:v});return M&&Array.isArray(M)&&(F.providerData=M.map(G=>({...G}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,t,i=!1){const s=new Jo;s.updateFromServerResponse(t);const l=new _r({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Kh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Te(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?c1(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!l?.length,d=new Jo;d.updateFromIdToken(i);const p=new _r({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Xg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;function xi(n){Fi(n instanceof Function,"Expected a class definition");let e=Z0.get(n);return e?(Fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Z0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}f1.type="NONE";const eS=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(n,e,t){return`firebase:${n}:${e}:${t}`}class Zo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=_h(this.userKey,s.apiKey,l),this.fullPersistenceKey=_h("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gh(this.auth,{idToken:e}).catch(()=>{});return t?_r._fromGetAccountInfoResponse(this.auth,t,e):null}return _r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Zo(xi(eS),e,i);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||xi(eS);const c=_h(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let _;if(typeof v=="string"){const S=await Gh(e,{idToken:v}).catch(()=>{});if(!S)break;_=await _r._fromGetAccountInfoResponse(e,S,v)}else _=_r._fromJSON(e,v);g!==l&&(d=_),l=g;break}}catch{}const p=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Zo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Zo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y1(e))return"Blackberry";if(v1(e))return"Webos";if(d1(e))return"Safari";if((e.includes("chrome/")||m1(e))&&!e.includes("edge/"))return"Chrome";if(g1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function h1(n=un()){return/firefox\//i.test(n)}function d1(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m1(n=un()){return/crios\//i.test(n)}function p1(n=un()){return/iemobile/i.test(n)}function g1(n=un()){return/android/i.test(n)}function y1(n=un()){return/blackberry/i.test(n)}function v1(n=un()){return/webos/i.test(n)}function pv(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function a4(n=un()){return pv(n)&&!!window.navigator?.standalone}function s4(){return I2()&&document.documentMode===10}function _1(n=un()){return pv(n)||g1(n)||v1(n)||y1(n)||/windows phone/i.test(n)||p1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n,e=[]){let t;switch(n){case"Browser":t=tS(un());break;case"Worker":t=`${tS(un())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(n,e={}){return Qa(n,"GET","/v2/passwordPolicy",Ya(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=6;class c4{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??u4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nS(this),this.idTokenSubscription=new nS(this),this.beforeStateQueue=new o4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gh(this,{idToken:e}),i=await _r._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Vi(this));const t=e?jt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l4(this),t=new c4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $s("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await i4(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xi(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[xi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xa(n){return jt(n)}class nS{constructor(e){this.auth=e,this.observer=null,this.addObserver=L2(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h4(n){Md=n}function T1(n){return Md.loadJS(n)}function d4(){return Md.recaptchaEnterpriseScript}function m4(){return Md.gapiScript}function p4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class g4{constructor(){this.enterprise=new y4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class y4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const v4="recaptcha-enterprise",w1="NO_RECAPTCHA";class _4{constructor(e){this.type=v4,this.auth=Xa(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{XP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new QP(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function s(l,c,d){const p=window.grecaptcha;W0(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(w1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g4().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&W0(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=d4();p.length!==0&&(p+=d),T1(p).then(()=>{s(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function rS(n,e,t,i=!1,s=!1){const l=new _4(n);let c;if(s)c=w1;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Wg(n,e,t,i,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await rS(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await rS(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(n,e){const t=qs(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Pa(l,e??{}))return s;nr(s,"already-initialized")}return t.initialize({options:e})}function T4(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(xi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function w4(n,e,t){const i=Xa(n);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=S1(e),{host:c,port:d}=S4(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(Pa(g,i.config.emulator)&&Pa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,hl(c)?(Xb(`${l}//${c}${p}`),Wb("Auth",!0)):b4()}function S1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function S4(n){const e=S1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:iS(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:iS(c)}}}function iS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function b4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function A4(n,e){return Qa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(n,e){return yc(n,"POST","/v1/accounts:signInWithPassword",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(n,e){return yc(n,"POST","/v1/accounts:signInWithEmailLink",Ya(n,e))}async function I4(n,e){return yc(n,"POST","/v1/accounts:signInWithEmailLink",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends gv{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new ec(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ec(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,t,"signInWithPassword",R4);case"emailLink":return C4(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,i,"signUpPassword",A4);case"emailLink":return I4(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n,e){return yc(n,"POST","/v1/accounts:signInWithIdp",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="http://localhost";class js extends gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...l}=t;if(!i||!s)return null;const c=new js(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return el(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,el(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,el(e,t)}buildRequest(){const e={requestUri:N4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D4(n){const e=xu(Du(n)).link,t=e?xu(Du(e)).deep_link_id:null,i=xu(Du(n)).deep_link_id;return(i?xu(Du(i)).link:null)||i||t||e||n}class yv{constructor(e){const t=xu(Du(e)),i=t.apiKey??null,s=t.oobCode??null,l=x4(t.mode??null);Te(i&&s&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=D4(e);try{return new yv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(e,t){return ec._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=yv.parseLink(t);return Te(i,"argument-error"),ec._fromEmailAndCode(e,i.code,i.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends vv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends vc{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return js._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ri.credential(t,i)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends vc{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends vc{constructor(){super("twitter.com")}static credential(e,t){return js._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return xa.credential(t,i)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(n,e){return yc(n,"POST","/v1/accounts:signUp",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await _r._fromIdTokenResponse(e,i,s),c=aS(i);return new zs({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=aS(i);return new zs({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function aS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Ar{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Yh(e,t,i,s)}}function b1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(n,l,e,i):l})}async function M4(n,e,t=!1){const i=await Zu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(n,e,t=!1){const{auth:i}=n;if(Mn(i.app))return Promise.reject(Vi(i));const s="reauthenticate";try{const l=await Zu(n,b1(i,s,e,n),t);Te(l.idToken,i,"internal-error");const c=mv(l.idToken);Te(c,i,"internal-error");const{sub:d}=c;return Te(n.uid===d,i,"user-mismatch"),zs._forOperation(n,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&nr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(n,e,t=!1){if(Mn(n.app))return Promise.reject(Vi(n));const i="signIn",s=await b1(n,i,e),l=await zs._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function L4(n,e){return A1(Xa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(n){const e=Xa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function k4(n,e,t){if(Mn(n.app))return Promise.reject(Vi(n));const i=Xa(n),c=await Wg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O4).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&R1(n),p}),d=await zs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function P4(n,e,t){return Mn(n.app)?Promise.reject(Vi(n)):L4(jt(n),El.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&R1(n),i})}function U4(n,e,t,i){return jt(n).onIdTokenChanged(e,t,i)}function j4(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function z4(n,e,t,i){return jt(n).onAuthStateChanged(e,t,i)}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=1e3,F4=10;class I1 extends C1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);s4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,F4):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},B4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}I1.type="LOCAL";const H4=I1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends C1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}N1.type="SESSION";const x1=N1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Vd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await $4(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=_v("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(_){const S=_;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function G4(n){ei().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function K4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y4(){return navigator?.serviceWorker?.controller||null}function Q4(){return D1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firebaseLocalStorageDb",X4=1,Xh="firebaseLocalStorage",M1="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ld(n,e){return n.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function W4(){const n=indexedDB.deleteDatabase(O1);return new _c(n).toPromise()}function Jg(){const n=indexedDB.open(O1,X4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Xh,{keyPath:M1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Xh)?e(i):(i.close(),await W4(),e(await Jg()))})})}async function sS(n,e,t){const i=Ld(n,!0).put({[M1]:e,value:t});return new _c(i).toPromise()}async function J4(n,e){const t=Ld(n,!1).get(e),i=await new _c(t).toPromise();return i===void 0?null:i.value}function oS(n,e){const t=Ld(n,!0).delete(e);return new _c(t).toPromise()}const Z4=800,eU=3;class V1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>eU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(Q4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await K4(),!this.activeServiceWorker)return;this.sender=new q4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await sS(e,Qh,"1"),await oS(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>sS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>J4(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>oS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Ld(s,!1).getAll();return new _c(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V1.type="LOCAL";const tU=V1;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(n,e){return e?xi(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,t){return el(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nU(n){return A1(n.auth,new Ev(n),n.bypassAuthState)}function rU(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),V4(t,new Ev(n),n.bypassAuthState)}async function iU(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),M4(t,new Ev(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nU;case"linkViaPopup":case"linkViaRedirect":return iU;case"reauthViaPopup":case"reauthViaRedirect":return rU;default:nr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=new gc(2e3,1e4);async function sU(n,e,t){if(Mn(n.app))return Promise.reject(Er(n,"operation-not-supported-in-this-environment"));const i=Xa(n);zP(n,e,vv);const s=L1(i,t);return new Os(i,"signInViaPopup",e,s).executeNotNull()}class Os extends k1{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=_v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aU.get())};e()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU="pendingRedirect",Eh=new Map;class lU extends k1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const i=await uU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uU(n,e){const t=hU(e),i=fU(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function cU(n,e){Eh.set(n._key(),e)}function fU(n){return xi(n._redirectPersistence)}function hU(n){return _h(oU,n.config.apiKey,n.name)}async function dU(n,e,t=!1){if(Mn(n.app))return Promise.reject(Vi(n));const i=Xa(n),s=L1(i,e),c=await new lU(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=600*1e3;class pU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!P1(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Er(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mU&&this.cachedEventUids.clear(),this.cachedEventUids.has(lS(e))}saveEventToCache(e){this.cachedEventUids.add(lS(e)),this.lastProcessedEventTime=Date.now()}}function lS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function P1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function gU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(n,e={}){return Qa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_U=/^https?/;async function EU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yU(n);for(const t of e)try{if(TU(t))return}catch{}nr(n,"unauthorized-domain")}function TU(n){const e=Qg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!_U.test(t))return!1;if(vU.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new gc(3e4,6e4);function uS(){const n=ei().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function SU(n){return new Promise((e,t)=>{function i(){uS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uS(),t(Er(n,"network-request-failed"))},timeout:wU.get()})}if(ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ei().gapi?.load)i();else{const s=p4("iframefcb");return ei()[s]=()=>{gapi.load?i():t(Er(n,"network-request-failed"))},T1(`${m4()}?onload=${s}`).catch(l=>t(l))}}).catch(e=>{throw Th=null,e})}let Th=null;function bU(n){return Th=Th||SU(n),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new gc(5e3,15e3),RU="__/auth/iframe",CU="emulator/auth/iframe",IU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xU(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dv(e,CU):`https://${n.config.authDomain}/${RU}`,i={apiKey:e.apiKey,appName:n.name,v:dl},s=NU.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${lc(i).slice(1)}`}async function DU(n){const e=await bU(n),t=ei().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:xU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IU,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Er(n,"network-request-failed"),d=ei().setTimeout(()=>{l(c)},AU.get());function p(){ei().clearTimeout(d),s(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MU=500,VU=600,LU="_blank",kU="http://localhost";class cS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PU(n,e,t,i=MU,s=VU){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...OU,width:i.toString(),height:s.toString(),top:l,left:c},g=un().toLowerCase();t&&(d=m1(g)?LU:t),h1(g)&&(e=e||kU,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[N,M])=>`${S}${N}=${M},`,"");if(a4(g)&&d!=="_self")return UU(e||"",d),new cS(null);const _=window.open(e||"",d,v);Te(_,n,"popup-blocked");try{_.focus()}catch{}return new cS(_)}function UU(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="__/auth/handler",zU="emulator/auth/handler",BU=encodeURIComponent("fac");async function fS(n,e,t,i,s,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:dl,eventId:s};if(e instanceof vv){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",V2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof vc){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${BU}=${encodeURIComponent(p)}`:"";return`${FU(n)}?${lc(d).slice(1)}${g}`}function FU({config:n}){return n.emulator?dv(n,zU):`https://${n.authDomain}/${jU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="webStorageSupport";class HU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x1,this._completeRedirectFn=dU,this._overrideRedirectResult=cU}async _openPopup(e,t,i,s){Fi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await fS(e,t,i,Qg(),s);return PU(e,l,_v())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await fS(e,t,i,Qg(),s);return G4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Fi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await DU(e),i=new pU(e);return t.register("authEvent",s=>(Te(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mg,{type:mg},s=>{const l=s?.[0]?.[mg];l!==void 0&&t(!!l),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _1()||d1()||pv()}}const $U=HU;var hS="@firebase/auth",dS="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KU(n){ti(new wr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E1(n)},g=new f4(i,s,l,p);return T4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ti(new wr("auth-internal",e=>{const t=Xa(e.getProvider("auth").getImmediate());return(i=>new qU(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(hS,dS,GU(n)),Zn(hS,dS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=300,QU=Qb("authIdTokenMaxAge")||YU;let mS=null;const XU=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>QU)return;const s=t?.token;mS!==s&&(mS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function WU(n=by()){const e=qs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=E4(n,{popupRedirectResolver:$U,persistence:[tU,H4,x1]}),i=Qb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=XU(l.toString());j4(t,c,()=>c(t.currentUser)),U4(t,d=>c(d))}}const s=Kb("auth");return s&&w4(t,`http://${s}`),t}function JU(){return document.getElementsByTagName("head")?.[0]??document}h4({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=Er("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",JU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KU("Browser");const ZU={apiKey:"AIzaSyDzRx2G7EVUCtxKQkGvNmc2M27zIi_-fww",authDomain:"riffrate-70f6a.firebaseapp.com",projectId:"riffrate-70f6a",storageBucket:"riffrate-70f6a.firebasestorage.app",messagingSenderId:"458853345328",appId:"1:458853345328:web:4b184d57868ccbe3b3a5f5",measurementId:"G-KJ60Q034EX"},Tv=iA(ZU);MP(Tv);const qi=WU(Tv),Tr=WL(Tv);async function e3({bandName:n=null,venueName:e=null,title:t,content:i,rating:s=0,poster:l="Anonymous"}){const c=qi.currentUser;return(await mk(Ms(Tr,"reviews"),{bandName:n,bandNameLower:n?n.trim().toLowerCase():null,venueName:e,venueNameLower:e?e.trim().toLowerCase():null,title:t,content:i,rating:s,poster:l,userUid:c?.uid||null,created:PR()})).id}async function wv(n=10){const e=Ko(Ms(Tr,"reviews"),gh("created","desc"),lk(n));return(await Xo(e)).docs.map(i=>{const s=i.data();return{id:i.id,...s,created:s.created&&s.created.toDate?s.created.toDate():s.created}})}async function Zg(n){const e=qi.currentUser;if(!e)return[];const t=e.email?.toLowerCase(),i=e.displayName;let s=[],l=Ko(Ms(Tr,"reviews"),zu("userUid","==",n),gh("created","desc")),c=await Xo(l);s.push(...c.docs.map(_=>({id:_.id,..._.data(),created:_.data().created?.toDate?.()||_.data().created})));let d=Ko(Ms(Tr,"reviews"),zu("poster","==",t),gh("created","desc")),p=await Xo(d);if(s.push(...p.docs.map(_=>({id:_.id,..._.data(),created:_.data().created?.toDate?.()||_.data().created}))),i){let _=Ko(Ms(Tr,"reviews"),zu("poster","==",i),gh("created","desc")),S=await Xo(_);s.push(...S.docs.map(N=>({id:N.id,...N.data(),created:N.data().created?.toDate?.()||N.data().created})))}const g=[],v=new Set;for(const _ of s)v.has(_.id)||(g.push(_),v.add(_.id));return g}async function kd(n){const e=qi.currentUser;if(!e)throw new Error("Must be logged in to delete reviews");const t=await Xo(Ko(Ms(Tr,"reviews"),zu("__name__","==",n)));if(!t.empty&&t.docs[0].data().userUid!==e.uid)throw new Error("You can only delete your own reviews");return await dk(mc(Tr,"reviews",n))}async function U1(n,e){const t=qi.currentUser;if(!t)throw new Error("Must be logged in to update reviews");const i=await Xo(Ko(Ms(Tr,"reviews"),zu("__name__","==",n)));if(!i.empty&&i.docs[0].data().userUid!==t.uid)throw new Error("You can only edit your own reviews");const s={content:e.content,rating:e.rating,updated:PR()};return await hk(mc(Tr,"reviews",n),s)}const j1=w.createContext(null);function Tl(){const n=w.useContext(j1);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}function t3({children:n}){const[e,t]=w.useState(null),[i,s]=w.useState(!1),[l,c]=w.useState(!0);w.useEffect(()=>z4(qi,d),[]);async function d(g){g?(t({...g}),s(!0),sessionStorage.setItem("username",g.email||g.displayName||"User")):(t(null),s(!1),sessionStorage.removeItem("username")),c(!1)}const p={currentUser:e,userLoggedIn:i,loading:l,setCurrentUser:t,setUserLoggedIn:s};return b.jsx(j1.Provider,{value:p,children:!l&&n})}function Ec(n){const{currentUser:e}=Tl(),[t,i]=w.useState(!1),[s,l]=w.useState(n.content),[c,d]=w.useState(n.rating||0),p=n.created;let g;p?p.toDate?g=p.toDate():g=new Date(p):g=new Date;const v=e&&(n.userUid===e.uid||!n.userUid&&n.poster===(e.email||e.displayName)),_=()=>{n.onUpdate&&n.onUpdate(n.id,{content:s,rating:c}),i(!1)};return b.jsxs(b.Fragment,{children:[b.jsxs(ad,{className:"shadow-sm h-100",style:{margin:"0.5rem 0",padding:"0.75rem",width:"100%",textAlign:"center"},children:[b.jsx("h1",{children:n.bandName||n.venueName}),b.jsxs("sub",{children:["Posted on ",g.toLocaleDateString()," at ",g.toLocaleTimeString()]}),b.jsx("br",{}),b.jsx("i",{children:n.poster}),n.rating>0&&b.jsxs("div",{style:{color:"#ffc107",fontSize:"1.2rem",marginTop:"0.25rem"},children:["".repeat(n.rating),"".repeat(5-n.rating)]}),b.jsx("p",{style:{marginTop:"0.5rem"},children:n.content}),v&&b.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[b.jsx(ot,{type:"button",variant:"primary",size:"sm",onClick:()=>i(!0),children:"Edit"}),b.jsx(ot,{type:"button",variant:"danger",size:"sm",onClick:()=>n.onDelete(n.id),children:"Delete"})]})]}),b.jsxs(Cu,{show:t,onHide:()=>i(!1),children:[b.jsx(Cu.Header,{closeButton:!0,children:b.jsx(Cu.Title,{children:"Edit Review"})}),b.jsxs(Cu.Body,{children:[b.jsxs(Le.Group,{className:"mb-3",children:[b.jsx(Le.Label,{children:"Review"}),b.jsx(Le.Control,{id:"editReview",as:"textarea",rows:4,value:s,onChange:S=>l(S.target.value)})]}),b.jsx(Le.Label,{children:"Rating"}),b.jsx("div",{className:"mb-3",children:[1,2,3,4,5].map(S=>b.jsx(ot,{type:"button",variant:c>=S?"warning":"outline-secondary",onClick:()=>d(S),style:{marginRight:"0.3rem"},children:""},S))})]}),b.jsxs(Cu.Footer,{children:[b.jsx(ot,{type:"submit",variant:"secondary",onClick:()=>i(!1),children:"Cancel"}),b.jsx(ot,{type:"submit",variant:"primary",onClick:_,children:"Save Changes"})]})]})]})}function n3(){const n=Hs(),[e,t]=w.useState([]);return w.useEffect(()=>{async function i(){const s=await wv(3);t(s)}i()},[]),b.jsxs("div",{className:"page-container",children:[b.jsx("h1",{children:"Welcome to Riffrate"}),b.jsx("br",{}),b.jsx("h2",{children:"Track artists and venues you love."}),b.jsx("h2",{children:"Tell your friends what's good."}),b.jsx("br",{}),b.jsxs("div",{className:"d-grid gap-2 d-md-block",children:[b.jsx(ot,{type:"button",style:{backgroundColor:"#ffe9e9ff",borderColor:"#7d1f0aff",color:"#7d1f0aff"},className:"btn btn-outline-dark me-4",onClick:()=>n("/ReviewByBand"),children:"See Reviews by Band"}),b.jsx(ot,{type:"button",style:{backgroundColor:"#ffe9e9ff",borderColor:"#7d1f0aff",color:"#7d1f0aff"},className:"btn btn-outline-dark me-4",onClick:()=>n("/ReviewByVenue"),children:"See Reviews by Venue"}),b.jsx(ot,{type:"button",style:{backgroundColor:"#022062ff",borderColor:"#022062ff",color:"#FFF"},className:"btn btn-success",onClick:()=>n("/ReviewPage"),children:"Write a Review"})]}),b.jsx("h2",{style:{marginTop:"3rem"},children:"Most Recent Reviews"}),b.jsx("hr",{style:{width:"60%",margin:"1rem auto"}}),b.jsx("div",{className:"review-grid",children:e.map(i=>b.jsx("div",{className:"review-card-wrapper",children:b.jsx(Ec,{...i})},i.id))}),e.length===0&&b.jsx("p",{children:"No reviews yet  be the first to write one!"})]})}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ri(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ey({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Sv(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function z1(n,e,t="/"){return r3(n,e,t,!1)}function r3(n,e,t,i){let s=typeof e=="string"?Sv(e):e,l=$a(s.pathname||"/",t);if(l==null)return null;let c=B1(n);i3(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=p3(l);d=d3(c[p],g,i)}return d}function B1(n,e=[],t=[],i="",s=!1){let l=(c,d,p=s,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;nn(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let _=Li([i,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(nn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),B1(c.children,e,S,_,p)),!(c.path==null&&!c.index)&&e.push({path:_,score:f3(_,c.index),routesMeta:S})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of F1(c.path))l(c,d,!0,p)}),e}function F1(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=F1(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function i3(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:h3(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var a3=/^:[\w-]+$/,s3=3,o3=2,l3=1,u3=10,c3=-2,pS=n=>n==="*";function f3(n,e){let t=n.split("/"),i=t.length;return t.some(pS)&&(i+=c3),e&&(i+=o3),t.filter(s=>!pS(s)).reduce((s,l)=>s+(a3.test(l)?s3:l===""?l3:u3),i)}function h3(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function d3(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!_&&g&&t&&!i[i.length-1].route.index&&(_=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:Li([l,_.pathname]),pathnameBase:E3(Li([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=Li([l,_.pathnameBase]))}return c}function Wh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=m3(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:_},S)=>{if(v==="*"){let M=d[S]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const N=d[S];return _&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function m3(n,e=!1,t=!0){ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function p3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $a(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var g3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y3=n=>g3.test(n);function v3(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Sv(n):n,l;if(t)if(y3(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=gS(t.substring(1),"/"):l=gS(t,e)}else l=e;return{pathname:l,search:T3(i),hash:w3(s)}}function gS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function pg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function H1(n){let e=_3(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function $1(n,e,t,i=!1){let s;typeof n=="string"?s=Sv(n):(s={...n},nn(!s.pathname||!s.pathname.includes("?"),pg("?","pathname","search",s)),nn(!s.pathname||!s.pathname.includes("#"),pg("#","pathname","hash",s)),nn(!s.search||!s.search.includes("#"),pg("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;s.pathname=S.join("/")}d=_>=0?e[_]:"/"}let p=v3(s,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Li=n=>n.join("/").replace(/\/\/+/g,"/"),E3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),T3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,w3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function S3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var q1=["POST","PUT","PATCH","DELETE"];new Set(q1);var b3=["GET",...q1];new Set(b3);var wl=w.createContext(null);wl.displayName="DataRouter";var Pd=w.createContext(null);Pd.displayName="DataRouterState";w.createContext(!1);var G1=w.createContext({isTransitioning:!1});G1.displayName="ViewTransition";var A3=w.createContext(new Map);A3.displayName="Fetchers";var R3=w.createContext(null);R3.displayName="Await";var Gi=w.createContext(null);Gi.displayName="Navigation";var bv=w.createContext(null);bv.displayName="Location";var Ki=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var Av=w.createContext(null);Av.displayName="RouteError";function C3(n,{relative:e}={}){nn(Ud(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(Gi),{hash:s,pathname:l,search:c}=Tc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Li([t,l])),i.createHref({pathname:d,search:c,hash:s})}function Ud(){return w.useContext(bv)!=null}function Ys(){return nn(Ud(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(bv).location}var K1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y1(n){w.useContext(Gi).static||w.useLayoutEffect(n)}function Rv(){let{isDataRoute:n}=w.useContext(Ki);return n?z3():I3()}function I3(){nn(Ud(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(wl),{basename:e,navigator:t}=w.useContext(Gi),{matches:i}=w.useContext(Ki),{pathname:s}=Ys(),l=JSON.stringify(H1(i)),c=w.useRef(!1);return Y1(()=>{c.current=!0}),w.useCallback((p,g={})=>{if(ri(c.current,K1),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=$1(p,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Li([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,s,n])}w.createContext(null);function Tc(n,{relative:e}={}){let{matches:t}=w.useContext(Ki),{pathname:i}=Ys(),s=JSON.stringify(H1(t));return w.useMemo(()=>$1(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function N3(n,e,t,i,s){nn(Ud(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(Gi),{matches:c}=w.useContext(Ki),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let G=_&&_.path||"";Q1(g,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=Ys(),N;N=S;let M=N.pathname||"/",U=M;if(v!=="/"){let G=v.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=z1(n,{pathname:U});return ri(_||L!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ri(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),V3(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:Li([v,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:Li([v,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,t,i,s)}function x3(){let n=j3(),e=S3(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:s},t):null,c)}var D3=w.createElement(x3,null),O3=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?w.createElement(Ki.Provider,{value:this.props.routeContext},w.createElement(Av.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M3({routeContext:n,match:e,children:t}){let i=w.useContext(wl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Ki.Provider,{value:n},t)}function V3(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let v=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);nn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:S,errors:N}=t,M=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!N||N[_.route.id]===void 0);if(_.route.lazy||M){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&i?(v,_)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:_})}:void 0;return l.reduceRight((v,_,S)=>{let N,M=!1,U=null,L=null;t&&(N=c&&_.route.id?c[_.route.id]:void 0,U=_.route.errorElement||D3,d&&(p<0&&S===0?(Q1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,L=null):p===S&&(M=!0,L=_.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,S+1)),G=()=>{let Y;return N?Y=U:M?Y=L:_.route.Component?Y=w.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=v,w.createElement(M3,{match:_,routeContext:{outlet:v,matches:F,isDataRoute:t!=null},children:Y})};return t&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?w.createElement(O3,{location:t.location,revalidation:t.revalidation,component:U,error:N,children:G(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):G()},null)}function Cv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L3(n){let e=w.useContext(wl);return nn(e,Cv(n)),e}function k3(n){let e=w.useContext(Pd);return nn(e,Cv(n)),e}function P3(n){let e=w.useContext(Ki);return nn(e,Cv(n)),e}function Iv(n){let e=P3(n),t=e.matches[e.matches.length-1];return nn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function U3(){return Iv("useRouteId")}function j3(){let n=w.useContext(Av),e=k3("useRouteError"),t=Iv("useRouteError");return n!==void 0?n:e.errors?.[t]}function z3(){let{router:n}=L3("useNavigate"),e=Iv("useNavigate"),t=w.useRef(!1);return Y1(()=>{t.current=!0}),w.useCallback(async(s,l={})=>{ri(t.current,K1),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var yS={};function Q1(n,e,t){!e&&!yS[n]&&(yS[n]=!0,ri(!1,t))}w.memo(B3);function B3({routes:n,future:e,state:t,unstable_onError:i}){return N3(n,void 0,t,i,e)}var wh="get",Sh="application/x-www-form-urlencoded";function jd(n){return n!=null&&typeof n.tagName=="string"}function F3(n){return jd(n)&&n.tagName.toLowerCase()==="button"}function H3(n){return jd(n)&&n.tagName.toLowerCase()==="form"}function $3(n){return jd(n)&&n.tagName.toLowerCase()==="input"}function q3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function G3(n,e){return n.button===0&&(!e||e==="_self")&&!q3(n)}var lh=null;function K3(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var Y3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gg(n){return n!=null&&!Y3.has(n)?(ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):n}function Q3(n,e){let t,i,s,l,c;if(H3(n)){let d=n.getAttribute("action");i=d?$a(d,e):null,t=n.getAttribute("method")||wh,s=gg(n.getAttribute("enctype"))||Sh,l=new FormData(n)}else if(F3(n)||$3(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?$a(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||wh,s=gg(n.getAttribute("formenctype"))||gg(d.getAttribute("enctype"))||Sh,l=new FormData(d,n),!K3()){let{name:g,type:v,value:_}=n;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,_)}}else{if(jd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wh,i=null,s=Sh,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function X3(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&$a(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function W3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Z3(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await W3(l,t);return c.links?c.links():[]}return[]}));return r6(i.flat(1).filter(J3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function vS(n,e,t,i,s,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function e6(n,e,{includeHydrateFallback:t}={}){return t6(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function t6(n){return[...new Set(n)]}function n6(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function r6(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(n6(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}function X1(){let n=w.useContext(wl);return Nv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function i6(){let n=w.useContext(Pd);return Nv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xv=w.createContext(void 0);xv.displayName="FrameworkContext";function W1(){let n=w.useContext(xv);return Nv(n,"You must render this element inside a <HydratedRouter> element"),n}function a6(n,e){let t=w.useContext(xv),[i,s]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,S=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let U=F=>{F.forEach(G=>{c(G.isIntersecting)})},L=new IntersectionObserver(U,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[n]),w.useEffect(()=>{if(i){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[i]);let N=()=>{s(!0)},M=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Iu(d,N),onBlur:Iu(p,M),onMouseEnter:Iu(g,N),onMouseLeave:Iu(v,M),onTouchStart:Iu(_,N)}]:[!1,S,{}]}function Iu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function s6({page:n,...e}){let{router:t}=X1(),i=w.useMemo(()=>z1(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?w.createElement(l6,{page:n,matches:i,...e}):null}function o6(n){let{manifest:e,routeModules:t}=W1(),[i,s]=w.useState([]);return w.useEffect(()=>{let l=!1;return Z3(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function l6({page:n,matches:e,...t}){let i=Ys(),{manifest:s,routeModules:l}=W1(),{basename:c}=X1(),{loaderData:d,matches:p}=i6(),g=w.useMemo(()=>vS(n,e,p,s,i,"data"),[n,e,p,s,i]),v=w.useMemo(()=>vS(n,e,p,s,i,"assets"),[n,e,p,s,i]),_=w.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,U=!1;if(e.forEach(F=>{let G=s.routes[F.route.id];!G||!G.hasLoader||(!g.some(Y=>Y.route.id===F.route.id)&&F.route.id in d&&l[F.route.id]?.shouldRevalidate||G.hasClientLoader?U=!0:M.add(F.route.id))}),M.size===0)return[];let L=X3(n,c,"data");return U&&M.size>0&&L.searchParams.set("_routes",e.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[L.pathname+L.search]},[c,d,i,s,g,e,n,l]),S=w.useMemo(()=>e6(v,s),[v,s]),N=o6(v);return w.createElement(w.Fragment,null,_.map(M=>w.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),S.map(M=>w.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),N.map(({key:M,link:U})=>w.createElement("link",{key:M,nonce:t.nonce,...U})))}function u6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var J1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{J1&&(window.__reactRouterVersion="7.9.6")}catch{}var Z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eC=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:_,...S},N){let{basename:M}=w.useContext(Gi),U=typeof g=="string"&&Z1.test(g),L,F=!1;if(typeof g=="string"&&U&&(L=g,J1))try{let I=new URL(window.location.href),O=g.startsWith("//")?new URL(I.protocol+g):new URL(g),D=$a(O.pathname,M);O.origin===I.origin&&D!=null?g=D+O.search+O.hash:F=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=C3(g,{relative:s}),[Y,oe,ie]=a6(i,S),ae=d6(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:s,viewTransition:_});function x(I){e&&e(I),I.defaultPrevented||ae(I)}let R=w.createElement("a",{...S,...ie,href:L||G,onClick:F||l?e:x,ref:u6(N,oe),target:p,"data-discover":!U&&t==="render"?"true":void 0});return Y&&!U?w.createElement(w.Fragment,null,R,w.createElement(s6,{page:G})):R});eC.displayName="Link";var c6=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let _=Tc(c,{relative:g.relative}),S=Ys(),N=w.useContext(Pd),{navigator:M,basename:U}=w.useContext(Gi),L=N!=null&&v6(_)&&d===!0,F=M.encodeLocation?M.encodeLocation(_).pathname:_.pathname,G=S.pathname,Y=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(G=G.toLowerCase(),Y=Y?Y.toLowerCase():null,F=F.toLowerCase()),Y&&U&&(Y=$a(Y,U)||Y);const oe=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ie=G===F||!s&&G.startsWith(F)&&G.charAt(oe)==="/",ae=Y!=null&&(Y===F||!s&&Y.startsWith(F)&&Y.charAt(F.length)==="/"),x={isActive:ie,isPending:ae,isTransitioning:L},R=ie?e:void 0,I;typeof i=="function"?I=i(x):I=[i,ie?"active":null,ae?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(x):l;return w.createElement(eC,{...g,"aria-current":R,className:I,ref:v,style:O,to:c,viewTransition:d},typeof p=="function"?p(x):p)});c6.displayName="NavLink";var f6=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=wh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:_,...S},N)=>{let M=g6(),U=y6(d,{relative:g}),L=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&Z1.test(d),G=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let oe=Y.nativeEvent.submitter,ie=oe?.getAttribute("formmethod")||c;M(oe||Y.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:_})};return w.createElement("form",{ref:N,method:L,action:U,onSubmit:i?p:G,...S,"data-discover":!F&&n==="render"?"true":void 0})});f6.displayName="Form";function h6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tC(n){let e=w.useContext(wl);return nn(e,h6(n)),e}function d6(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Rv(),p=Ys(),g=Tc(n,{relative:l});return w.useCallback(v=>{if(G3(v,e)){v.preventDefault();let _=t!==void 0?t:ey(p)===ey(g);d(n,{replace:_,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[p,d,g,t,i,e,n,s,l,c])}var m6=0,p6=()=>`__${String(++m6)}__`;function g6(){let{router:n}=tC("useSubmit"),{basename:e}=w.useContext(Gi),t=U3();return w.useCallback(async(i,s={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=Q3(i,e);if(s.navigate===!1){let v=s.fetcherKey||p6();await n.fetch(v,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function y6(n,{relative:e}={}){let{basename:t}=w.useContext(Gi),i=w.useContext(Ki);nn(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Tc(n||".",{relative:e})},c=Ys();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Li([t,l.pathname])),ey(l)}function v6(n,{relative:e}={}){let t=w.useContext(G1);nn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tC("useViewTransitionState"),s=Tc(n,{relative:e});if(!t.isTransitioning)return!1;let l=$a(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=$a(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Wh(s.pathname,c)!=null||Wh(s.pathname,l)!=null}function _6(){const n=Rv(),{userLoggedIn:e,currentUser:t}=Tl(),[i,s]=w.useState("band"),[l,c]=w.useState(""),[d,p]=w.useState(""),[g,v]=w.useState(0),[_,S]=w.useState(""),[N,M]=w.useState(""),[U,L]=w.useState([]);if(w.useEffect(()=>{if(!e||!t)return;async function ie(){const ae=await Zg(t.uid);L(ae)}ie()},[e,t]),!e)return b.jsx("div",{className:"page-container",style:{textAlign:"center"},children:b.jsxs(Ii,{variant:"warning",children:[b.jsx("h4",{children:"Please log in to write a review"}),b.jsx(ot,{type:"button",variant:"primary",onClick:()=>n("/UserLogin"),children:"Go to Login"})]})});const F=()=>{c(""),p(""),v(0),S(""),M("")},G=async()=>{if(S(""),M(""),!l.trim()||!d.trim()||g===0){S("Please fill out all fields and choose a rating.");return}try{await e3({bandName:i==="band"?l:null,venueName:i==="venue"?l:null,title:`${i==="band"?"Band":"Venue"} Review`,content:d,rating:g,poster:t?.email||"Anonymous"}),F(),M("Review submitted successfully!"),setTimeout(()=>{M("")},3e3);const ie=await Zg(t.uid);L(ie)}catch(ie){console.error(ie),S("Something went wrong while submitting your review.")}},Y=async ie=>{await kd(ie),L(ae=>ae.filter(x=>x.id!==ie))},oe=async(ie,ae)=>{await U1(ie,ae),L(x=>x.map(R=>R.id===ie?{...R,...ae}:R))};return b.jsxs("div",{className:"page-container",children:[b.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",background:"white",marginBottom:"2rem"},children:[b.jsx("h1",{children:"Write Your Review"}),b.jsx("hr",{}),N&&b.jsx(Ii,{variant:"success",children:N}),_&&b.jsx(Ii,{variant:"danger",children:_}),b.jsxs("div",{className:"mb-3",children:[b.jsx(ot,{type:"button",variant:i==="band"?"primary":"outline-primary",onClick:()=>s("band"),style:{marginRight:"0.5rem"},children:"Band"}),b.jsx(ot,{type:"button",variant:i==="venue"?"primary":"outline-primary",onClick:()=>s("venue"),children:"Venue"})]}),b.jsxs(Le.Group,{className:"mb-3",children:[b.jsx(Le.Label,{children:i==="band"?"Band Name":"Venue Name"}),b.jsx(Le.Control,{id:"reviewName",placeholder:`Enter ${i}`,value:l,onChange:ie=>c(ie.target.value)})]}),b.jsxs(Le.Group,{className:"mb-3",children:[b.jsx(Le.Label,{children:"Your Review"}),b.jsx(Le.Control,{id:"reviewBodyArea",as:"textarea",rows:4,placeholder:"Write your review...",value:d,onChange:ie=>p(ie.target.value)})]}),b.jsx("h5",{children:"Rating"}),b.jsx("div",{className:"mb-3",children:[1,2,3,4,5].map(ie=>b.jsx(ot,{type:"button",variant:g>=ie?"warning":"outline-secondary",onClick:()=>v(ie),style:{marginRight:"0.3rem"},children:""},ie))}),b.jsxs("div",{className:"mt-3",children:[b.jsx(ot,{type:"button",variant:"secondary",onClick:F,style:{marginRight:"0.5rem"},children:"Cancel"}),b.jsx(ot,{type:"submit",variant:"success",onClick:G,children:"Submit Review"})]})]}),b.jsx("h2",{children:"Your Reviews"}),b.jsx("hr",{}),U.length===0?b.jsx(Ii,{variant:"info",children:"You haven't written any reviews yet."}):b.jsx("div",{className:"review-grid",children:U.map(ie=>b.jsx("div",{className:"review-card-wrapper",children:b.jsx(Ec,{...ie,onDelete:()=>Y(ie.id),onUpdate:oe})},ie.id))})]})}function E6(){const n=Hs(),[e,t]=w.useState(""),[i,s]=w.useState(!1),[l,c]=w.useState(null),[d,p]=w.useState("newest"),[g,v]=w.useState([]),[_,S]=w.useState([]),[N,M]=w.useState(1),U=12;w.useEffect(()=>{async function R(){const O=(await wv(300)).filter(z=>z.bandName),D=L(O);v(D),S(D)}R()},[d]);const L=R=>{let I=[...R];switch(d){case"newest":I.sort((O,D)=>D.created-O.created);break;case"oldest":I.sort((O,D)=>O.created-D.created);break;case"high":I.sort((O,D)=>(D.rating||0)-(O.rating||0));break;case"low":I.sort((O,D)=>(O.rating||0)-(D.rating||0));break;case"az":I.sort((O,D)=>(O.bandName||"").localeCompare(D.bandName||""));break;case"za":I.sort((O,D)=>(D.bandName||"").localeCompare(O.bandName||""));break}return I},F=()=>{s(!0),c(null);const R=e.trim().toLowerCase();if(!R){const D=L(g);S(D),M(1);return}const I=g.filter(D=>D.bandName?.toLowerCase().includes(R)),O=L(I);if(S(O),M(1),I.length>0){const D=I.reduce((z,V)=>z+(V.rating||0),0)/I.length;c(D)}},G=()=>{t("");const R=L(g);S(R),s(!1),c(null),M(1)},Y=async R=>{await kd(R);const I=g.filter(D=>D.id!==R),O=L(I);v(O),S(O)},oe=N*U,ie=oe-U,ae=_.slice(ie,oe),x=Math.ceil(_.length/U);return b.jsxs("div",{className:"page-container",children:[b.jsx("h1",{children:"Band Reviews"}),b.jsx(ot,{variant:"success",onClick:()=>n("/ReviewPage"),className:"mb-3",children:"Write a Review"}),b.jsx("hr",{}),b.jsxs(Le,{className:"mb-4",onSubmit:R=>R.preventDefault(),children:[b.jsx(Le.Label,{children:"Band Name"}),b.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",alignItems:"center",flexWrap:"wrap",marginTop:"0.5rem"},children:[b.jsx(Le.Control,{value:e,onChange:R=>t(R.target.value),placeholder:"Search bands...",style:{maxWidth:"300px"}}),b.jsx(ot,{type:"submit",variant:"primary",onClick:F,children:"Search"}),b.jsx(ot,{type:"submit",variant:"secondary",onClick:G,children:"Clear"}),b.jsx(Le.Label,{htmlFor:"bandSortSelect",className:"visually-hidden",children:"Sort By"}),b.jsxs(Le.Select,{id:"bandSortSelect",value:d,onChange:R=>p(R.target.value),style:{maxWidth:"180px"},children:[b.jsx("option",{value:"newest",children:"Newest"}),b.jsx("option",{value:"oldest",children:"Oldest"}),b.jsx("option",{value:"high",children:"Highest Rated"}),b.jsx("option",{value:"low",children:"Lowest Rated"}),b.jsx("option",{value:"az",children:"A  Z"}),b.jsx("option",{value:"za",children:"Z  A"})]})]})]}),i&&b.jsx("div",{style:{textAlign:"center",marginBottom:"1rem"},children:_.length===0?b.jsx("h5",{children:"No results found."}):b.jsxs("h5",{children:['Average rating for "',e,'": '," ",l&&b.jsxs(b.Fragment,{children:["".repeat(Math.round(l)),"".repeat(5-Math.round(l))," ","(",l.toFixed(1),")"]})]})}),b.jsx("div",{className:"review-grid",children:ae.map(R=>b.jsx("div",{className:"review-card-wrapper",children:b.jsx(Ec,{...R,onDelete:()=>Y(R.id)})},R.id))}),x>1&&b.jsx(Nh,{className:"justify-content-center mt-4",children:[...Array(x)].map((R,I)=>b.jsx(Nh.Item,{active:I+1===N,onClick:()=>M(I+1),children:I+1},I+1))})]})}function T6(){const n=Hs(),[e,t]=w.useState(""),[i,s]=w.useState(!1),[l,c]=w.useState(null),[d,p]=w.useState("newest"),[g,v]=w.useState([]),[_,S]=w.useState([]),[N,M]=w.useState(1),U=12,L=R=>{let I=[...R];switch(d){case"newest":I.sort((O,D)=>D.created-O.created);break;case"oldest":I.sort((O,D)=>O.created-D.created);break;case"high":I.sort((O,D)=>(D.rating||0)-(O.rating||0));break;case"low":I.sort((O,D)=>(O.rating||0)-(D.rating||0));break;case"az":I.sort((O,D)=>(O.venueName||"").localeCompare(D.venueName||""));break;case"za":I.sort((O,D)=>(D.venueName||"").localeCompare(O.venueName||""));break}return I};w.useEffect(()=>{async function R(){const O=(await wv(300)).filter(z=>z.venueName),D=L(O);v(D),S(D)}R()},[d]);const F=()=>{s(!0),c(null);const R=e.trim().toLowerCase();if(!R){const D=L(g);S(D),M(1);return}const I=g.filter(D=>D.venueName?.toLowerCase().includes(R)),O=L(I);if(S(O),M(1),I.length>0){const D=I.reduce((z,V)=>z+(V.rating||0),0)/I.length;c(D)}},G=()=>{t("");const R=L(g);S(R),s(!1),c(null),M(1)},Y=async R=>{await kd(R);const I=g.filter(D=>D.id!==R),O=L(I);v(O),S(O)},oe=N*U,ie=oe-U,ae=_.slice(ie,oe),x=Math.ceil(_.length/U);return b.jsxs("div",{className:"page-container",children:[b.jsx("h1",{children:"Venue Reviews"}),b.jsx(ot,{type:"button",variant:"success",onClick:()=>n("/ReviewPage"),className:"mb-3",children:"Write a Review"}),b.jsx("p",{children:"Search for venues below!"}),b.jsx("hr",{}),b.jsxs(Le,{value:"searchFunction",className:"mb-4",onSubmit:R=>R.preventDefault(),children:[b.jsx(Le.Label,{children:"Venue Name"}),b.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",alignItems:"center",flexWrap:"wrap",marginTop:"0.5rem"},children:[b.jsx(Le.Control,{id:"searchFunction",value:e,onChange:R=>t(R.target.value),placeholder:"Search venues...",style:{maxWidth:"300px"}}),b.jsx(ot,{type:"submit",variant:"primary",onClick:F,children:"Search"}),b.jsx(ot,{type:"button",variant:"secondary",onClick:G,children:"Clear"}),b.jsx(Le.Label,{htmlFor:"venueSortSelect",className:"visually-hidden",children:"Sort By"}),b.jsxs(Le.Select,{id:"venueSortSelect",value:d,onChange:R=>p(R.target.value),style:{maxWidth:"180px"},children:[b.jsx("option",{value:"newest",children:"Newest"}),b.jsx("option",{value:"oldest",children:"Oldest"}),b.jsx("option",{value:"high",children:"Highest Rated"}),b.jsx("option",{value:"low",children:"Lowest Rated"}),b.jsx("option",{value:"az",children:"A  Z"}),b.jsx("option",{value:"za",children:"Z  A"})]})]})]}),i&&b.jsx("div",{style:{textAlign:"center",marginBottom:"1rem"},children:_.length===0?b.jsx("h5",{children:"No results found."}):b.jsxs("h5",{children:['Average rating for "',e,'":'," ",l&&b.jsxs(b.Fragment,{children:["".repeat(Math.round(l)),"".repeat(5-Math.round(l))," ","(",l.toFixed(1),")"]})]})}),b.jsx("div",{className:"review-grid",children:ae.map(R=>b.jsx("div",{className:"review-card-wrapper",children:b.jsx(Ec,{...R,onDelete:()=>Y(R.id)})},R.id))}),x>1&&b.jsx(Nh,{className:"justify-content-center mt-4",children:[...Array(x)].map((R,I)=>b.jsx(Nh.Item,{active:I+1===N,onClick:()=>M(I+1),children:I+1},I+1))})]})}const w6=async(n,e)=>{const t=await k4(qi,n,e),i=t.user,s=mc(Tr,"users",i.uid);return await kR(s,{uid:i.uid,email:i.email,displayName:i.displayName||null,photoURL:i.photoURL||null,providerId:"password",createdAt:new Date().toISOString()}),t},S6=(n,e)=>P4(qi,n,e),nC=async()=>{const n=new Ri,e=await sU(qi,n),t=e.user,i=mc(Tr,"users",t.uid);return await kR(i,{uid:t.uid,displayName:t.displayName,email:t.email,photoURL:t.photoURL,providerId:t.providerData[0].providerId,createdAt:new Date().toISOString()}),e},b6=()=>qi.signOut();function A6(){const n=Hs(),{userLoggedIn:e}=Tl(),[t,i]=w.useState(""),[s,l]=w.useState(""),[c,d]=w.useState(""),[p,g]=w.useState(!1);if(e)return n("/"),null;const v=async S=>{if(S.preventDefault(),d(""),!t||!s){d("Please enter both email and password.");return}if(!p){g(!0);try{await S6(t,s),n("/")}catch(N){console.error(N),N.code==="auth/user-not-found"?d("No account found with this email."):N.code==="auth/wrong-password"?d("Incorrect password."):N.code==="auth/invalid-email"?d("Invalid email address."):N.code==="auth/invalid-credential"?d("Invalid email or password."):d("Login failed. Please try again."),g(!1)}}},_=async S=>{if(S.preventDefault(),d(""),!p){g(!0);try{await nC(),n("/")}catch(N){console.error(N),d("Google sign-in failed. Please try again."),g(!1)}}};return b.jsx(sc,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"70vh"},children:b.jsxs(ad,{style:{width:"100%",maxWidth:"500px",padding:"2rem"},children:[b.jsx("h1",{className:"text-center mb-4",children:"Login"}),c&&b.jsx(Ii,{variant:"danger",children:c}),b.jsxs(Le,{onSubmit:v,children:[b.jsxs(Le.Group,{className:"mb-3",children:[b.jsx(Le.Label,{htmlFor:"emailInput",children:"Email:"}),b.jsx(Le.Control,{id:"emailInput",type:"email",placeholder:"Enter your email",value:t,onChange:S=>i(S.target.value),disabled:p})]}),b.jsxs(Le.Group,{className:"mb-3",children:[b.jsx(Le.Label,{htmlFor:"passwordInput",children:"Password:"}),b.jsx(Le.Control,{id:"passwordInput",type:"password",placeholder:"Enter your password",value:s,onChange:S=>l(S.target.value),disabled:p})]}),b.jsxs("div",{className:"d-grid gap-2",children:[b.jsx(ot,{type:"submit",variant:"primary",disabled:p,children:p?"Signing In...":"Login"}),b.jsx(ot,{variant:"outline-danger",onClick:_,disabled:p,children:p?"Signing In...":"Sign In with Google"})]})]}),b.jsx("div",{className:"text-center mt-4",children:b.jsx(Qr,{to:"/UserRegister",children:b.jsx(ot,{variant:"outline-dark",children:"Don't have an account? Sign Up"})})})]})})}function R6(){const n=Hs(),{userLoggedIn:e}=Tl(),[t,i]=w.useState(""),[s,l]=w.useState(""),[c,d]=w.useState(""),[p,g]=w.useState(""),[v,_]=w.useState(!1);if(e)return n("/"),null;const S=async M=>{if(M.preventDefault(),g(""),!t||!s||!c){g("Please fill out all fields.");return}if(s!==c){g("Passwords do not match.");return}if(s.length<6){g("Password must be at least 6 characters long.");return}if(!v){_(!0);try{await w6(t,s),n("/")}catch(U){console.error(U),U.code==="auth/email-already-in-use"?g("An account with this email already exists."):U.code==="auth/invalid-email"?g("Invalid email address."):U.code==="auth/weak-password"?g("Password is too weak. Please use a stronger password."):g("Registration failed. Please try again."),_(!1)}}},N=async M=>{if(M.preventDefault(),g(""),!v){_(!0);try{await nC(),n("/")}catch(U){console.error(U),g("Google sign-in failed. Please try again."),_(!1)}}};return b.jsx(sc,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"70vh"},children:b.jsxs(ad,{style:{width:"100%",maxWidth:"500px",padding:"2rem"},children:[b.jsx("h1",{className:"text-center mb-4",children:"Sign Up"}),p&&b.jsx(Ii,{variant:"danger",children:p}),b.jsxs(Le,{onSubmit:S,children:[b.jsxs(Le.Group,{className:"mb-3",children:[b.jsx(Le.Label,{htmlFor:"emailInput",children:"Email:"}),b.jsx(Le.Control,{id:"emailInput",type:"email",placeholder:"Enter your email",value:t,onChange:M=>i(M.target.value),disabled:v})]}),b.jsxs(Le.Group,{className:"mb-3",children:[b.jsx(Le.Label,{htmlFor:"passwordInput",children:"Password:"}),b.jsx(Le.Control,{id:"passwordInput",type:"password",placeholder:"Enter password (min 6 characters)",value:s,onChange:M=>l(M.target.value),disabled:v})]}),b.jsxs(Le.Group,{className:"mb-3",children:[b.jsx(Le.Label,{htmlFor:"confPasswordInput",children:"Confirm Password:"}),b.jsx(Le.Control,{id:"confPasswordInput",type:"password",placeholder:"Confirm your password",value:c,onChange:M=>d(M.target.value),disabled:v})]}),b.jsxs("div",{className:"d-grid gap-2",children:[b.jsx(ot,{type:"submit",variant:"primary",disabled:v,children:v?"Creating Account...":"Sign Up"}),b.jsx(ot,{variant:"outline-danger",onClick:N,disabled:v,children:v?"Signing In...":"Sign Up with Google"})]})]}),b.jsx("div",{className:"text-center mt-4",children:b.jsx(Qr,{to:"/UserLogin",children:b.jsx(ot,{variant:"outline-dark",children:"Already have an account? Login"})})})]})})}function C6(){const{currentUser:n,userLoggedIn:e}=Tl(),t=Rv(),[i,s]=w.useState([]),[l,c]=w.useState(!0),[d,p]=w.useState("");if(w.useEffect(()=>{if(!e)return;async function M(){try{c(!0);const U=await Zg(n.uid);s(U)}catch(U){console.error(U),p("Failed to load your reviews")}finally{c(!1)}}M()},[n,e]),!e)return b.jsx("div",{style:{padding:"1rem",textAlign:"center"},children:b.jsxs(Ii,{variant:"warning",children:[b.jsx("h4",{children:"Please log in to view your profile"}),b.jsx("button",{className:"btn btn-primary",onClick:()=>t("/UserLogin"),children:"Go to Login"})]})});const g=async M=>{if(confirm("Are you sure you want to delete this review?"))try{await kd(M),s(U=>U.filter(L=>L.id!==M))}catch(U){console.error(U),alert("Failed to delete review: "+U.message)}},v=async(M,U)=>{try{await U1(M,U),s(L=>L.map(F=>F.id===M?{...F,...U}:F))}catch(L){console.error(L),alert("Failed to update review: "+L.message)}},_=i.filter(M=>M.bandName),S=i.filter(M=>M.venueName),N=i.length>0?(i.reduce((M,U)=>M+(U.rating||0),0)/i.length).toFixed(1):0;return b.jsxs(sc,{style:{padding:"1rem",marginTop:"80px"},children:[b.jsx("h1",{children:"My Profile"}),b.jsx("hr",{}),b.jsxs(ad,{className:"mb-4",style:{padding:"1rem"},children:[b.jsxs("h2",{children:[" ",n?.displayName||n?.email||"User"]}),b.jsx("p",{className:"text-muted",children:n?.email}),b.jsxs(Ag,{className:"mt-3",children:[b.jsxs(Ns,{md:3,children:[b.jsx("strong",{children:i.length}),b.jsx("div",{className:"text-muted",children:"Total Reviews"})]}),b.jsxs(Ns,{md:3,children:[b.jsx("strong",{children:_.length}),b.jsx("div",{className:"text-muted",children:"Band Reviews"})]}),b.jsxs(Ns,{md:3,children:[b.jsx("strong",{children:S.length}),b.jsx("div",{className:"text-muted",children:"Venue Reviews"})]}),b.jsxs(Ns,{md:3,children:[b.jsxs("strong",{children:[N," "]}),b.jsx("div",{className:"text-muted",children:"Avg Rating"})]})]})]}),d&&b.jsx(Ii,{variant:"danger",children:d}),b.jsx("h2",{className:"mb-3",children:"My Reviews"}),l?b.jsxs("div",{className:"text-center p-5",children:[b.jsx(Hb,{animation:"border"}),b.jsx("p",{children:"Loading your reviews..."})]}):i.length===0?b.jsxs(Ii,{variant:"info",children:[b.jsx("h4",{children:"No reviews yet!"}),b.jsx("p",{children:"Start by reviewing your favorite bands or venues."}),b.jsx("button",{className:"btn btn-primary",onClick:()=>t("/ReviewPage"),children:"Write Your First Review"})]}):b.jsx(Ag,{children:i.map(M=>b.jsx(Ns,{md:6,lg:4,children:b.jsx(Ec,{...M,onDelete:g,onUpdate:v})},M.id))})]})}function I6(){const{userLoggedIn:n}=Tl(),e=Hs(),t=async()=>{try{await b6(),e("/")}catch(i){console.error("Logout failed:",i)}};return b.jsx("div",{children:b.jsx(eh,{bg:"white",variant:"light",expand:"md",fixed:"top",children:b.jsxs(sc,{children:[b.jsx(eh.Brand,{as:Qr,to:"/",style:N6,children:"Riffrate"}),b.jsx(eh.Toggle,{"aria-controls":"main-nav"}),b.jsx(eh.Collapse,{id:"main-nav",children:b.jsxs(Rs,{className:"ms-auto",children:[b.jsx(Rs.Link,{as:Qr,to:"/",style:zo,children:"Home"}),b.jsx(Rs.Link,{as:Qr,to:"/ReviewByBand",style:zo,children:"Band Reviews"}),b.jsx(Rs.Link,{as:Qr,to:"/ReviewByVenue",style:zo,children:"Venue Reviews"}),n?b.jsxs(b.Fragment,{children:[b.jsx(Rs.Link,{as:Qr,to:"/UserProfile",style:zo,children:"Your Reviews"}),b.jsx(Rs.Link,{onClick:t,style:{...zo,cursor:"pointer"},children:"Log out"})]}):b.jsx(Rs.Link,{as:Qr,to:"/UserLogin",style:zo,children:"Log in"})]})})]})})})}const N6={fontWeight:"bold",fontSize:"50px",color:"#DD0426"},zo={fontSize:"24px",padding:"10px 20px",color:"#333"};function x6(){return b.jsxs(t3,{children:[b.jsx(I6,{}),b.jsxs(MN,{children:[b.jsx(Ra,{path:"/",element:b.jsx(n3,{})}),b.jsx(Ra,{path:"/ReviewPage",element:b.jsx(_6,{})}),b.jsx(Ra,{path:"/ReviewByBand",element:b.jsx(E6,{})}),b.jsx(Ra,{path:"/ReviewByVenue",element:b.jsx(T6,{})}),b.jsx(Ra,{path:"/UserLogin",element:b.jsx(A6,{})}),b.jsx(Ra,{path:"/UserRegister",element:b.jsx(R6,{})}),b.jsx(Ra,{path:"/UserProfile",element:b.jsx(C6,{})})]})]})}BI.createRoot(document.getElementById("root")).render(b.jsx(nx,{children:b.jsx(x6,{})}));
